{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/spectre/color.vue?3dda","webpack:///./src/components/spectre/contextmenu.vue?25b7","webpack:///src/components/spectre/color.vue","webpack:///./src/components/spectre/color.vue","webpack:///src/components/spectre/contextmenu.vue","webpack:///./src/core/event.js","webpack:///./src/components/spectre/color.vue?f061","webpack:///./src/components/spectre/contextmenu.vue","webpack:///./src/components/design/mixin/db.js","webpack:///./src/components/spectre/contextmenu.vue?19b2","webpack:///./src/components/spectre/index.js","webpack:///./src/core/undo.js","webpack:///./src/components/design/undo.js","webpack:///./src/components/design/mixin/history.js","webpack:///./src/components/design/mixin/linked-list.js","webpack:///./src/components/design/mixin/window-event-reg.js","webpack:///./src/core/design-vars.js","webpack:///./src/core/base.js","webpack:///./src/core/resize.js","webpack:///./src/components/design/index.vue","webpack:///./src/components/design/mixin/resize.js","webpack:///./src/components/design/mixin/rotate.js","webpack:///./src/components/design/mixin/move.js","webpack:///./src/components/design/mixin/render/setting.js","webpack:///./src/components/design/mixin/render/handler.js","webpack:///./src/components/design/mixin/render/guide-show.js","webpack:///./src/components/design/mixin/render/tools.js","webpack:///./src/core/color.js","webpack:///./src/core/rect-config.js","webpack:///./src/components/design/mixin/render/rect-nav.js","webpack:///./src/components/design/mixin/render/rect.js","webpack:///./src/components/design/mixin/render/rule.js","webpack:///./src/components/design/mixin/render/rect-list.js","webpack:///./src/components/design/mixin/render/page-list.js","webpack:///./src/components/design/mixin/render/circle.js","webpack:///./src/components/design/mixin/render.js","webpack:///./src/components/design/mixin/data.js","webpack:///./src/components/design/mixin/guide.js","webpack:///./src/components/design/mixin/action.js","webpack:///./src/components/design/mixin/window-event.js","webpack:///./src/components/design/mixin/hotkey.js","webpack:///./src/components/design/mixin/pageHook.js","webpack:///src/components/design/index.vue","webpack:///./src/components/design/index.vue?8bab","webpack:///./src/main.js","webpack:///./src/components/design/index.vue?0bea"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","staticRenderFns","Vue","components","isOpen","left","top","onChange","methods","open","this","size","close","created","render","style_left","style_top","e","stopPropagation","jsxProps","style_display","alert","globalColor","Ctor","$mount","document","createElement","body","appendChild","$el","props","String","disabled","type","Boolean","default","div","component","actions","height","_renderDivider","li","_renderItem","action","checkF","context","on_click","doF","_renderMain","mouseLeft","Math","min","mouseTop","on_mousedown","me","globalCase","VueObject","dbReady","dbTable","SpColor","SpContextmenu","install","forEach","com","Undo","_ee","EventEmitter","_changeRules","_init","_proxyDeep","_changes","_historys","_cursor","_historyFlag","msg","f","on","emit","cloneDeep","oldValue","ret","every","Proxy","prop","set","newProps","_checkAddChange","_addchange","join","isPlainObject","_proxy","longProp","newValue","longPropIdx","findIndex","isLongPropIn","change","canGo","history","changeObjects","getChangeObjects","canBack","forEachRight","_setLongPropValue","split","lastProp","dir","objects","isRight","JSON","stringify","_historyPush","undo","_historyBack","back","_historyGo","go","_historyCanGo","_historyCanBack","_historyWatch","watch","$data","changeRule","isObject","includes","objectId","_safeObject","_checkIsTempGroup","console","log","_dbSave","_updateCurrRectBySelected","renderHook","_linkedListAppend","parent","childrenProp","children","headId","tailId","id","head","tail","nextId","prevId","oldTail","_linkedListInsertBefore","target","insertObject","prevObject","_linkedListInsertAfter","nextObject","_linkedListRemove","_linkedListMoveUp","_linkedListMoveDown","_linkedListMoveTop","tailObject","_linkedListMoveBottom","headObject","_linkedListWalk","isDeep","_f","_parent","z","start","isNotExpand","isExpand","_linkedListGetObjects","index","tempIndex","_linkedListCheckIsParent","parentId","_parentId","windowEventListener","windowEventAdd","addEventListener","beforeDestroy","removeEventListener","computed","_dbInit","defer","Deferred","promise","localforage","createInstance","storeName","ready","keys","project","_createProjectBase","page","_createPageBase","pages","currPageId","_dbSaveItem","resolve","removeItem","getItem","merge","setItem","_dbAll","iterate","currProjectId","currProject","mounted","a","b","bodyFont","getComputedStyle","font","getTextSize","text","span","getTextWidth","style","display","position","width","innerHTML","ceil","parseFloat","getMappingRectX","rect","angle","values","ra","rb","rc","rd","point","xp","getMappingPoint","end","max","checkRectOverlap2","rect1","rect2","isOverlap","angles","some","rect1Mapping","rect2Mapping","tNumber","x","y","pow","round","getRadian","PI","getAngle","radian","getRotatePointByCenter","center","parseInt","px_0","py_0","px_1","cos","sin","py_1","getCByABAndAngle","radian2","apx","tan","bpx","cx","cy","yp","getABByPointsAndAngle","points","a2","b2","Number","MAX_VALUE","x2","y2","getAngleByTwoPoints","diffa","abs","diffb","atan","aleft","atop","bleft","btop","getEffectiveAngle","getUuid","uuidv4","selectText","element","selection","getSelection","range","createRange","selectNodeContents","removeAllRanges","addRange","getRectInfo","rectData","scale","right","bottom","leftTop","leftBottom","rightTop","rightBottom","ad","bc","rotateLeftTop","rotateLeftBottom","rotateRightTop","rotateRightBottom","rad","rbc","rotateLefts","rotateTops","minRotateLeft","maxRotateLeft","minRotateTop","maxRotateTop","getGroupSize","rects","info","ab","rlt","rrb","lt","getScalePoint","getPointsCenter","getWH","middleLeft","vars","middleTop","percentPx","str","isRightMouse","which","memoizeResolver","args","memoize","minLen","getWidthScale","newWidth","getResizeData","tempInfo","tempData","tempWidth","tempHeight","resizeAR","mx","my","widthDiff","newRlt","newCenter","newLt","wh","fixedPoint","resizeBR","rrt","rlb","newRrt","newRt","resizeCR","newRrb","resizeDR","newRlb","resizeA","heightDiff","resizeAB","newHeight","scaleH","resizeB","resizeBC","resizeNewWidth","resizeC","isSameRatio","scaleW","resizeNewHeight","resizeCD","resizeD","resizeAD","resizeADL","newRad","newAngle","resizeBCL","newRbc","resizeADRL","resizeBCRL","_resize","currRectId","mouse","resizerDir","isLine","_checkGuideOnResize","_checkIsGroupLike","_resizeGroup","_resizeLine","_resizeRect","_resizeText","fontSize","fontFamily","_resizeWidthTo","_resizeHeightTo","resizeF","isAngleLock","resizeRes","_updateRectData","_scaleGroupRectR","rectInfo","_scaleGroupRectWOrH","group","fixed","groupData","groupTempInfo","groupAngle","angleDiff","is180","is90","is270","dis","disDiff","dis2","dis2Diff","_scaleGroupR","_getRectById","_updateGroupState","_resizeGroupWithRes","_getGroupSize","cd","groupSize","shiftKey","_resizeTo","isGroupLike","_rotate","mousePoint","oldAngle","nowAngle","_checkGuideOnRotate","_rotateGroup","_rotateRect","_rotateTo","groupId","_updateGroupSize","groupCenter","_move","isCheck","_checkGuideOnMove","isShift","_moveGroup","_moveRect","_moveTo","_moveLeftTo","_moveTopTo","jsx","input","select","option","label","_renderSetting","_getSelectedRects","isTempGroup","isText","isAutoSize","isLock","getInputJsxProps","domProps_value","domProps_type","props_value","domProps_disabled","props_disabled","_updateRectTempData","_flashHandler","color","hex8","$align","align","_actionRectAlignLeft","leftRight","_actionRectAlignLeftRight","_actionRectAlignRight","_actionRectAlignTop","topBottom","_actionRectAlignTopBottom","_actionRectAlignBottom","equalSpaceX","_actionRectEqualSpaceX","equalSpaceY","_actionRectEqualSpaceY","_actionCanRectEqualSpace","$left","intValue","$top","$width","$height","$angle","$isSameRatio","domProps_checked","$isAngleLock","$borderWidth","borderWidth","$borderStyle","$borderColor","$backgroundColor","$color","$isAutoSize","$fontSize","domProps_min","$fontAlignX","$fontAlignY","$opacity","domProps_max","_updateCurrRectOpacity","_renderHandler","mousedown","event","$emit","resizerJsx","aResizer","eventType","abResizer","bResizer","style_right","bcResizer","cResizer","style_bottom","cdResizer","dResizer","adResizer","resizer","rotater","_getRectBaseJsxProps","handler","show","_renderGuideShow","Array","from","guide","map","button","buttonJsxProps","vIcon","_renderToolsButton","iconType","_actionGet","props_name","_renderTools","_renderRule","blue","red","gray","white","black","base","zIndex","backgroundColor","borderRadius","borderStyle","borderColor","opacity","textAlignX","textAlignY","isEdit","isNameEdit","circle","tempGroup","border","line","_renderRectNav","retTags","createType","rectConfig","_renderRect","isCurrRect","isHoverRect","hoverRectId","selectedRects","rectType","_focusRect","_showContextmenu","_hoverRect","_hoverOffRect","ing","_renderRectInner","textJsxProps","style_cursor","ref","attrs_contenteditable","style_transform","on_blur","_hotkeyOn","on_focus","_hotkeyOff","$refs","defaultText","on_input","setTimeout","focus","_renderRects","currPage","_getRectsByPageDeep","_checkIsRectLike","configContext","strokeStyle","n2","getMiddleData","$middle","middle","dom","scrollTop","scrollLeft","_renderTopRule","rule","topRule","middleData","className","getContext","clearRect","beginPath","moveTo","lineTo","fillText","stroke","_renderLeftRule","leftRule","save","textAlign","textBaseline","translate","rotate","restore","_renderRectListItem","isHover","paddingLeft","innerJsxProps","rectItemInput","on_change","blur","_updateHoverRect","_getGroupByRect","_renderRectList","vdoms","temp","reverse","vdom","_renderPageListItem","pageData","currPageIsParent","paddingLeftAll","isDrag","pageInput","_updateCurrPage","_renderPageList","timer","on_mouseover","setInterval","pageList","on_mouseout","clearInterval","_renderCircle","_getCircleSize","style_width","style_height","_renderLoading","h","isCircle","class_proto","_blurRect","tempGroupId","clipboard","count","currRect","_parseLongProp","isNull","undefined","isDelete","_createProject","projectId","_createPage","_removePage","_createRect","_createRectByConfig","config","isArray","_createRectBase","_bindGroup","pageId","_checkIsGroup","_cloneRectDeep","_getRectsByGroup","_getObjectsByParentId","_getTempGroupByRect","sortRects","Set","groups","add","_group","topRect","sort","_removeRectById","_unbindGroup","_bindTempGroup","_unbindTempGroup","_unbindTempGroupSome","_getTempGroup","_checkIsPage","indexOf","_updateAllRectsTempData","_getRectsByRectDeep","isSyncParent","k","v","isRotate","groupIds","_addSelectedRect","_removeSelectedRect","_clearSelectedRects","unLockRects","_getUnLockRectsBySelected","_updateCurrRect","_updateGuide","_getLockRectsBySelected","filter","rectId","isRest","isDblclick","isShiftkey","isGroupOpen","groupIsOpen","closeGroup","_getMousePoint","querySelector","clientX","clientY","parentOpacity","style_opacity","clearTimeout","startLeft","currLeft","startTop","currTop","_walkCurrPageRects","_focusRectWhenCircle","actionTypes","actionType","$contextmenu","_clearGuideLine","_checkRectPointGuide","pointInfo","guideLeft","guideTop","guideShowLeft","guideShowTop","nowInfo","nowPoint","oldPoint","isStop","newPoint","checkInGuide","num","g","isIn","isInGuide","_clearGuideShow","actionMap","hotkey","_actionPageCreate","_actionGetInfo","isGroup","_actionCanPageDelete","cannot","_actionPageDelete","_actionRectKeyupMove","_actionRectKeydownMove","_actionRectKeyleftMove","_actionRectKeyrightMove","_actionRectSelectAll","_actionCanGroup","_actionGroup","newGroup","_actionCanUnGroup","_actionUnGroup","_actionRectDelete","_actionRectCopy","_actionRectCut","_actionCanRectPaste","_actionRectPaste","pasteCount","moveDis","_actionCanCurrRect","_actionRectMoveUp","_actionRectMoveDown","_actionRectMoveTop","_actionRectMoveBottom","_actionCanRectLock","_actionCanRectUnLock","_actionRectLock","_actionRectUnLock","_actionCanRectAlign","tempGroupLeft","moveLeft","tempGroupCenterLeft","tempGroupRight","tempGroupTop","moveTop","tempGroupCenterTop","tempGroupBottom","tempGroupWidth","rectsWidth","perSpace","tempGroupHeight","rectsHeight","_actionSetHotKey","_hotkey","preventDefault","realIng","mousemove","mouseup","$on","isff","navigator","userAgent","toLowerCase","keyMap","backspace","tab","clear","enter","return","esc","escape","space","up","down","del","delete","ins","insert","home","pageup","pagedown","capslock","'","modifier","alt","ctrl","control","cmd","command","code","trim","toUpperCase","charCodeAt","keydown","keyup","_hotkeyCode","_hotkeyEvent","tagName","modifierInfo","ctrlKey","altKey","metaKey","modifiers","mk","hotkeyCode","keyCode","hotkeyObject","_onPageShow","_onPageHide","to","path","mixins","use","Spectre","VueRouter","Icon","productionTip","routes","Design","router"],"mappings":"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","file":"js/app.0f198fac.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/proto/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../../node_modules/.0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/.3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/.15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/.8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./color.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/.0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/.3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/.15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/.8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./color.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/.0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/.3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/.15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/.8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./contextmenu.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/.0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/.3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/.15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/.8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./contextmenu.vue?vue&type=style&index=0&lang=scss&\"","<style lang=\"scss\">\n.sp-color{\n  width: 18px!important;\n  height: 18px!important;\n  border: 1px solid #bcc3ce;\n  position: relative;\n  cursor: pointer;\n  margin: 5px;\n}\n.sp-color-alert{\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n</style>\n<script>\nimport Vue from 'vue'\nimport jsx from 'vue-jsx'\nimport { Sketch } from 'vue-color'\nimport event from '@/core/event'\nlet {\n  div,\n  a,\n} = jsx\nlet SpColorAlert = {\n  components: {\n    'sketch-picker': Sketch,\n  },\n  data () {\n    return {\n      value: '#ffffff',\n      isOpen: false,\n      left: 0,\n      top: 0,\n      onChange: () => {},\n    }\n  },\n  methods: {\n    open (\n      value, \n      size, \n      onChange\n    ) {\n      this.value = value\n      this.onChange = onChange\n      this.left = size.left\n      this.top = size.top\n      this.isOpen = true\n    },\n    close () {\n      this.isOpen = false\n    },\n  },\n  created () {\n    event.$on('windowMouseDown', () => {\n      this.close()\n    })\n  },\n  render (h) {\n    jsx.h = h\n    let me = this\n    let jsxProps = {\n      'class_sp-color-alert': true,\n      'class_card': true,\n      style_left: (this.left - 260) + 'px',\n      style_top: this.top + 'px',\n      'on_click' (e) {\n        e.stopPropagation()\n      },\n      'on_mousedown' (e) {\n        e.stopPropagation()\n      }\n    }\n    if (!this.isOpen){\n      jsxProps = {\n        ...jsxProps,\n        style_display: 'none',\n      }\n    }\n    let alert = div(jsxProps,\n      div('.card-header',\n        a('.btn btn-clear float-right', {\n          'attrs_aria-label':'Close',\n          on_click (e) {\n            me.close()\n            e.stopPropagation()\n          }\n        }),\n        div('.card-title', ''),\n      ),\n      div({\n        'class_card-body': true,\n      },\n        jsx.bind('sketch-picker')({\n          props_value: this.value,\n          on_input (value) {\n            me.onChange(value)\n          }\n        })\n      ),\n    )\n    return alert\n  }\n}\nlet globalColor\nlet openGlobalColor = (\n  value, \n  size, \n  onChange\n) => {\n  if (!globalColor){\n    let Ctor = Vue.extend(SpColorAlert)\n    globalColor = new Ctor\n    globalColor.$mount(document.createElement('div'))\n    document.body.appendChild(globalColor.$el)\n  }\n  globalColor.open(value, size, onChange)\n}\nlet SpColor = {\n  name: 'SpColor',\n  props: {\n    value: String,\n    disabled: {\n      type: Boolean,\n      default: false,\n    }\n  },\n  render (h) {\n    jsx.h = h\n    let me = this\n    let jsxProps = {\n      'class_sp-color': true,\n      'style_background-color': this.value, \n    }\n    if (!this.disabled){\n      jsxProps = {\n        ...jsxProps,\n        'on_click' (e) {\n          e.stopPropagation()        \n          let rect = me.$el.getClientRects()[0]\n          openGlobalColor(\n            me.value, \n            {left: rect.x, top: rect.y},\n            (color) => {\n              me.$emit('change', color)\n            }\n          )\n        }\n      }\n    }\n    return div(jsxProps)\n  }\n}\nexport default SpColor\n</script>","var render, staticRenderFns\nimport script from \"./color.vue?vue&type=script&lang=js&\"\nexport * from \"./color.vue?vue&type=script&lang=js&\"\nimport style0 from \"./color.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<style lang=\"scss\">\n@import \"@/core/vars.scss\";\n.contextmenu { \n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.contextmenu-item-disalbed {\n  color: $gray;\n  a {\n    cursor: default!important;\n    &:hover {\n      color: $gray!important;\n      background: $white!important;\n    }\n  }\n}\n</style>\n<script>\nimport Vue from 'vue'\nimport jsx from 'vue-jsx'\nimport event from '@/core/event'\nlet { div, li, a } = jsx\nlet SpContextmenu = {\n  name: 'SpContextMenu',\n  props: {\n\n  },\n  data () {\n    return {\n      isOpen: false,\n      actions: [],\n      e: {},\n      height: 0,\n    }\n  },\n  methods: {\n    open (\n      e, \n      height, \n      actions\n    ) {\n      this.isOpen = true\n      this.e = e\n      this.height = height\n      this.actions = actions\n    },\n    close () {\n      this.isOpen = false\n    },\n    _renderDivider () {\n      return li('.divider')\n    },\n    _renderItem (action) {\n      if (!action) {\n        return this._renderDivider()\n      }\n      let { checkF, doF, text, context } = action\n      let jsxProps = {}\n      if (checkF.call(context)) {\n        jsxProps = {\n          on_click () {\n            doF.call(context)\n          }\n        }\n      }\n      else {\n        jsxProps = {\n          'class_contextmenu-item-disalbed': true,\n        }\n      }\n      return li('.menu-item',\n        jsxProps,\n        a({\n          attrs_href: 'javascript:;'\n        }, text)\n      )\n    },\n    _renderMain () {\n      let me = this\n      // \n      let windowWidth = window.innerWidth\n      let windowHeight = window.innerHeight\n      // contextmenu \n      let width = 180\n      let height = this.height\n      // \n      let e = this.e\n      let mouseLeft = e.clientX\n      let mouseTop = e.clientY\n      mouseLeft = Math.min(\n        mouseLeft, \n        windowWidth - width - 10\n      )\n      mouseTop = Math.min(\n        mouseTop, \n        windowHeight - height - 10\n      )\n      let children = this.actions.map(\n        action => this._renderItem(action)\n      )\n      let jsxProps = {\n        style_left: mouseLeft + 'px',\n        style_top: mouseTop + 'px',\n        key: 'contextmenu',\n        on_mousedown (e) {\n          e.stopPropagation()\n        },\n        on_click () {\n          me.close()\n        },\n      }\n      if (!this.isOpen) {\n        jsxProps = {\n          ...jsxProps,\n          style_display: 'none',\n        }\n      }\n      return div('.contextmenu menu',\n        jsxProps,\n        ...children,\n      )\n    },\n  },\n  created () {\n    event.$on('windowMouseDown', () => {\n      this.close()\n    })\n  },\n  render (h) {\n    jsx.h = h\n    return this._renderMain()\n  }\n}\nlet globalCase\nVue.prototype.$contextmenu = (...args) => {\n  if (!globalCase) {\n    let VueObject = Vue.extend(SpContextmenu)\n    globalCase = new VueObject\n    globalCase.$mount(document.createElement('div'))\n    document.body.appendChild(globalCase.$el)\n  }\n  globalCase.open(...args)\n}\nexport default SpContextmenu\n</script>","import Vue from 'vue'\nexport default new Vue","import mod from \"-!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.2.1.3@thread-loader/dist/cjs.js!../../../node_modules/.8.1.0@babel-loader/lib/index.js!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./color.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.2.1.3@thread-loader/dist/cjs.js!../../../node_modules/.8.1.0@babel-loader/lib/index.js!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./color.vue?vue&type=script&lang=js&\"","var render, staticRenderFns\nimport script from \"./contextmenu.vue?vue&type=script&lang=js&\"\nexport * from \"./contextmenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./contextmenu.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import localforage from 'localforage'\nimport { \n  merge,\n  cloneDeep,\n} from 'lodash'\nimport Deferred from 'vue-deferred'\nlet dbReady\nlet dbTable\nexport default {\n  computed: {\n  },\n  methods: {\n    async _dbInit () {\n      if (dbReady) {\n        return\n      }\n      let defer = Deferred()\n      dbReady = defer.promise\n      dbTable = localforage.createInstance({\n        name: 'proto-design',\n        storeName: 'object',\n      })\n      await dbTable.ready()\n      let keys = await dbTable.keys()\n      // \n      if (!keys.length) {\n        console.log('database init')\n        let project = this._createProjectBase()\n        let page = this._createPageBase(project.id)\n        project.pages.headId = page.id\n        project.currPageId = page.id\n        await this._dbSaveItem(project.id, project)\n        await this._dbSaveItem(page.id, page)\n        console.log('database init over')\n      }\n      defer.resolve()\n    },\n    async _dbSaveItem (id, value) {\n      value = cloneDeep(value)\n      await dbTable.ready()\n      if (!value) {\n        await dbTable.removeItem(id)\n      }\n      else {\n        let oldValue = await dbTable.getItem(id) || {}\n        let newValue = merge(oldValue, value)\n        if (newValue.type) {\n          await dbTable.setItem(id, newValue)\n        }\n      }\n    },\n    async _dbSave (objects) {\n      for (let id in objects) {\n        await this._dbSaveItem(id, objects[id])\n      }\n    },\n    async _dbAll () {\n      console.log('...')\n      await dbReady\n      await dbTable.iterate((value, key) => {\n        this.objects[key] = value\n        if (value.type === 'project') {\n          this.currProjectId = value.id\n        }\n      })\n      this.currPageId = this.currProject.currPageId\n      this._historyWatch()\n      console.log('')\n    },\n  },\n  created () {\n    this._dbInit()\n    this._dbAll()\n  },\n  async mounted () {\n  }\n}","import mod from \"-!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.2.1.3@thread-loader/dist/cjs.js!../../../node_modules/.8.1.0@babel-loader/lib/index.js!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./contextmenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.2.1.3@thread-loader/dist/cjs.js!../../../node_modules/.8.1.0@babel-loader/lib/index.js!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./contextmenu.vue?vue&type=script&lang=js&\"","import SpColor from './color'\nimport SpContextmenu from './contextmenu'\nlet components = [\n  SpColor,\n  SpContextmenu,\n]\nlet install = (Vue) => {\n  components.forEach(com => {\n    Vue.component(com.name, com)\n  })\n}\nexport default {\n  install,\n}\n","import { \n  cloneDeep,\n  forEachRight,\n  forEach,\n  isPlainObject,\n } from 'lodash'\n import EventEmitter from 'events'\nclass Undo {\n  constructor (object = {}) {\n    this._ee = new EventEmitter()\n    this._changeRules = []\n    this._init(object)\n  }\n  _init (object) {\n    this.data = this._proxyDeep(object)\n    this._changes = []\n    this._historys = []\n    this._cursor = -1\n    this._historyFlag = false\n  }\n  watch (object) {\n    this._init(object)\n    return this\n  }\n  on (msg, f) {\n    this._ee.on(msg, f)\n    return this\n  }\n  emit (msg, data) {\n    this._ee.emit(msg, data)\n    return this\n  }\n  getHistorys () {\n    return cloneDeep(this._historys)\n  }\n  getChanges () {\n    return cloneDeep(this._changes)\n  }\n  getCursor () {\n    return this._cursor\n  }\n  changeRule (f) {\n    this._changeRules.push(f)\n    return this\n  }\n  //  change \n  _checkAddChange (context) {\n    if (this._historyFlag) {\n      return false\n    }\n    if (context.value === context.oldValue) {\n      return false\n    }\n    let ret = true\n    this._changeRules.every(f => {\n      if (f(context) === false) {\n        ret = false\n        return false\n      }\n    })\n    return ret\n  }\n  _proxy (object, props) {\n    let me = this\n    return new Proxy(object, {\n      get (object, prop) {\n        return object[prop]\n      },\n      set (object, prop, value) {\n        let newProps = [...props, prop]\n        let oldValue = object[prop]\n        let data = {\n          object,\n          prop,\n          value,\n          oldValue,\n          props: newProps,\n        }\n        if (me._checkAddChange(data)) {\n          me._addchange(newProps.join('.'), oldValue, value)\n        }\n        object[prop] = isPlainObject(value) ? \n          me._proxyDeep(value, newProps) : \n          value\n        me.emit('valueSet', data)\n        return true\n      }\n    })\n  }\n  _proxyDeep (object, props = []) {\n    if (!isPlainObject(object)) {\n      return\n    }\n    for (let key in object) {\n      if (isPlainObject(object[key])) {\n        object[key] = this._proxyDeep(object[key], [...props, key])\n      }\n    }\n    return this._proxy(object, props)\n  }\n  _addchange (longProp, oldValue, newValue) {\n    oldValue = cloneDeep(oldValue)\n    newValue = cloneDeep(newValue)\n    let longPropIdx = this._changes.findIndex(\n      o => o.longProp === longProp\n    )\n    let isLongPropIn = longPropIdx !== -1\n    if (isLongPropIn) {\n      let change = this._changes[longPropIdx]\n      change.newValue = newValue\n      // \n      this._changes.splice(longPropIdx, 1)\n      if (newValue !== change.oldValue) {\n        this._changes.push(\n          change\n        )\n      }\n    }\n    else {\n      this._changes.push({\n        longProp,\n        oldValue,\n        newValue,\n      })\n    }\n  }\n  push () {\n    if (!this._changes.length) {\n      return\n    }\n    if (this.canGo()) {\n      this._historys = this._historys.slice(0, this._cursor + 1)\n    }\n    let history = this._changes\n    this._historys.push(history)\n    this._changes = []\n    this._cursor ++\n    let changeObjects = this.getChangeObjects(history)\n    this.emit('history', changeObjects)\n    this.emit('push', changeObjects)\n    return this\n  }\n  back () {\n    if (!this.canBack()) {\n      return\n    }\n    let history = this._historys[this._cursor --]\n    forEachRight(history, change => {\n      let { longProp, oldValue } = change\n      this._setLongPropValue(longProp, oldValue)\n    })\n    let changeObjects = this.getChangeObjects(history, 'left')\n    this.emit('history', changeObjects)\n    this.emit('back', changeObjects)\n    return this\n  }\n  go () {\n    if (!this.canGo()) {\n      return\n    }\n    let history = this._historys[++ this._cursor]\n    forEach(history, change => {\n      let { longProp, newValue } = change\n      this._setLongPropValue(longProp, newValue)\n    })\n    let changeObjects = this.getChangeObjects(history)\n    this.emit('history', changeObjects)\n    this.emit('go', changeObjects)\n    return this\n  }\n  canGo () {\n    return this._cursor < this._historys.length - 1\n  }\n  canBack () {\n    return this._cursor > -1\n  }\n  _setLongPropValue (longProp, value) {\n    value = cloneDeep(value)\n    this._historyFlag = true\n    let props = longProp.split('.')\n    let lastProp = props.slice(-1)[0]\n    let object = this.data\n    props.slice(0, -1).forEach(prop => {\n      object = object[prop]\n    })\n    object[lastProp] = value\n    this._historyFlag = false\n  }\n  // right left \n  getChangeObjects (history, dir = 'right') {\n    history = cloneDeep(history)\n    let objects = {}\n    let isRight = dir === 'right'\n    let f = isRight ? forEach : forEachRight\n    f(history, change => {\n      let { longProp, oldValue, newValue } = change\n      let object = objects\n      let props = longProp.split('.')\n      let lastProp = props.slice(-1)[0]\n      props.slice(0, -1).forEach(prop => {\n        if (!(prop in object)) {\n          object[prop] = {}\n        }\n        object = object[prop]\n      })\n      object[lastProp] = isRight ? newValue : oldValue\n    })\n    return objects\n  }\n  toString () {\n    return JSON.stringify(this.data)\n  }\n}\nexport default Undo","import Undo from '@/core/undo'\nexport default new Undo","import undo from '../undo'\nexport default {\n  methods: {\n    _historyPush() {\n      undo.push()\n    },\n    _historyBack () {\n      undo.back()\n    },\n    _historyGo () {\n      undo.go()\n    },\n    _historyCanGo () {\n      return undo.canGo()\n    },\n    _historyCanBack () {\n      return undo.canBack()\n    },\n    _historyWatch () {\n      undo.watch(this.$data)\n        .changeRule(context => {\n          //  this.objects \n          let isObject = context.props[0] === 'objects'\n          if (!isObject) {\n            return false\n          }\n          //  data.isOpen, tempIndex, tempData, tempGroupId\n          if (['isOpen', 'tempIndex', 'tempData', 'tempGroupId'].includes(context.prop)) {\n            return false\n          }\n          //  tempGroup\n          let objectId = context.props[1]\n          let object = this._safeObject(objectId)\n          if (object && this._checkIsTempGroup(this._safeObject(objectId))) {\n            return false\n          }\n        })\n        .on('history', (objects) => {\n          console.log('history change', objects)\n          this._dbSave(objects.objects)\n          this._updateCurrRectBySelected()\n          this.renderHook ++\n        })\n        // .on('push', () => console.log('undo push'))\n        // .on('go', () => console.log('undo go'))\n        // .on('back', () => console.log('undo back'))\n    },\n  },\n}","let _linkedListAppend = function (\n  parent, \n  object, \n  childrenProp = 'rects'\n) {\n  let children = parent[childrenProp]\n  if (!children.headId){\n    parent[childrenProp]['headId'] = object.id\n    return\n  }\n  if (!children.tailId){\n    parent[childrenProp]['tailId'] = object.id\n    let head = this.objects[children.headId]\n    let tail = this.objects[children.tailId]\n    head.nextId = tail.id\n    tail.prevId = head.id\n    return\n  }\n  let oldTail = this.objects[children.tailId]\n  parent[childrenProp]['tailId'] = object.id\n  oldTail.nextId = object.id\n  object.prevId = oldTail.id\n}\nlet _linkedListInsertBefore = function (\n  parent, \n  target, \n  insertObject, \n  childrenProp = 'rects'\n) {\n  let prevId = target.prevId\n  let prevObject = this.objects[prevId]\n  let children = parent[childrenProp]\n\n  if (prevId){\n    insertObject.prevId = prevId\n    prevObject.nextId = insertObject.id\n  }\n  else {\n    parent[childrenProp].headId = insertObject.id\n    if (!children.tailId){\n      parent[childrenProp].tailId = target.id\n    }\n  }\n  insertObject.nextId = target.id\n  target.prevId = insertObject.id\n}\nlet _linkedListInsertAfter = function (\n  parent, \n  target, \n  insertObject, \n  childrenProp = 'rects'\n) {\n  let nextId = target.nextId\n  let nextObject = this.objects[nextId]\n\n  if (nextId){\n    insertObject.nextId = nextId\n    nextObject.prevId = insertObject.id\n  }\n  else {\n    parent[childrenProp].tailId = insertObject.id\n  }\n  insertObject.prevId = target.id\n  target.nextId = insertObject.id\n}\nlet _linkedListRemove = function (\n  parent, \n  object, \n  childrenProp = 'rects'\n) {\n  let children = parent[childrenProp]\n  let prevId = object.prevId\n  let nextId = object.nextId\n  object.nextId = ''\n  object.prevId = ''\n  if (prevId){\n    let prevObject = this.objects[prevId]\n    prevObject.nextId = nextId\n  }\n  else {\n    parent[childrenProp].headId = nextId\n  }\n\n  if (nextId){\n    let nextObject = this.objects[nextId]\n    nextObject.prevId = prevId\n  }\n  else {\n    parent[childrenProp].tailId = prevId\n  }\n\n  if (children.tailId === children.headId){\n    parent[childrenProp].tailId = ''\n    // this._commandObjectPropUpdate(parent, `${childrenProp}.tailId`, '')\n  }\n}\nlet _linkedListMoveUp = function (\n  parent, \n  target, \n  childrenProp = 'rects'\n) {\n  let nextId = target.nextId\n  // \n  if (!nextId){\n    return\n  }\n  let nextObject = this.objects[nextId]\n  this._linkedListRemove(parent, target, childrenProp)\n  this._linkedListInsertAfter(parent, nextObject, target, childrenProp)\n}\nlet _linkedListMoveDown = function (\n  parent, \n  target, \n  childrenProp = 'rects'\n) {\n  let prevId = target.prevId\n  // \n  if (!prevId){\n    return\n  }\n  let prevObject = this.objects[prevId]\n  this._linkedListRemove(parent, target, childrenProp)\n  this._linkedListInsertBefore(parent, prevObject, target, childrenProp)\n}\nlet _linkedListMoveTop = function (\n  parent, \n  target, \n  childrenProp = 'rects'\n) {\n  let children = parent[childrenProp]\n  let tailId = children.tailId\n  if (!tailId || (tailId === target.id)){\n    return\n  }\n  let tailObject = this.objects[tailId]\n  this._linkedListRemove(parent, target, childrenProp)\n  this._linkedListInsertAfter(parent, tailObject, target, childrenProp)\n}\nlet _linkedListMoveBottom = function (\n  parent, \n  target, \n  childrenProp = 'rects'\n) {\n  let children = parent[childrenProp]\n  let headId = children.headId\n  if (headId === target.id){\n    return\n  }\n  let headObject = this.objects[headId]\n  this._linkedListRemove(parent, target, childrenProp)\n  this._linkedListInsertBefore(parent, headObject, target, childrenProp)\n}\nlet _linkedListWalk = function (\n  parent, \n  childrenProp = 'rects', \n  f, \n  isDeep = true\n) {\n  let _f = (_parent, z = 0) => {\n    let start = this.objects[_parent[childrenProp].headId]\n    while (start){\n      f(start, z)\n      let isNotExpand = start.data.isExpand === false\n      if (isDeep && !isNotExpand && start[childrenProp] && start[childrenProp]['headId']){\n        _f(start, z + 1)\n      }\n      start = this.objects[start.nextId]\n    }\n  }\n  _f(parent)\n}\nlet _linkedListGetObjects = function (\n  parent, \n  childrenProp = 'rects'\n) {\n  let objects = []\n  let index = 0\n  this._linkedListWalk(parent, childrenProp, (object) => {\n    object.tempIndex = index ++\n    objects.push(object)\n  })\n  return objects\n}\n//  parentId  object\nlet _linkedListCheckIsParent = function (\n  parent, \n  object\n) {\n  let parentId = parent.id\n  let _parentId = object.parentId\n  while (_parentId){\n    if (_parentId === parentId) {\n      return true\n    }\n    _parentId = this.objects[_parentId].parentId\n  }\n  return false\n}\nexport default {\n  methods: {\n    _linkedListInsertBefore,\n    _linkedListInsertAfter,\n    _linkedListRemove,\n    _linkedListAppend,\n    _linkedListGetObjects,\n    _linkedListMoveUp,\n    _linkedListMoveDown,\n    _linkedListMoveTop,\n    _linkedListMoveBottom,\n    _linkedListWalk,\n    _linkedListCheckIsParent,\n  }\n}","export default {\n  data () {\n    return {\n      windowEventListener: {},\n    }\n  },\n  methods: {\n    windowEventAdd (\n      type, \n      f\n    ) {\n      window.addEventListener(type, f)\n      if (!(type in this.windowEventListener)){\n        this.windowEventListener[type] = []\n      }\n      this.windowEventListener[type].push(f)\n    }\n  },\n  beforeDestroy () {\n    for (let type in this.windowEventListener){\n      this.windowEventListener[type].forEach(f => {\n        window.removeEventListener(type, f)\n      })\n    }\n  },\n}","// \nlet a = 54\n// \nlet b = 200\n// \nlet c = 16\n// \nlet d = 200\n\nexport default {\n  a,\n  b,\n  c,\n  d,\n}","import {\n  v4 as uuidv4,\n} from  'uuid'\nimport {\n  memoize,\n} from 'lodash'\nimport vars from '@/core/design-vars'\nlet empty = () => {}\nlet sum = (sum, n) => sum + n\nlet bodyFont = window.getComputedStyle(document.body).font\nlet getTextSize = (\n  text, \n  font = bodyFont\n) => {\n  let span = getTextWidth.span\n  if (!span) {\n    span = getTextWidth.span = document.createElement('div')\n    span.style.display = 'inline-block'\n    let div = document.createElement('div')\n    div.style.display = 'block'\n    div.style.position = 'absolute'\n    div.style.top = '-10000px'\n    div.style.left = '200px'\n    div.style.width = '100000px'\n    div.appendChild(span)\n    document.body.appendChild(div)\n  }\n  span.style.font = font\n  span.innerHTML = text\n  let style = window.getComputedStyle(span)\n  return {\n    width: Math.ceil(parseFloat(style.width)),\n    height: Math.ceil(parseFloat(style.height)),\n  }\n}\nlet getTextWidth = (\n  text, \n  font = bodyFont\n) => {\n  return getTextSize(text, font).width\n}\nlet checkRectOverlap = (\n  r1, \n  r2\n) => {\n  // \n  // \n  let width = Math.abs(Math.max(r1.right, r2.right) - Math.min(r1.left, r2.left))\n  let height = Math.abs(Math.max(r1.bottom, r2.bottom) - Math.min(r1.top, r2.top))\n\n  // \n  let rectMaxWidth = r1.width + r2.width\n  let rectMaxHeight = r1.height + r2.height\n\n  // \n  return (width < rectMaxWidth) && (height < rectMaxHeight)\n}\n//  x \nlet getMappingRectX = (\n  rect, \n  angle\n) =>{\n  let values = []\n  let {ra, rb, rc, rd} = rect\n  ;[ra, rb, rc, rd].forEach(point =>{\n      let xp = getMappingPoint(point, angle).xp\n      values.push(xp)\n  })\n  let start = Math.min.apply(null, values)\n  let end = Math.max.apply(null, values)\n  return {\n      start,\n      end,\n      length: end- start,\n  }\n}\nlet checkRectOverlap2 = (\n  rect1, \n  rect2\n) => {\n  let isOverlap = true\n  let angles = [\n    rect1.angle, \n    rect1.angle + 90,\n    rect2.angle,\n    rect2.angle + 90\n  ]\n  // \n  // https://www.cnblogs.com/demodashi/p/8476761.html\n  angles.some(angle => {\n    let rect1Mapping = getMappingRectX(rect1, angle)\n    let rect2Mapping = getMappingRectX(rect2, angle)\n    if (Math.max(rect1Mapping.end, rect2Mapping.end) - Math.min(rect1Mapping.start, rect2Mapping.start) > (rect1Mapping.length +rect2Mapping.length) ) {\n      isOverlap = false\n      return true\n    }\n  })\n  return isOverlap\n}\nlet tNumber = (\n  n, \n  x = 2\n) => {\n  let y = Math.pow(10, x)\n  return Math.round(n * y) / y\n}\nlet getRadian = (angle) => {\n  return angle * (Math.PI / 180)\n}\n// getRadian \nlet getAngle = (radian) => {\n  return radian / Math.PI * 180\n}\n// https://blog.csdn.net/sinat_33425327/article/details/78333946\n// center: \n// point: \n// angle: \n// type or true or false\nlet getRotatePointByCenter = (\n  center, \n  point, \n  angle, \n  type = true\n) => {\n  angle = parseInt(angle)\n  \n  // \n  if (!type){\n    angle = 360 - angle\n  }\n  let radian = getRadian(angle)\n\n  let px_0 = point.left - center.left\n  let py_0 = center.top - point.top\n\n  let px_1 = Math.cos(radian) * px_0 + Math.sin(radian) * py_0\n  let py_1 = Math.cos(radian) * py_0 - Math.sin(radian) * px_0\n\n  return {\n    left: tNumber(px_1 + center.left),\n    top: tNumber(center.top - py_1),\n  }\n}\n// a,baalangle\n// bblalcc\nlet getCByABAndAngle = (\n  a, \n  b, \n  angle\n) => {\n  if (angle % 180 === 0){\n    return {\n      left: a.left,\n      top: b.top,\n    }\n  }\n  let radian = getRadian(angle)\n  let radian2 = getRadian(90 - angle)\n  let apx = a.left + Math.tan(radian) * a.top\n  let bpx = b.left - Math.tan(radian2) * b.top\n  let cx = bpx + Math.cos(radian) * Math.cos(radian) * (apx - bpx)\n  let cy = Math.sin(radian) * Math.cos(radian) * (apx - bpx)\n  return {\n    left: tNumber(cx),\n    top: tNumber(cy),\n  }\n}\n//  point  angle\n//  angle  L  x \n//  L  y \nlet getMappingPoint = (\n  point, \n  angle\n) => {\n  let radian = getRadian(angle)\n  return {\n    xp: point.left + Math.tan(radian) * point.top,\n    yp: point.top - Math.tan(radian) * point.left,\n  }\n}\n//  angle\n//  angle  L  x  a a2\n//  L  y  b b2\nlet getABByPointsAndAngle = (\n  points, \n  angle\n) => {\n  let a, b, a2, b2\n  let x = Number.MAX_VALUE\n  let y = x\n  let x2 = -x\n  let y2 = -y\n\n  points.forEach(p => {\n    let {xp, yp} = getMappingPoint(p, angle)\n\n    if (xp < x){\n      x = xp\n      a = p\n    }\n\n    if (xp >= x2){\n      x2 = xp\n      a2 = p\n    }\n\n    if (yp < y){\n      y = yp\n      b = p\n    }\n\n    if (yp >= y2){\n      y2 = yp\n      b2 = p\n    }\n  })\n\n  return {a, b, a2, b2}\n}\n//  rotate \n//  a  b \nlet getAngleByTwoPoints = (\n  a, \n  b\n) => {\n  let diffa = Math.abs(tNumber(a.left) - tNumber(b.left))\n  let diffb = Math.abs(tNumber(b.top) - tNumber(a.top))\n\n  let angle = getAngle(\n    Math.atan(diffa / diffb)\n  )\n\n  let aleft = a.left\n  let atop = a.top\n  let bleft = b.left\n  let btop = b.top\n\n  if ( (aleft > bleft) && (atop <= btop) ){\n    // \n  }\n  else if ( (aleft >= bleft) && (atop > btop) ){\n    angle = 180 - angle\n  }\n  else if ( (aleft < bleft) && (atop >= btop) ){\n    angle += 180\n  }\n  else {\n    angle = 360 - angle\n  }\n\n  return angle % 360\n}\nlet getEffectiveAngle = (angle) => {\n  return angle % 360\n}\nlet getUuid = () => {\n  return uuidv4()\n}\nlet selectText = (element) => {\n  let selection = window.getSelection()\n  let range = document.createRange()\n  range.selectNodeContents(element)\n  selection.removeAllRanges()\n  selection.addRange(range)\n}\nlet getRectInfo = (\n  rectData, \n  scale = 1\n) => {\n  let { left, top, width, height, angle } = rectData\n  left *= scale\n  top *= scale\n  width *= scale\n  height *= scale\n  let right = left + width\n  let bottom = top + height\n  let center = {\n    left: tNumber(left + width / 2),\n    top: tNumber(top + height / 2),\n  }\n  let leftTop = {\n    left,\n    top,\n  }\n  let a = leftTop\n  let leftBottom = {\n    left,\n    top: bottom,\n  }\n  let d = leftBottom\n  let rightTop = {\n    left: right,\n    top,\n  }\n  let b = rightTop\n  let rightBottom = {\n    left: right,\n    top: bottom,\n  }\n  let c = rightBottom\n  let ad = {\n    left,\n    top: center.top,\n  }\n  let bc = {\n    left: left + width,\n    top: center.top,\n  }\n\n  let rotateLeftTop = getRotatePointByCenter(center, leftTop, angle)\n  let ra = rotateLeftTop\n\n  let rotateLeftBottom = getRotatePointByCenter(center, leftBottom, angle)\n  let rd = rotateLeftBottom\n\n  let rotateRightTop = getRotatePointByCenter(center, rightTop, angle)\n  let rb = rotateRightTop\n\n  let rotateRightBottom = getRotatePointByCenter(center, rightBottom, angle)\n  let rc = rotateRightBottom\n\n  let rad = getRotatePointByCenter(center, ad, angle)\n  let rbc = getRotatePointByCenter(center, bc, angle)\n\n  let rotateLefts = [\n    ra.left,\n    rb.left,\n    rc.left,\n    rd.left,\n  ]\n  let rotateTops = [\n    ra.top,\n    rb.top,\n    rc.top,\n    rd.top,\n  ]\n  let minRotateLeft = Math.min.apply(null, rotateLefts)\n  let maxRotateLeft = Math.max.apply(null, rotateLefts)\n  let minRotateTop = Math.min.apply(null, rotateTops)\n  let maxRotateTop = Math.max.apply(null, rotateTops)\n\n  return {\n    ...rectData,\n    center,\n    leftTop,\n    leftBottom,\n    rightTop,\n    rightBottom,\n    rotateRightTop,\n    rotateLeftTop,\n    rotateLeftBottom,\n    rotateRightBottom,\n    a,\n    b,\n    c,\n    d,\n    ra,\n    rb,\n    rc,\n    rd,\n    rad,\n    rbc,\n    right,\n    bottom,\n    left,\n    top,\n    width,\n    height,\n    minRotateLeft,\n    maxRotateLeft,\n    minRotateTop,\n    maxRotateTop,\n  }\n}\nlet getGroupSize = (\n  rects, \n  angle\n) => {\n  // \n  let points = []\n  rects.forEach(rect => {\n    let info = getRectInfo(rect.data)\n    points = [\n      ...points,\n      info.rotateLeftTop,\n      info.rotateRightTop,\n      info.rotateLeftBottom,\n      info.rotateRightBottom,\n    ]\n  })\n  // 4\n  let ab = getABByPointsAndAngle(points, angle)\n  //  group \n  let rlt = getCByABAndAngle(\n    ab.a,\n    ab.b,\n    angle\n  )\n  //  group \n  let rrb = getCByABAndAngle(\n    ab.a2,\n    ab.b2,\n    angle,\n  )\n  // \n  let center = {\n    left: rlt.left + (rrb.left - rlt.left) / 2,\n    top: rrb.top - (rrb.top - rlt.top) / 2,\n  }\n  //  rlt,rrb  lt \n  //  lt, lt\n  let lt = getRotatePointByCenter(\n    center, \n    (angle > 90 && angle <= 270)\n      ? rrb\n      : rlt,\n    angle,\n    false,\n  )\n  let width = Math.abs(center.left - lt.left) * 2\n  let height = Math.abs(center.top - lt.top) * 2\n\n  return {\n    left: tNumber(lt.left),\n    top: tNumber(lt.top),\n    width: tNumber(width),\n    height: tNumber(height),\n  }\n}\n// a, bab a  m \n//  b \nlet getScalePoint = (\n  a, \n  b, \n  m\n) => {\n  return {\n    left: (b.left - a.left) * m + a.left,\n    top: (b.top - a.top) * m + a.top,\n  }\n}\nlet getPointsCenter = (\n  a, \n  b\n) => {\n  return {\n    left: tNumber(a.left + (b.left - a.left) / 2),\n    top: tNumber(a.top + (b.top - a.top) / 2),\n  }\n}\nlet getWH = (\n  a, \n  c\n) => {\n  return {\n    width: Math.abs(c.left - a.left) * 2,\n    height: Math.abs(c.top - a.top) * 2,\n  }\n}\n// 150, 54 \nlet middleLeft = vars.b + vars.c\nlet middleTop = vars.a + vars.c\nlet getMousePoint = (e) => {\n  let $middle = document.querySelector('.proto-middle') || document.documentElement\n  return {\n    left: e.clientX + $middle.scrollLeft - middleLeft,\n    top: e.clientY + $middle.scrollTop - middleTop,\n  }\n}\n//  %  px\nlet percentPx = (str) => {\n  str = str + ''\n  if (!str.includes('%')){\n    str += 'px'\n  }\n  return str\n}\n// \nlet isRightMouse = (e) => {\n  return e.which === 3\n}\n// \nlet memoizeResolver = (...args) => {\n  return JSON.stringify(args)\n}\n;['min', 'max', 'cos', 'sin', 'tan', 'atan', 'abs', 'ceil', 'pow', 'round'].forEach(name => {\n  Math[name] = memoize(Math[name], memoizeResolver)\n}) \ngetTextSize = memoize(getTextSize, memoizeResolver)\ngetMappingRectX = memoize(getMappingRectX, memoizeResolver) \ncheckRectOverlap2 = memoize(checkRectOverlap2, memoizeResolver)\ntNumber = memoize(tNumber, memoizeResolver)\ngetRadian = memoize(getRadian, memoizeResolver)\ngetAngle = memoize(getAngle, memoizeResolver)\ngetRotatePointByCenter = memoize(getRotatePointByCenter, memoizeResolver)\ngetCByABAndAngle = memoize(getCByABAndAngle, memoizeResolver)\ngetMappingPoint = memoize(getMappingPoint, memoizeResolver)\ngetABByPointsAndAngle = memoize(getABByPointsAndAngle, memoizeResolver)\ngetAngleByTwoPoints = memoize(getAngleByTwoPoints, memoizeResolver)\ngetEffectiveAngle = memoize(getEffectiveAngle, memoizeResolver)\ngetRectInfo = memoize(getRectInfo, memoizeResolver)\ngetGroupSize = memoize(getGroupSize, memoizeResolver)\ngetScalePoint = memoize(getScalePoint, memoizeResolver)\ngetPointsCenter = memoize(getPointsCenter, memoizeResolver)\ngetWH = memoize(getWH, memoizeResolver)\npercentPx = memoize(percentPx, memoizeResolver)\n\nexport {\n  getRectInfo,\n  getGroupSize,\n  getScalePoint,\n  getPointsCenter,\n  getWH,\n  getMousePoint,\n  percentPx,\n  sum,\n  empty,\n  getTextWidth,\n  getTextSize,\n  checkRectOverlap,\n  getRotatePointByCenter,\n  getCByABAndAngle,\n  getABByPointsAndAngle,\n  getAngle,\n  tNumber,\n  getAngleByTwoPoints,\n  getEffectiveAngle,\n  getRadian,\n  getUuid,\n  selectText,\n  isRightMouse,\n  checkRectOverlap2,\n  middleLeft,\n  middleTop,\n}","import { \n  getRadian,\n  getRotatePointByCenter,\n  getAngleByTwoPoints,\n  getPointsCenter,\n  getScalePoint,\n  getWH,\n} from './base'\n\nlet minLen = 10\nlet getWidthScale = (\n  newWidth, \n  width\n) => {\n  return newWidth / width\n}\n// \nlet getResizeData = (rect) => {\n  let data = rect.data\n  let tempInfo = rect.tempData\n  let angle = tempInfo.angle\n  let radian = getRadian(angle)\n  let tempWidth = tempInfo.width\n  let tempHeight = tempInfo.height\n\n  return {\n    data,\n    tempInfo,\n    angle,\n    radian,\n    tempWidth,\n    tempHeight,\n  }\n}\n\n//  resize\n// mx  x \n// my  y  \nlet resizeAR = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    radian,\n  } = getResizeData(rect)\n  let widthDiff =  - Math.cos(radian) * mx - Math.sin(radian) * my\n  let newWidth = Math.max(widthDiff + tempWidth, minLen)\n  let scale = getWidthScale(newWidth, tempWidth) \n  \n  let rlt = tempInfo.rotateLeftTop\n  let rrb = tempInfo.rotateRightBottom\n  let newRlt = getScalePoint(rrb, rlt, scale)\n  // \n  let newCenter = getPointsCenter(newRlt, rrb)\n  // left, top\n  let newLt = getRotatePointByCenter(newCenter, newRlt, angle, false)\n  let wh = getWH(newLt, newCenter)\n\n  // \n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width: wh.width,\n      height: wh.height,\n    },\n    scale,\n    fixedPoint: rrb,\n  }\n}\nlet resizeBR = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    radian,\n  } = getResizeData(rect)\n  let widthDiff = Math.cos(radian) * mx + Math.sin(radian) * my\n  let newWidth = Math.max(widthDiff + tempWidth, minLen)\n  let scale = getWidthScale(newWidth, tempWidth)\n\n  let rrt = tempInfo.rotateRightTop\n  let rlb = tempInfo.rotateLeftBottom\n  let newRrt = getScalePoint(rlb, rrt, scale)\n  // \n  let newCenter = getPointsCenter(rlb, newRrt)\n  // right, top\n  let newRt = getRotatePointByCenter(newCenter, newRrt, angle, false)\n  let wh = getWH(newRt, newCenter)\n  let newLt = {\n    left: newRt.left - wh.width,\n    top: newRt.top\n  }\n\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width: wh.width,\n      height: wh.height,\n    },\n    scale,\n    fixedPoint: rlb,\n  }\n}\nlet resizeCR = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    radian,\n  } = getResizeData(rect)\n  let widthDiff = Math.cos(radian) * mx + Math.sin(radian) * my\n  let newWidth = Math.max(widthDiff + tempWidth, minLen)\n  let scale = getWidthScale(newWidth, tempWidth)\n\n  let rlt = tempInfo.rotateLeftTop\n  let rrb = tempInfo.rotateRightBottom\n  let newRrb = getScalePoint(rlt, rrb, scale)\n  // \n  let newCenter = getPointsCenter(rlt, newRrb)\n  // left, top\n  let newLt = getRotatePointByCenter(newCenter, rlt, angle, false)\n  let wh = getWH(newLt, newCenter)\n\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width: wh.width,\n      height: wh.height,\n    },\n    scale,\n    fixedPoint: rlt,\n  }\n}\nlet resizeDR = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    radian,\n  } = getResizeData(rect)\n  let widthDiff = -Math.cos(radian) * mx - Math.sin(radian) * my\n  let newWidth = Math.max(widthDiff + tempWidth, minLen)\n  let scale = getWidthScale(newWidth, tempWidth)\n\n  let rrt = tempInfo.rotateRightTop\n  let rlb = tempInfo.rotateLeftBottom\n  let newRlb = getScalePoint(rrt, rlb, scale)\n  // \n  let newCenter = getPointsCenter(rrt, newRlb)\n  // right, top\n  let newRt = getRotatePointByCenter(newCenter, rrt, angle, false)\n  let wh = getWH(newRt, newCenter)\n  let newLt = {\n    left: newRt.left - wh.width,\n    top: newRt.top\n  }\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width: wh.width,\n      height: wh.height,\n    },\n    scale,\n    fixedPoint: rrt,\n  }\n}\nlet resizeA = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  let rrb = tempInfo.rotateRightBottom\n  //  width, height wh  wh \n  let widthDiff = - Math.cos(radian) * mx - Math.sin(radian) * my\n  let heightDiff = Math.sin(radian) * mx - Math.cos(radian) * my\n  let width = Math.max(widthDiff + tempWidth, minLen)\n  let height = Math.max(heightDiff + tempHeight, minLen)\n  //  width, height, anglerrb  rlt \n  let newRlt = {\n    left: 0,\n    top: 0,\n  }\n  if (angle === 0){\n    newRlt = {\n      left: rrb.left - width,\n      top: rrb.top - height,\n    }\n  }\n  else if (angle === 90){\n    newRlt = {\n      left: rrb.left + height,\n      top: rrb.top - width,\n    }\n  }\n  else if (angle === 180) {\n    newRlt = {\n      left: rrb.left + width,\n      top: rrb.top + height,\n    }\n  }\n  else if (angle === 270){\n    newRlt = {\n      left: rrb.left - height,\n      top: rrb.top + width,\n    }\n  }\n  else {\n    // \n    newRlt = {\n      left: rrb.left - Math.cos(radian) * (width - Math.tan(radian) * height),\n      top: rrb.top - (height / Math.cos(radian) + Math.sin(radian) * (width - Math.tan(radian) * height)),\n    }\n  }\n  let newCenter = getPointsCenter(newRlt, rrb)\n  // left, top\n  let newLt = getRotatePointByCenter(newCenter, newRlt, angle, false)\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width: width,\n      height: height,\n    },\n    fixedPoint: rrb,\n  }\n}\nlet resizeAB = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  // \n  let heightDiff = Math.sin(radian) * mx - Math.cos(radian) * my\n  let newHeight = Math.max(tempHeight + heightDiff, minLen)\n  heightDiff = newHeight - tempHeight\n\n  //  rlt \n  let rlt = tempInfo.rotateLeftTop\n  let rrb = tempInfo.rotateRightBottom\n  let newRlt = {\n    left: rlt.left + Math.sin(radian) * heightDiff,\n    top: rlt.top - Math.cos(radian) * heightDiff,\n  }\n  // \n  let newCenter = getPointsCenter(newRlt, rrb)\n  // left, top\n  let newLt = getRotatePointByCenter(newCenter, newRlt, angle, false)\n\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      height: newHeight,\n    },\n    fixedPoint: rrb,\n    scaleH: newHeight / tempHeight,\n  }\n}\nlet resizeB = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  let rlb = tempInfo.rotateLeftBottom\n  //  width, height wh  wh \n  let widthDiff = Math.cos(radian) * mx + Math.sin(radian) * my\n  let heightDiff = Math.sin(radian) * mx - Math.cos(radian) * my\n  let width = Math.max(widthDiff + tempWidth, minLen)\n  let height = Math.max(heightDiff + tempHeight, minLen)\n  //  width, height, anglerrb  rrt \n  let newRrt = {\n    left: 0,\n    top: 0,\n  }\n  if (angle === 0){\n    newRrt = {\n      left: rlb.left + width,\n      top: rlb.top - height,\n    }\n  }\n  else if (angle === 90){\n    newRrt = {\n      left: rlb.left + height,\n      top: rlb.top + width,\n    }\n  }\n  else if (angle === 180) {\n    newRrt = {\n      left: rlb.left - width,\n      top: rlb.top + height,\n    }\n  }\n  else if (angle === 270){\n    newRrt = {\n      left: rlb.left - height,\n      top: rlb.top - width,\n    }\n  }\n  else {\n    // \n    newRrt = {\n      left: rlb.left + width / Math.cos(radian) + Math.sin(radian) * (height - Math.tan(radian) * width),\n      top: rlb.top - Math.cos(radian) * (height - Math.tan(radian) * width)\n    }\n  }\n  let newCenter = getPointsCenter(newRrt, rlb)\n  //  rt\n  let newRt = getRotatePointByCenter(newCenter, newRrt, angle, false)\n\n  return {\n    size: {\n      left: newRt.left - width,\n      top: newRt.top,\n      width,\n      height,\n    },\n    fixedPoint: rlb,\n  }\n}\nlet resizeBC = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempWidth,\n    radian,\n  } = getResizeData(rect)\n  // \n  let widthDiff = Math.cos(radian) * mx + Math.sin(radian) * my\n  let newWidth = Math.max(tempWidth + widthDiff, minLen)\n  return resizeNewWidth(rect, newWidth)\n}\nlet resizeC = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  let rlt = tempInfo.rotateLeftTop\n  //  width, height wh  wh \n  let widthDiff = Math.cos(radian) * mx + Math.sin(radian) * my\n  let heightDiff = -Math.sin(radian) * mx + Math.cos(radian) * my\n  let width = Math.max(widthDiff + tempWidth, minLen)\n  let height = Math.max(heightDiff + tempHeight, minLen)\n  let newRrb = {\n    left: 0,\n    top: 0,\n  }\n  if (angle === 0){\n    newRrb = {\n      left: rlt.left + width,\n      top: rlt.top + height,\n    }\n  }\n  else if (angle === 90){\n    newRrb = {\n      left: rlt.left - height,\n      top: rlt.top + width,\n    }\n  }\n  else if (angle === 180) {\n    newRrb = {\n      left: rlt.left - width,\n      top: rlt.top - height,\n    }\n  }\n  else if (angle === 270){\n    newRrb = {\n      left: rlt.left + height,\n      top: rlt.top - width,\n    }\n  }\n  else {\n    // \n    newRrb = {\n      left: rlt.left  + Math.cos(radian) * (width - Math.tan(radian) * height),\n      top: rlt.top + height / Math.cos(radian) + Math.sin(radian) * (width - Math.tan(radian) * height),\n    }\n  }\n  let newCenter = getPointsCenter(newRrb, rlt)\n  let newLt = getRotatePointByCenter(newCenter, rlt, angle, false)\n\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width,\n      height,\n    },\n    fixedPoint: rlt,\n  }\n}\n// \nlet resizeNewWidth = (\n  rect, \n  newWidth\n) => {\n  let {\n    data,\n    tempInfo,\n    angle,\n    tempWidth,\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  // \n  let widthDiff = newWidth - tempWidth\n  let newHeight = tempHeight\n\n  //  rrb \n  let rlt = tempInfo.rotateLeftTop\n  let rrb = tempInfo.rotateRightBottom\n  let newRrb = {\n    left: rrb.left + Math.cos(radian) * widthDiff,\n    top: rrb.top + Math.sin(radian) * widthDiff\n  }\n  // \n  let isSameRatio = data.isSameRatio\n  if (isSameRatio){\n    let heightDiff = (tempHeight / tempWidth) * widthDiff\n    newHeight += heightDiff\n    newRrb = {\n      left: newRrb.left - Math.sin(radian) * heightDiff,\n      top: newRrb.top + Math.cos(radian) * heightDiff\n    }\n  }\n  // \n  let newCenter = getPointsCenter(rlt, newRrb)\n  // left, top\n  let newLt = getRotatePointByCenter(newCenter, rlt, angle, false)\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width: newWidth,\n      height: newHeight, \n    },\n    fixedPoint: rlt,\n    scaleW: newWidth / tempWidth,\n  }\n}\nlet resizeNewHeight = (\n  rect, \n  newHeight\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  let heightDiff = newHeight - tempHeight\n  let rlt = tempInfo.rotateLeftTop\n  let rrb = tempInfo.rotateRightBottom\n  let newRrb = {\n    left: rrb.left - Math.sin(radian) * heightDiff,\n    top: rrb.top + Math.cos(radian) * heightDiff,\n  }\n  // \n  let newCenter = getPointsCenter(rlt, newRrb)\n  // left, top\n  let newLt = getRotatePointByCenter(newCenter, rlt, angle, false)\n\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      height: newHeight,\n    },\n    fixedPoint: rlt,\n    scaleW: newHeight / tempHeight,\n  }\n}\nlet resizeCD = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  // \n  let heightDiff = -Math.sin(radian) * mx + Math.cos(radian) * my\n  let newHeight = Math.max(tempHeight + heightDiff, minLen)\n  return resizeNewHeight(rect, newHeight)\n}\nlet resizeD = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  let rrt = tempInfo.rotateRightTop\n  //  width, height wh  wh \n  let widthDiff = -Math.cos(radian) * mx - Math.sin(radian) * my\n  let heightDiff = -Math.sin(radian) * mx + Math.cos(radian) * my\n  let width = Math.max(widthDiff + tempWidth, minLen)\n  let height = Math.max(heightDiff + tempHeight, minLen)\n  let newRlb = {\n    left: 0,\n    top: 0,\n  }\n  if (angle === 0){\n    newRlb = {\n      left: rrt.left - width,\n      top: rrt.top + height,\n    }\n  }\n  else if (angle === 90){\n    newRlb = {\n      left: rrt.left - height,\n      top: rrt.top - width,\n    }\n  }\n  else if (angle === 180) {\n    newRlb = {\n      left: rrt.left + width,\n      top: rrt.top - height,\n    }\n  }\n  else if (angle === 270){\n    newRlb = {\n      left: rrt.left + height,\n      top: rrt.top + width,\n    }\n  }\n  else {\n    // \n    newRlb = {\n      left: rrt.left - (width / Math.cos(radian) + Math.sin(radian) * (height - Math.tan(radian) * width)),\n      top: rrt.top + Math.cos(radian) * (height - Math.tan(radian) * width)\n    }\n  }\n  let newCenter = getPointsCenter(newRlb, rrt)\n  //  rt\n  let newRt = getRotatePointByCenter(newCenter, rrt, angle, false)\n\n  return {\n    size: {\n      left: newRt.left - width,\n      top: newRt.top,\n      height,\n      width,\n    },\n    fixedPoint: rrt,\n  }\n}\nlet resizeAD = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    radian,\n  } = getResizeData(rect)\n  // \n  let widthDiff = -Math.cos(radian) * mx - Math.sin(radian) * my\n  let newWidth = Math.max(tempWidth + widthDiff, minLen)\n  widthDiff = newWidth - tempWidth\n\n  //  rrb \n  let rlt = tempInfo.rotateLeftTop\n  let rrb = tempInfo.rotateRightBottom\n  let newRlt = {\n    left: rlt.left - Math.cos(radian) * widthDiff,\n    top: rlt.top - Math.sin(radian) * widthDiff,\n  }\n  // \n  let newCenter = getPointsCenter(rrb, newRlt)\n  // left, top\n  let newLt = getRotatePointByCenter(newCenter, newRlt, angle, false)\n\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width: newWidth,\n    },\n    fixedPoint: rrb,\n    scaleW: newWidth / tempWidth,\n  }\n}\n//  line \nlet resizeADL = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let tempInfo = rect.tempData\n  let height = tempInfo.height\n  let width = tempInfo.width\n  let rbc = tempInfo.rbc\n  let rad = tempInfo.rad\n  let newRad = {\n    left: rad.left + mx,\n    top: rad.top + my,\n  }\n  let newCenter = getPointsCenter(newRad, rbc)\n  let newAngle = parseInt(getAngleByTwoPoints(newRad, newCenter) + 90) % 360\n  let ad = getRotatePointByCenter(newCenter, newRad, newAngle, false)\n  let bc = getRotatePointByCenter(newCenter, rbc, newAngle, false)\n  let newWidth = bc.left - ad.left\n  let a = {\n    left: ad.left,\n    top: ad.top - height / 2,\n  }\n  return {\n    size: {\n      ...a,\n      width: newWidth,\n    },\n    angle: newAngle,\n    fixedPoint: rbc,\n    scaleW: newWidth / width,\n  }\n}\nlet resizeBCL = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let tempInfo = rect.tempData\n  let height = tempInfo.height\n  let width = tempInfo.width\n  let rbc = tempInfo.rbc\n  let rad = tempInfo.rad\n  let newRbc = {\n    left: rbc.left + mx,\n    top: rbc.top + my,\n  }\n  let newCenter = getPointsCenter(rad, newRbc)\n  let newAngle = parseInt(getAngleByTwoPoints(rad, newCenter) + 90) % 360\n  let ad = getRotatePointByCenter(newCenter, rad, newAngle, false)\n  let bc = getRotatePointByCenter(newCenter, newRbc, newAngle, false)\n  let newWidth = bc.left - ad.left\n  let a = {\n    left: ad.left,\n    top: ad.top - height / 2,\n  }\n  return {\n    size: {\n      ...a,\n      width: newWidth,\n    },\n    angle: newAngle,\n    fixedPoint: rad,\n    scaleW: newWidth / width,\n  }\n}\n// line \nlet resizeADRL = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    radian,\n    tempWidth,\n    tempHeight,\n  } = getResizeData(rect)\n  let rbc = tempInfo.rbc\n  let rad = tempInfo.rad\n  let widthDiff = -Math.cos(radian) * mx - Math.sin(radian) * my\n  let newWidth = Math.max(widthDiff + tempWidth, minLen)\n  let scale = getWidthScale(newWidth, tempWidth)\n  let newRad = getScalePoint(rbc, rad, scale)\n  let newCenter = getPointsCenter(rbc, newRad)\n  let ad = getRotatePointByCenter(newCenter, newRad, angle, false)\n  let a = {\n    left: ad.left,\n    top: ad.top - tempHeight / 2,\n  }\n  return {\n    size: {\n      ...a,\n      width: newWidth,\n    },\n    angle,\n    fixedPoint: rad,\n    scale,\n  }\n}\n// line \nlet resizeBCRL = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    radian,\n    tempWidth,\n    tempHeight,\n  } = getResizeData(rect)\n  let rbc = tempInfo.rbc\n  let rad = tempInfo.rad\n  let widthDiff = Math.cos(radian) * mx + Math.sin(radian) * my\n  let newWidth = Math.max(widthDiff + tempWidth, minLen)\n  let scale = getWidthScale(newWidth, tempWidth)\n  let newRbc = getScalePoint(rad, rbc, scale)\n  let newCenter = getPointsCenter(rad, newRbc)\n  let ad = getRotatePointByCenter(newCenter, rad, angle, false)\n  let a = {\n    left: ad.left,\n    top: ad.top - tempHeight / 2,\n  }\n  return {\n    size: {\n      ...a,\n      width: newWidth,\n    },\n    angle,\n    fixedPoint: rad,\n    scale,\n  }\n}\nexport {\n  resizeAR,\n  resizeBR,\n  resizeCR,\n  resizeDR,\n  resizeA,\n  resizeAB,\n  resizeB,\n  resizeBC,\n  resizeC,\n  resizeCD,\n  resizeD,\n  resizeAD,\n  resizeADL,\n  resizeBCL,\n  resizeADRL,\n  resizeBCRL,\n  resizeNewWidth,\n  resizeNewHeight,\n}","var render, staticRenderFns\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {\n  getScalePoint,\n  getPointsCenter,\n  getWH,\n  getRotatePointByCenter,\n  getRadian,\n  getTextSize,\n} from '@/core/base'\nimport {\n  resizeAR,\n  resizeBR,\n  resizeCR,\n  resizeDR,\n  resizeA,\n  resizeAB,\n  resizeB,\n  resizeBC,\n  resizeC,\n  resizeCD,\n  resizeD,\n  resizeAD,\n  resizeADL,\n  resizeBCL,\n  resizeADRL,\n  resizeBCRL,\n  resizeNewWidth,\n  resizeNewHeight,\n} from '@/core/resize'\nexport default {\n  methods: {\n    _resize (\n      mx, \n      my\n    ) {\n      let rect = this.objects[this.currRectId]\n      let dir = this.mouse.resizerDir\n      let isLine = rect.type === 'rect-line'\n      ;[mx, my] = this._checkGuideOnResize(rect, dir, mx, my)\n      if (this._checkIsGroupLike(rect)){\n        this._resizeGroup(rect, dir, mx, my)\n      }\n      else if (isLine){\n        this._resizeLine(rect, dir, mx, my)\n      }\n      else {\n        this._resizeRect(rect, dir, mx, my)\n      }\n    },\n    _resizeText (\n      rect, \n      text\n    ) {\n      let data = rect.data\n      text = text || data.text\n      let font = `${data.fontSize}px ${data.fontFamily}`\n      let size = getTextSize(text, font)\n      let newWidth = size.width\n      this._resizeWidthTo(rect, newWidth)\n      let newHeight = size.height\n      this._resizeHeightTo(rect, newHeight)\n    },\n    _resizeLine (\n      rect, \n      dir, \n      mx, \n      my\n    ) {\n      let resizeF = {\n        ad: resizeADL,\n        bc: resizeBCL,\n      }[dir]\n      if (rect.data.isAngleLock) {\n        resizeF = {\n          ad: resizeADRL,\n          bc: resizeBCRL,\n        }[dir]\n      }\n      let resizeRes = resizeF(rect, mx, my)\n      rect.data.angle = resizeRes.angle\n      // this._commandRectDataPropUpdate(rect, 'angle', resizeRes.angle)\n      this._updateRectData(rect, resizeRes.size)\n    },\n    // \n    _scaleGroupRectR (\n      rect, \n      fixedPoint, \n      scale\n    ) {\n      let rectData = rect.data\n      let rectInfo = rect.tempData\n      let rlt = rectInfo.rotateLeftTop\n      let rrb = rectInfo.rotateRightBottom\n\n      let newRlt = getScalePoint(fixedPoint, rlt, scale)\n      let newRrb = getScalePoint(fixedPoint, rrb, scale)\n      let newCenter = getPointsCenter(newRlt, newRrb)\n      let lt = getRotatePointByCenter(newCenter, newRlt, rectData.angle, false)\n      let wh = getWH(lt, newCenter)\n      this._updateRectData(rect, {\n        left: lt.left,\n        top: lt.top,\n        width: wh.width,\n        height: wh.height,\n      }, false)\n    },\n    _scaleGroupRectWOrH (\n      group, \n      rect, \n      scale, \n      dir\n    ) {\n      let groupData = group.data\n      let groupTempInfo = group.tempData\n      let groupAngle = groupData.angle\n      let data = rect.data\n      let tempInfo = rect.tempData\n      let angle = data.angle\n      let radian = getRadian(groupAngle)\n      let fixed\n      let type = 'left'\n\n      if (dir === 'bc'){\n        fixed = groupTempInfo.left \n      }\n      else if (dir === 'ad'){\n        fixed = groupTempInfo.left + groupTempInfo.width\n      }\n      else if (dir === 'cd'){\n        fixed = groupTempInfo.top\n        type = 'top'\n      }\n      else {\n        fixed = groupTempInfo.top + groupTempInfo.height\n        type = 'top'\n      }\n\n      let angleDiff = Math.abs(angle - groupAngle)\n      let is180 = angleDiff === 180\n      let is90 = angleDiff === 90\n      let is270 = angleDiff === 270\n\n      let rlt = tempInfo.rotateLeftTop\n      let rrt = tempInfo.rotateRightTop\n      let rrb = tempInfo.rotateRightBottom\n      let rlb = tempInfo.rotateLeftBottom\n\n      //  rect  group \n      if (is90){\n        [rlt, rrb] = [rlb, rrt]\n      }\n      else if (is180){\n        [rlt, rrb] = [rrb, rlt]\n      }\n      else if (is270){\n        [rlt, rrb] = [rrt, rlb]\n      }\n\n      let lt = getRotatePointByCenter(\n        groupTempInfo.center,\n        rlt,\n        groupAngle,\n        false,\n      )\n      let dis = lt[type] - fixed\n      let disDiff = dis * (scale - 1)\n      let newRlt = {\n        left: rlt.left,\n        top: rlt.top,\n      }\n      if (type === 'left'){\n        newRlt.left += Math.cos(radian) * disDiff\n        newRlt.top += Math.sin(radian) * disDiff\n      }\n      else {\n        newRlt.left -= Math.sin(radian) * disDiff\n        newRlt.top += Math.cos(radian) * disDiff\n      }\n      \n      let rb = getRotatePointByCenter(\n        groupTempInfo.center,\n        rrb,\n        groupAngle,\n        false,\n      )\n      // rect cd  group ad \n      let dis2 = rb[type] - fixed\n      let dis2Diff = dis2 * (scale - 1)\n      let newRrb = {\n        left: rrb.left,\n        top: rrb.top,\n      }\n      if (type === 'left'){\n        newRrb.left += Math.cos(radian) * dis2Diff\n        newRrb.top += Math.sin(radian) * dis2Diff\n      }\n      else {\n        newRrb.left -= Math.sin(radian) * dis2Diff\n        newRrb.top += Math.cos(radian) * dis2Diff\n      }\n\n      let newCenter = getPointsCenter(newRlt, newRrb)\n      let newLt = getRotatePointByCenter(\n        newCenter, \n        newRlt, \n        angle, \n        false\n      )\n      let wh = getWH(newLt, newCenter)\n      let size = {\n        left: newLt.left,\n        top: newLt.top,\n        width: wh.width,\n        height: wh.height,\n      }\n      // \n      if (is180){\n        size.left = data.left - size.width\n        size.top = data.top - size.height\n      }\n      else if (is90){\n        size.top = data.top - size.height\n      }\n      else if (is270){\n        size.left = data.left - size.width\n      }\n      this._updateRectData(rect, size, false)\n    },\n    // \n    _scaleGroupR (\n      group, \n      fixedPoint, \n      scale\n    ) {\n      let f = (id) => {\n        let rect = this._getRectById(id)\n        this._scaleGroupRectR(rect, fixedPoint, scale)\n      }\n      this._updateGroupState(group, f)\n    },\n    _resizeGroupWithRes (\n      group, \n      resizeRes, \n      dir\n    ) {\n      let { fixedPoint } = resizeRes\n      let scale = resizeRes.scaleW || resizeRes.scaleH\n      let groupData = group.data\n      let groupAngle = groupData.angle\n      let f = (id) => {\n        let rect = this._getRectById(id)\n        let data = rect.data\n        let angle = data.angle\n\n        //  90  rect\n        //  isSameRatio\n        let isSameRatio = groupData.isSameRatio || data.isSameRatio\n        let is90 = (angle - groupAngle) % 90 !== 0\n        if ( isSameRatio || is90 ){\n          this._scaleGroupRectR(rect, fixedPoint, scale)\n        }\n        else {\n          this._scaleGroupRectWOrH(group, rect, scale, dir)\n        }\n      }\n      this._updateGroupState(group, f)\n      return this._getGroupSize(group)\n    },\n    // a ---- b\n    // d ---- c \n    _resizeGroup (\n      group, \n      dir = 'c', \n      mx = 0, \n      my = 0\n    ) {\n      let resizeF = {\n        a: resizeAR,\n        b: resizeBR,\n        c: resizeCR,\n        d: resizeDR,\n        ab: resizeAB,\n        bc: resizeBC,\n        cd: resizeCD,\n        ad: resizeAD,\n      }[dir]\n      let resizeRes = resizeF(group, mx, my)\n      let groupSize = {}\n      if (['a', 'b', 'c', 'd'].includes(dir)){\n        let {scale, fixedPoint} = resizeRes\n        this._scaleGroupR(group, fixedPoint, scale)\n        groupSize = resizeRes.size\n      }\n      else {\n        groupSize = this._resizeGroupWithRes(group, resizeRes, dir)\n      }\n      this._updateRectData(group, groupSize)\n    },\n    // a ---- b\n    // d ---- c \n    _resizeRect (\n      rect, \n      dir = 'bc', \n      mx, \n      my\n    ) {\n      let resizeF = {\n        a: resizeA,\n        b: resizeB,\n        c: resizeC,\n        d: resizeD,\n        ab: resizeAB,\n        bc: resizeBC,\n        cd: resizeCD,\n        ad: resizeAD,\n      }[dir]\n      let shiftKey = this.mouse.e.shiftKey\n      let isSameRatio = rect.data.isSameRatio\n      if (shiftKey || isSameRatio) {\n        resizeF = {\n          a: resizeAR,\n          b: resizeBR,\n          c: resizeCR,\n          d: resizeDR,\n        }[dir]\n      }\n      let resizeRes = resizeF(rect, mx, my)\n      this._updateRectData(rect, resizeRes.size)\n    },\n    //  width  height\n    _resizeTo (\n      rect, \n      width = null, \n      height = null\n    ) {\n      let isGroupLike = this._checkIsGroupLike(rect)\n      let resizeRes\n      let dir\n\n      if (width !== null){\n        resizeRes = resizeNewWidth(rect, width)\n        dir = 'bc'\n      }\n      if (height !== null){\n        resizeRes = resizeNewHeight(rect, height)\n        dir = 'cd'\n      }\n      if (isGroupLike){\n        let groupSize = this._resizeGroupWithRes(rect, resizeRes, dir)\n        this._updateRectData(rect, groupSize)\n      }\n      else {\n        this._updateRectData(rect, resizeRes.size)\n      }\n    },\n    _resizeWidthTo (\n      rect, \n      width\n    ) {\n      this._resizeTo(rect, width)\n    },\n    _resizeHeightTo (\n      rect, \n      height,\n    ) {\n      this._resizeTo(rect, null, height)\n    },\n  }\n}","import {\n  getRotatePointByCenter,\n  getAngleByTwoPoints,\n  getEffectiveAngle,\n  getRectInfo,\n} from '@/core/base'\n\nexport default {\n  methods: {\n    _rotate (mousePoint) {\n      let rect = this.objects[this.currRectId]\n      let info = getRectInfo(rect.data)\n      let tempInfo = rect.tempData\n      let oldAngle = tempInfo.angle\n      let nowAngle = info.angle\n      let scale = this.scale\n      let newAngle =  parseInt(getAngleByTwoPoints(mousePoint, {\n        left: info.center.left * scale,\n        top: info.center.top * scale\n      }))\n      let angleDiff = newAngle - oldAngle\n      angleDiff = this._checkGuideOnRotate(oldAngle, nowAngle, newAngle, angleDiff)\n\n      if (this._checkIsGroupLike(rect)){\n        this._rotateGroup(rect, angleDiff)\n      }\n      else {\n        this._rotateRect(rect, angleDiff)\n      }\n    },\n    _rotateTo (\n      rect, \n      angle\n    ) {\n      let tempInfo = rect.tempData\n      let angleDiff = angle - tempInfo.angle\n\n      if (this._checkIsGroupLike(rect)){\n        this._rotateGroup(rect, angleDiff)\n      }\n      else {\n        this._rotateRect(rect, angleDiff)\n      }\n    },\n    _rotateRect (\n      rect, \n      angleDiff\n    ) {\n      this._updateRectData(rect, {\n        angle: getEffectiveAngle(rect.tempData.angle + angleDiff)\n      }, false)\n      // rect.data.angle = getEffectiveAngle(rect.tempData.angle + angleDiff)\n      // this._commandRectDataPropUpdate(rect, 'angle', getEffectiveAngle(rect.tempData.angle + angleDiff))\n      //  group\n      if (rect.groupId){\n        let group = this._getRectById(rect.groupId)\n        this._updateGroupSize(group)\n      }\n    },\n    _rotateGroup (\n      group, \n      angleDiff\n    ) {\n      let groupTempInfo = group.tempData\n      let groupCenter = groupTempInfo.center\n      let f = (id) => {\n        let rect = this._getRectById(id)\n        let tempInfo = rect.tempData\n        let center = getRotatePointByCenter(groupCenter, tempInfo.center, angleDiff)\n        let left = center.left - tempInfo.width / 2\n        let top = center.top - tempInfo.height / 2\n\n        this._updateRectData(rect, {\n          left,\n          top,\n          angle: getEffectiveAngle(tempInfo.angle + angleDiff),\n        }, false)\n        // rect.data.left = tNumber(left)\n        // rect.data.top = tNumber(top)\n        // rect.data.angle = getEffectiveAngle(tempInfo.angle + angleDiff)\n        // this._commandRectDataPropUpdate(rect, 'left', tNumber(left))\n        // this._commandRectDataPropUpdate(rect, 'top', tNumber(top))\n        // this._commandRectDataPropUpdate(rect, 'angle', getEffectiveAngle(tempInfo.angle + angleDiff))\n      }\n      this._updateGroupState(group, f, true)\n    },\n  }\n}","export default {\n  methods: {\n    _move (\n      rect, \n      mx = 0, \n      my = 0, \n      isCheck = true\n    ) {\n      rect = this._safeObject(rect)\n      if (isCheck){\n        [mx, my] = this._checkGuideOnMove(rect, mx, my)\n      }\n      let isShift = this.mouse.e.shiftKey\n      if (isShift) {\n        if (Math.abs(mx) > Math.abs(my)) {\n          my = 0\n        }\n        else {\n          mx = 0\n        }\n      }\n      if (this._checkIsGroupLike(rect)){\n        this._moveGroup(rect, mx, my)\n      }\n      else {\n        this._moveRect(rect, mx, my)\n      }\n    },\n    _moveTo (\n      rect, \n      left = null, \n      top = null\n    ) {\n      let tempInfo = rect.tempData\n      let mx = 0\n      let my = 0\n      if (left !== null){\n        mx = left - tempInfo.left\n      }\n      if (top !== null){\n        my = top - tempInfo.top\n      }\n      this._move(rect, mx, my, false)\n    },\n    _moveLeftTo (\n      rect, \n      left\n    ) {\n      this._moveTo(rect, left)\n    },\n    _moveTopTo (\n      rect, \n      top\n    ) {\n      this._moveTo(rect, null, top)\n    },\n    _moveRect (\n      rect, \n      mx = 0, \n      my = 0\n    ) {\n      let tempInfo = rect.tempData\n      this._updateRectData(rect, {\n        left: tempInfo.left + mx,\n        top: tempInfo.top + my\n      }, false)\n      if (rect.groupId){\n        let group = this._getRectById(rect.groupId)\n        this._updateGroupSize(group)\n      }\n    },\n    _moveGroup (\n      group, \n      mx = 0, \n      my = 0\n    ) {\n      let f = (id) => {\n        let rect = this._getRectById(id)\n        let tempInfo = rect.tempData\n        this._updateRectData(rect, {\n          left: tempInfo.left + mx,\n          top: tempInfo.top + my,\n        }, false)\n      }\n      this._updateGroupState(group, f)\n    },\n  }\n}","import jsx from 'vue-jsx'\nimport { tNumber } from '@/core/base'\nlet {\n  div, \n  span,\n  input,\n  select,\n  option,\n  label,\n  i,\n} = jsx\nlet SpColor = jsx.bind('sp-color')\nlet _renderSetting = function () {\n  let me = this\n  let jsxProps = {\n    'class_proto-setting': true,\n  }\n  let rect = this._safeObject(\n    this.currRectId || this._getSelectedRects()[0]\n  )\n  let children = []\n\n  if (rect){\n    let rectData = rect.data\n    let isGroupLike = this._checkIsGroupLike(rect)\n    let isTempGroup = this._checkIsTempGroup(rect)\n    let isLine = rect.type === 'rect-line'\n    let isText = rect.type === 'rect-text'\n    let isAutoSize = rectData.isAutoSize\n    let isSameRatio = rectData.isSameRatio\n    let isLock = rectData.isLock\n    let getInputJsxProps = (prop) => {\n      let value = rectData[prop]\n      if (typeof value === 'number'){\n        value = tNumber(value, 0)\n      }\n      let jsxProps = {\n        'class_form-input': true,\n        'class_input-sm': true,\n        domProps_value: value,\n        domProps_type: 'number',\n        props_value: value,\n        domProps_disabled: isLock,\n        props_disabled: isLock,\n        key: prop,\n        'on_blur' () {\n        },\n        'on_focus' () {\n          me._updateRectTempData(rect)\n        },\n        'on_change' (e) {\n          let value = e.target.value\n          rect.data[prop] = value\n          me._historyPush()\n          if (['borderStyle'].includes(prop)){\n            me._flashHandler()\n          }\n        },\n      }\n      if (['borderColor', 'color', 'backgroundColor'].includes(prop)){\n        jsxProps = {\n          ...jsxProps,\n          'on_change' (value) {\n            let color = value.hex8\n            rect.data[prop] = color\n            me._historyPush()\n            if (['borderColor'].includes(prop)){\n              me._flashHandler()\n            }\n          }\n        }\n      }\n      return jsxProps\n    }\n    if (isTempGroup){\n      let $align = div({'class_proto-setting-box-item': true},\n        span(''),\n        select({\n          'class_form-select': true,\n          'class_select-sm': true,\n          'domProps_value': '',\n          'on_change' (e) {\n            let align = e.target.value\n            let f = {\n              left: me._actionRectAlignLeft,\n              leftRight: me._actionRectAlignLeftRight,\n              right: me._actionRectAlignRight,\n              top: me._actionRectAlignTop,\n              topBottom: me._actionRectAlignTopBottom,\n              bottom: me._actionRectAlignBottom,\n              equalSpaceX: me._actionRectEqualSpaceX,\n              equalSpaceY: me._actionRectEqualSpaceY,\n            }[align]\n            f()\n            me._historyPush()\n            me.renderHook ++\n          }\n        },\n          option({domProps_value: ''}, ''),\n          option({domProps_value: 'left'}, ''),\n          option({domProps_value: 'leftRight'}, ''),\n          option({domProps_value: 'right'}, ''),\n          option({domProps_value: 'top'}, ''),\n          option({domProps_value: 'topBottom'}, ''),\n          option({domProps_value: 'bottom'}, ''),\n          option({\n            domProps_disabled: !me._actionCanRectEqualSpace(),\n            domProps_value: 'equalSpaceX',\n          }, ''),\n          option({\n            domProps_disabled: !me._actionCanRectEqualSpace(),\n            domProps_value: 'equalSpaceY',\n          }, ''),\n        )\n      )\n      children = [...children, $align]\n    }\n    let $left = div({'class_proto-setting-box-item': true},\n      span('X'),\n      input({\n        ...getInputJsxProps('left'),\n        'on_change' (e) {\n          let value = e.target.value\n          let intValue = parseInt(value)\n          me._moveLeftTo(rect, intValue)\n          me._historyPush()\n        },\n      })\n    )\n    children = [...children, $left]\n    let $top = div({'class_proto-setting-box-item': true},\n      span('Y'),\n      input({\n        ...getInputJsxProps('top'),\n        'on_change' (e) {\n          let value = e.target.value\n          let intValue = parseInt(value)\n          me._moveTopTo(rect, intValue)\n          me._historyPush()\n        },\n      })\n    )\n    children = [...children, $top]\n    let $width = div({'class_proto-setting-box-item': true},\n      span(''),\n      input({\n        domProps_disabled: isAutoSize,\n        ...getInputJsxProps('width'),\n        'on_change' (e) {\n          let value = e.target.value\n          let intValue = Math.max(10, parseInt(value))\n          me._resizeWidthTo(rect, intValue)\n          me._historyPush()\n        },\n      })\n    )\n    children = [...children, $width]\n    let $height = div({'class_proto-setting-box-item': true},\n      span(''),\n      input({\n        domProps_disabled: isAutoSize || isLine || isSameRatio,\n        ...getInputJsxProps('height'),\n        'on_change' (e) {\n          let value = e.target.value\n          let intValue = Math.max(10, parseInt(value))\n          me._resizeHeightTo(rect, intValue)\n          me._historyPush()\n        },\n      })\n    )\n    children = [...children, $height]\n    if (!isTempGroup) {\n      let $angle = div({'class_proto-setting-box-item': true},\n        span(''),\n        input({\n          ...getInputJsxProps('angle'),\n          'on_change' (e) {\n            let value = e.target.value\n            let intValue = parseInt(value) % 360\n            if (intValue < 0){\n              intValue += 360\n            }\n            me._rotateTo(rect, intValue)\n          },\n        })\n      )\n      children = [...children, $angle]\n    }\n    if (!isLine){\n      let $isSameRatio = div({'class_proto-setting-box-item': true},\n        span(''),\n        label({\n          'class_form-switch': true,\n        },\n          input({\n            ...getInputJsxProps(),\n            key: 'isSameRatio',\n            domProps_type: 'checkbox',\n            domProps_checked: rectData['isSameRatio'],\n            'on_change' () {\n              let value = !rectData['isSameRatio']\n              rect.data.isSameRatio = value\n              me._historyPush()\n            }\n          }),\n          i({'class_form-icon': true,}),\n        ),\n      )\n      children = [...children, $isSameRatio]\n    }\n\n    if (isLine){\n      let $isAngleLock = div({'class_proto-setting-box-item': true},\n        span(''),\n        label({\n          'class_form-switch': true,\n        },\n          input({\n            ...getInputJsxProps(),\n            key: 'isAngleLock',\n            domProps_type: 'checkbox',\n            domProps_checked: rectData['isAngleLock'],\n            'on_change' () {\n              let value = !rectData['isAngleLock']\n              rect.data.isAngleLock = value\n              me._historyPush()\n            }\n          }),\n          i({'class_form-icon': true,}),\n        ),\n      )\n      children = [...children, $isAngleLock]\n    }\n    if (!isGroupLike){\n      if (!isText){\n        let $borderWidth = div({'class_proto-setting-box-item': true},\n          span(''),\n          input({\n            ...getInputJsxProps('borderWidth'),\n            'on_change' (e) {\n              let value = e.target.value\n              let intValue = Math.max(0, parseInt(value))\n              rect.data.borderWidth = intValue\n              if (isLine){\n                rect.data.height = intValue\n              }\n            }\n          })\n        )\n        children = [...children, $borderWidth]\n        let $borderStyle = div({'class_proto-setting-box-item': true},\n          span(''),\n          select({\n            ...getInputJsxProps('borderStyle'),\n            'class_form-select': true,\n            'class_select-sm': true,\n          },\n            option({domProps_value: 'solid'},'solid'),\n            option({domProps_value: 'dashed'},'dashed'),\n            option({domProps_value: 'dotted'},'dotted'),\n          )\n        )\n        children = [...children, $borderStyle]\n        let $borderColor = div({'class_proto-setting-box-item': true},\n          span(''),\n          SpColor({\n            ...getInputJsxProps('borderColor'),\n          })\n        )\n        children = [...children, $borderColor]\n      }\n      if (!isLine){\n        let $backgroundColor = div({'class_proto-setting-box-item': true},\n          span(''),\n          SpColor({\n            ...getInputJsxProps('backgroundColor'),\n          })\n        )\n        children = [...children, $backgroundColor]\n      }\n      if (!isLine){\n        let $color = div({'class_proto-setting-box-item': true},\n          span(''),\n          SpColor({\n            ...getInputJsxProps('color'),\n          })\n        )\n        children = [...children, $color]\n      }\n      if (isText){\n        let $isAutoSize = div({'class_proto-setting-box-item': true},\n          span(''),\n          label({\n            'class_form-switch': true,\n          },\n            input({\n              ...getInputJsxProps(),\n              key: 'isAutoSize',\n              domProps_checked: rectData['isAutoSize'],\n              domProps_type: 'checkbox',\n              'on_change' () {\n                let value = !rectData['isAutoSize']\n                me._updateRectTempData(rect)\n                rect.data.isAutoSize = value\n                me._resizeText(rect)\n                me._historyPush()\n              }\n            }),\n            i({'class_form-icon': true,}),\n          )\n        )\n        children = [...children, $isAutoSize]\n      }\n      let $fontSize = div({'class_proto-setting-box-item': true},\n        span(''),\n        input({\n          ...getInputJsxProps('fontSize'),\n          domProps_min: 12,\n          'on_change' (e) {\n            let value = e.target.value\n            value = parseInt(value)\n            rect.data.fontSize = value\n            if (rectData.isAutoSize) {\n              me._resizeText(rect)\n            }\n          },\n        })\n      )\n      children = [...children, $fontSize]\n      let $fontAlignX = div({'class_proto-setting-box-item': true},\n        span('X'),\n        select({\n          ...getInputJsxProps('textAlignX'),\n          'class_form-select': true,\n          'class_select-sm': true,\n        },\n          option({domProps_value: 'flex-start'}, ''),\n          option({domProps_value: 'center'}, ''),\n          option({domProps_value: 'flex-end'}, ''),\n        )\n      )\n      children = [...children, $fontAlignX]\n      let $fontAlignY = div({'class_proto-setting-box-item': true},\n        span('Y'),\n        select({\n          ...getInputJsxProps('textAlignY'),\n          'class_form-select': true,\n          'class_select-sm': true,\n        },\n          option({domProps_value: 'flex-start'}, ''),\n          option({domProps_value: 'center'}, ''),\n          option({domProps_value: 'flex-end'}, ''),\n        )\n      )\n      children = [...children, $fontAlignY]\n    }\n    let $opacity = div({'class_proto-setting-box-item': true},\n      span(''),\n      input({\n        ...getInputJsxProps('opacity'),\n        domProps_min: 0,\n        domProps_max: 100,\n        'on_change' (e) {\n          let value = e.target.value\n          value = parseInt(value)\n          me._updateCurrRectOpacity(value)\n          me._historyPush()\n        }\n      }),\n      '%'\n    )\n    children = [...children, $opacity]\n  }\n  return div({\n    'class_card': true,\n    ...jsxProps,\n  },\n    div('.card-header',\n      div('.card-title h6', ''),\n    ),\n    div('.card-body',\n      ...children,\n    )\n  )\n}\nexport {\n  _renderSetting,\n}","import jsx from 'vue-jsx'\nimport event from '@/core/event'\nlet { div } = jsx\nlet _renderHandler = function () {\n  let rect = this.objects[this.currRectId]\n  if (!rect){\n    return\n  }\n  let rectData = rect.data\n  let isLock = rectData.isLock\n  let isTempGroup = this._checkIsTempGroup(rect)\n  let mouse = this.mouse\n  let mousedown = (e) => {\n    this._updateRectTempData(rect)\n    e.stopPropagation()\n    event.$emit('windowMouseDown', e)\n  }\n  let resizerJsx = {\n    'class_proto-rect-resizer': true,\n  }\n  let b = 5\n  let a = `calc(50% - ${b}px)`\n  //  a\n  let aResizer = div({\n    ...resizerJsx,\n    style_left: -b + 'px',\n    style_top: -b + 'px',\n    on_mousedown (e) {\n      mouse.resizerDir = 'a'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  // ab\n  let abResizer = div({\n    ...resizerJsx,\n    style_left: a,\n    style_top: -b + 'px',\n    on_mousedown (e) {\n      mouse.resizerDir = 'ab'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  //  b\n  let bResizer = div({\n    ...resizerJsx,\n    style_right: -b + 'px',\n    style_top: -b + 'px',\n    on_mousedown (e) {\n      mouse.resizerDir = 'b'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  // bc\n  let bcResizer = div({\n    ...resizerJsx,\n    style_right: -b + 'px',\n    style_top: a,\n    on_mousedown (e) {\n      mouse.resizerDir = 'bc'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  //  c\n  let cResizer = div({\n    ...resizerJsx,\n    style_right: -b + 'px',\n    style_bottom: -b + 'px',\n    on_mousedown (e) {\n      mouse.resizerDir = 'c'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  // cd\n  let cdResizer = div({\n    ...resizerJsx,\n    style_left: a,\n    style_bottom: -b + 'px',\n    on_mousedown (e) {\n      mouse.resizerDir = 'cd'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  //  d\n  let dResizer = div({\n    ...resizerJsx,\n    style_left: -b + 'px',\n    style_bottom: -b + 'px',\n    on_mousedown (e) {\n      mouse.resizerDir = 'd'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  // ad\n  let adResizer = div({\n    ...resizerJsx,\n    style_left: -b + 'px',\n    style_bottom: a,\n    on_mousedown (e) {\n      mouse.resizerDir = 'ad'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  let resizer = []\n  let isLine = rect.type === 'rect-line'\n  let isSameRatio = rect.data.isSameRatio\n  if (isLine){\n    resizer = [adResizer, bcResizer]\n  }\n  else {\n    resizer = [aResizer, bResizer, cResizer, dResizer]\n    if (!isSameRatio){\n      resizer = [...resizer, abResizer, bcResizer, cdResizer, adResizer]\n    }\n  }\n  // \n  let rotater = div({\n    'class_proto-rect-rotater': true,\n    style_left: a,\n    style_top: '-15px',\n    on_mousedown (e) {\n      mouse.eventType = 'rotate'\n      mousedown(e)\n    },\n  })\n  // \n  let jsxProps = {\n    ...this._getRectBaseJsxProps(rect, this.scale),\n    'class_proto-rect-handler': true,\n    'class_proto-rect-handler-lock': isLock,\n  }\n  if (!this.handler.show){\n    jsxProps = {\n      ...jsxProps,\n      'style_display': 'none',\n    }\n  }\n  let children = []\n  if (!isTempGroup) {\n    children = [rotater]\n  }\n  if (!rect.data.isAutoSize){\n    children = [...children, ...resizer]\n  }\n  return div(jsxProps, ...children)\n}\nexport {\n  _renderHandler,\n}","import jsx from 'vue-jsx'\nlet {div} = jsx\nlet _renderGuideShow = function () {\n  let scale = this.scale\n  return [\n    ...Array.from(this.guide.show.top).map(top => {\n      return div({\n        'class_proto-guide': true,\n        'class_proto-guide-top': true,\n        style_top: top * scale + 'px',\n      })\n    }),\n    ...Array.from(this.guide.show.left).map(left => {\n      return div({\n        'class_proto-guide': true,\n        'class_proto-guide-left': true,\n        style_left: left * scale + 'px',\n      })\n    }),\n  ]\n}\nexport {\n  _renderGuideShow,\n}","import jsx from 'vue-jsx'\nlet {\n  div, \n  span,\n  button,\n  select,\n  option,\n} = jsx\nlet buttonJsxProps = {\n  'class_btn': true,\n  'class_btn-sm': true,\n  // 'class_btn-primary': true,\n}\nlet vIcon = jsx.bind('v-icon')\nlet _renderToolsButton = function (type, iconType) {\n  let me = this\n  let {checkF, doF, text} = this._actionGet(type)\n  let jsxProps = {\n    ...buttonJsxProps,\n    domProps_disabled: !checkF.call(this),\n    on_click () {\n      doF.call(me)\n    }\n  }\n  let children = [span(text)]\n  if (iconType) {\n    children = [\n      vIcon({props_name: iconType}),\n      ...children,\n    ]\n  }\n  return button(jsxProps, ...children)\n}\nlet _renderTools = function () {\n  let me = this\n  return div('.proto-tools',\n    div('.btn-group',\n      _renderToolsButton.call(this, 'sys-', 'undo-alt'),\n      _renderToolsButton.call(this, 'sys-', 'redo-alt'),\n    ),\n    div('.btn-group',\n      _renderToolsButton.call(this, 'rect-', 'object-group'),\n      _renderToolsButton.call(this, 'rect-', 'object-ungroup'),\n    ),\n    div('.btn-group',\n      _renderToolsButton.call(this, 'rect-', 'copy'),\n      _renderToolsButton.call(this, 'rect-', 'paste'),\n      _renderToolsButton.call(this, 'rect-', 'trash-alt'),\n      _renderToolsButton.call(this, 'rect-', 'cut'),\n    ),\n    div('.btn-group', \n      _renderToolsButton.call(this, 'rect-', 'layer-group'),\n      _renderToolsButton.call(this, 'rect-', 'layer-group'),\n      _renderToolsButton.call(this, 'rect-', 'layer-group'),\n      _renderToolsButton.call(this, 'rect-', 'layer-group'),\n    ),\n    div ('.btn-group',\n      _renderToolsButton.call(this, 'rect-', 'lock'),\n      _renderToolsButton.call(this, 'rect-', 'unlock'),\n    ),\n    div('.btn-group',\n      select({\n        'class_form-select': true,\n        'class_select-sm': true,\n        domProps_value: this.scale,\n        'on_change' (e) {\n          me.scale = e.target.value\n          me._renderRule()\n        }\n      },\n        ...[0.5, 0.8, 1, 1.25, 2].map(o => {\n          return option({\n            domProps_value:  o,\n          }, o + 'x')\n        })\n      ),\n    ),\n  )    \n}\nexport {\n  _renderTools,\n}","export default {\n  blue: '#5755d9',\n  red: '#e85600',\n  gray: '#bcc3ce',\n  white: '#ffffff',\n  black: '#000000',\n}","import color from './color'\nlet base = {\n  name: '',\n  top: 0,\n  left: 0,\n  width: 200,\n  height: 100,\n  angle: 0,\n  zIndex: 0,\n  text: '&nbsp;',\n  color: color.black,\n  fontSize: 12,\n  fontFamily: 'SourceHanSansSC',\n  backgroundColor: color.white,\n  borderRadius: 0,\n  borderWidth: 1,\n  borderStyle: 'solid',\n  borderColor: color.black,\n  opacity: 100,\n  textAlignX: 'center',\n  textAlignY: 'center',\n  // \n  isEdit: false,\n  //  name \n  isNameEdit: false,\n  // group \n  isOpen: false,\n  // \n  isSameRatio: false,\n  // \n  isLock: false,\n}\n\n// \nlet rect = {\n  ...base,\n  name: '',\n}\nlet circle = {\n  ...base,\n  name: '',\n  borderRadius: '100%',\n  width: 100,\n}\nlet group = {\n  ...base,\n  name: ''\n}\nlet tempGroup = {\n  ...base,\n  name: '',\n}\nlet text = {\n  ...base,\n  name: '',\n  border: null,\n  text: '',\n  width: 72,\n  height: 17,\n  isAutoSize: true,\n  borderWidth: 0,\n}\nlet line = {\n  ...base,\n  name: '',\n  backgroundColor: color.gray,\n  borderWidth: 1,\n  height: 1,\n  isAngleLock: false,\n}\nexport {\n  rect,\n  circle,\n  text,\n  group,\n  tempGroup,\n  line,\n}","import * as rectConfig from '@/core/rect-config'\nimport jsx from 'vue-jsx'\nimport event from '@/core/event'\nlet {\n  span,\n  div\n} = jsx\nlet _renderRectNav = function () {\n  let me = this\n  let retTags = ['rect', 'circle', 'text', 'line'].map(type => {\n    return span({\n      'class_label': true,\n      on_mousedown (e) {\n        e.stopPropagation()\n        me.mouse.eventType = 'create'\n        me.mouse.createType = type\n        event.$emit('windowMouseDown', e)\n      },\n    }, rectConfig[type].name)\n  })\n  return div({\n    'class_proto-rect-tags': true,\n    'class_card': true,\n  },\n    div({\n      'class_card-header': true\n    }, \n      div({\n        'class_card-title': true,\n        'class_h6': true,\n      }, '')\n    ),\n    div({\n      'class_card-body': true,\n    },\n      ...retTags,\n    ),\n  )\n}\nexport {\n  _renderRectNav\n}","import jsx from 'vue-jsx'\nimport {\n  selectText,\n  percentPx,\n  isRightMouse,\n} from \"@/core/base\"\nimport event from '@/core/event'\nlet { div, span } = jsx\nlet _renderRect = function (rect) {\n  let me = this\n  let rectData = rect.data\n  let isCurrRect = rect.id === this.currRectId\n  let isHoverRect = rect.id === this.hoverRectId\n  isHoverRect = isHoverRect || (rect.id in this.selectedRects)\n  let isLock = rectData.isLock && !rectData.isOpen\n  let rectType = rect.type\n  let mouse = this.mouse\n  let mousedown = (e) => {\n    this._focusRect(rect, e)\n    e.stopPropagation()\n  }\n  // \n  let jsxProps = {\n    ...this._getRectBaseJsxProps(rect),\n    'class_proto-rect': true,\n    'class_proto-rect-hover': isHoverRect && !isCurrRect,\n    'class_proto-rect-focus': isCurrRect,\n    'class_proto-rect-lock': isLock,\n    [`class_proto-${rectType}`]: true,\n    'attrs_id': rect.id,\n    'attrs_index': rect.index,\n    // key: rect.id,\n    on_mousedown (e) {\n      if (me._checkIsTempGroup(rect)){\n        return\n      }\n      mouse.eventType = 'move'\n      if (rect.data.isEdit) {\n        mouse.eventType = ''\n      }\n      mousedown(e)\n      // \n      if (isRightMouse(e)){\n        me._showContextmenu(e, 'rect')\n      }\n      else {\n        event.$emit('windowMouseDown', e)\n      }\n    },\n    on_mousemove () {\n      me._hoverRect(rect)\n    },\n    on_mouseout () {\n      me._hoverOffRect()\n    },\n  }\n  let children = []\n  if (!this._checkIsGroupLike(rect)){\n    jsxProps['on_dblclick'] = (e) => {\n      me._focusRect(rect, e)\n      mouse.ing = false\n    }\n    children = [this._renderRectInner(rect)]\n  }\n  if (isHoverRect && isLock){\n    children = [\n      ...children,\n      jsx.create('v-icon', {\n        'class_proto-rect-lock-icon': true,\n        props_name: 'lock',\n      })\n    ]\n  }\n  return div(jsxProps,  ...children)\n}\n// \nlet _renderRectInner = function (rect) {\n  let me = this\n  let isEdit = rect.data.isEdit\n  let data = rect.data\n  let isLine = rect.type === 'rect-line'\n  let jsxProps = {\n    'class_proto-rect-inner': true,\n  }\n  let children = []\n  if (isLine) {\n    jsxProps = {\n      ...jsxProps,\n      'style_border-top-width': data.borderWidth + 'px',\n      'style_border-top-style': data.borderStyle,\n      'style_border-top-color': data.borderColor,\n    }\n  }\n  else {\n    jsxProps = {\n      ...jsxProps,\n      'style_border-width': data.borderWidth + 'px',\n      'style_border-style': data.borderStyle,\n      'style_border-color': data.borderColor,\n      'style_background-color': data.backgroundColor,\n      'style_border-radius': percentPx(data.borderRadius),\n      'style_align-items': data.textAlignY,\n      'style_justify-content': data.textAlignX,\n      'style_overflow': 'hidden',\n    }\n    let textJsxProps = {\n      'class_proto-rect-inner-text': true,\n      'attrs_contenteditable': false,\n      'style_color': data.color,\n      'style_font-size': data.fontSize + 'px',\n      'style_font-family': data.fontFamily,\n    }\n    if (isEdit) {\n      textJsxProps = {\n        ...textJsxProps,\n        style_cursor: 'text',\n        ref: 'defaultText',\n        attrs_contenteditable: true,\n        style_transform: `rotate(-${data.angle}deg)`,\n        on_blur () {\n          me._hotkeyOn()\n          rect.data.isEdit = false\n          me._historyPush()\n        },\n        on_focus () {\n          me._hotkeyOff()\n          me.$refs.defaultText.innerHTML = data.text\n          selectText(me.$refs.defaultText)\n          me._updateRectTempData(rect)\n        },\n        on_input (e) {\n          let text = e.target.innerHTML\n          if (data.isAutoSize){\n            me._resizeText(rect, text)\n          }\n          rect.data.text = text\n        }\n      }\n      setTimeout(() => {\n        if (this.$refs.defaultText){\n          this.$refs.defaultText.focus()\n        }\n      })\n    }\n    else {\n      textJsxProps = {\n        ...textJsxProps,\n        'domProps_innerHTML': data.text,\n      }\n    }\n    children = [span(textJsxProps)]\n  }\n  \n  return div(jsxProps, ...children)\n}\nlet _renderRects = function () {\n  if (!this.currPage) {\n    return null\n  }\n  let rects = []\n  this._getRectsByPageDeep().forEach(rect => {\n    if (!this._checkIsRectLike(rect)){\n      return\n    }\n    rects.push(\n      this._renderRect(rect)\n    )\n  })\n  return div({\n    'class_proto-canvas': true,\n  },\n    div({\n      'class_proto-zoom': true,\n      'style_transform': `scale(${this.scale})`,\n    },\n      ...rects,\n    )\n  )\n}\nexport {\n  _renderRects,\n  _renderRect,\n  _renderRectInner,\n}","import color from '@/core/color'\nimport vars from '@/core/design-vars'\nlet configContext = (context) => {\n  context.strokeStyle = color.gray\n  context.font = '20px SourceHanSansSC'\n}\nlet n = 10000\nlet n2 = vars.c * 2\nlet getMiddleData = function () {\n  let $middle = this.$refs.middle\n  let style = window.getComputedStyle($middle)\n  return {\n    dom: $middle,\n    scrollTop: $middle.scrollTop,\n    scrollLeft: $middle.scrollLeft,\n    width: parseInt(style.width),\n    height: parseInt(style.height),\n  }\n}\nlet _renderTopRule = function () {\n  let rule = this.topRule\n  let middleData = getMiddleData.call(this)\n  if (!rule) {\n    this.topRule = rule = document.createElement('canvas')\n    rule.className = 'proto-rule'\n    rule.style.top = vars.a + 'px'\n    rule.style.left = vars.b + vars.c + 'px'\n    middleData.dom.appendChild(rule)\n  }\n  rule.width = middleData.width * 2\n  rule.height = n2\n  rule.style.width = middleData.width + 'px'\n  rule.style.height = n2 / 2 + 'px'\n  let scale = this.scale\n  let context = rule.getContext('2d')\n  context.clearRect(0, 0, n, n2)\n  configContext(context)\n  context.beginPath()\n  let scrollLeft = middleData.scrollLeft\n  for (let i = 0; i < n; i += 10){\n    let isText = i % 100 === 0\n    let left = (i - scrollLeft) * 2\n    let text = i / scale\n    let start = (isText ? 0 : 10) * 2\n    context.moveTo(left, start)\n    context.lineTo(left, n2)\n    if (isText){\n      context.fillText(text, left + 2, 8 * 2)\n    }\n  }\n  context.moveTo(0, n2)\n  context.lineTo(rule.width, n2)\n  context.stroke()\n}\nlet _renderLeftRule = function () {\n  let middleData = getMiddleData.call(this)\n  let rule = this.leftRule\n  if (!rule) {\n    this.leftRule = rule = document.createElement('canvas')\n    rule.className = 'proto-rule'\n    rule.style.top = vars.a + vars.c + 'px'\n    rule.style.left = vars.b + 'px'\n    this.$refs.middle.appendChild(rule)\n  }\n  rule.width = n2\n  rule.height = middleData.height * 2\n  rule.style.width = n2 / 2 + 'px'\n  let scale = this.scale  \n  rule.style.height = middleData.height + 'px'\n  let context = rule.getContext('2d')\n  context.clearRect(0, 0, n2, n)\n  configContext(context)\n  context.beginPath()\n  let scrollTop = middleData.scrollTop\n  for (let i = 0; i < n; i += 10){\n    let isText = i % 100 === 0\n    let top = (i - scrollTop) * 2\n    let text = ((i / scale) + ' ').slice(0, 4)\n    let start = (isText ? 0 : 10) * 2\n    context.moveTo(start, top)\n    context.lineTo(n2, top)\n    if (isText){\n      context.save()\n      context.textAlign = \"center\"\n      context.textBaseline = \"middle\"\n      context.translate(10, top - 18)\n      context.rotate((-90 * Math.PI) / 180)\n      context.fillText(text, 6, 0);\n      context.restore()\n    }\n  }\n  context.moveTo(n2, 0)\n  context.lineTo(n2, rule.height)\n  context.stroke()\n  context.stroke()\n}\nlet _renderRule = function () {\n  _renderTopRule.call(this)\n  _renderLeftRule.call(this)\n}\nexport {\n  _renderRule,\n}\n","import jsx from 'vue-jsx'\nimport event from '@/core/event'\nimport {\n  isRightMouse,\n} from '@/core/base'\nlet { div, input } = jsx\nlet _renderRectListItem = function (rect) {\n  let me = this\n  let isHover = (rect.id === this.hoverRectId) || \n    (rect.id === this.currRectId) ||\n    (rect.id in this.selectedRects)\n  let paddingLeft = 16\n  let isNameEdit = rect.data.isNameEdit\n  let jsxProps = {\n    'class_proto-tree-item': true,\n  }\n  let innerJsxProps = {\n    'class_proto-tree-item-inner': true,\n    'class_proto-tree-item-hover': isHover,\n  }\n  if (rect.groupId){\n    innerJsxProps = {\n      ...innerJsxProps,\n      'style_padding-left': paddingLeft + 'px',\n    }\n  }\n  let children = []\n  if (isNameEdit){\n    children = [\n      input('.form-input input-sm', {\n        domProps_value: rect.name,\n        ref: 'rectItemInput',\n        key: 'rectItemInput',\n        on_focus () {\n          me.$refs.rectItemInput.select()\n        },\n        on_blur () {\n          rect.data.isNameEdit = false\n          me._historyPush()\n        },\n        on_change () {\n          me.$refs.rectItemInput.blur()\n        },\n        on_input (e) {\n          let value = e.target.value\n          rect.name = value\n        },\n        on_mousedown (e) {\n          e.stopPropagation()\n        }\n      })\n    ]\n    setTimeout (() => {\n      if (me.$refs.rectItemInput){\n        me.$refs.rectItemInput.focus()\n      }\n    })\n  }\n  else {\n    jsxProps = {\n      ...jsxProps,\n      'attrs_index': rect.index,\n      'on_mouseover' () {\n        me._updateHoverRect(rect)\n      },\n      'on_mouseout' () {\n        me._updateHoverRect()\n      },\n      'on_mousedown' (e) {\n        let group = me._getGroupByRect(rect)\n        if (group){\n          group.data.isOpen = true\n        }\n        me._focusRect(rect, {shiftKey: false})\n        e.stopPropagation()\n        event.$emit('windowMouseDown', e)\n        // \n        if (isRightMouse(e)){\n          me._showContextmenu(e, 'rect-item')\n        }\n      },\n    }\n    children = [\n      div(innerJsxProps, rect.name)\n    ]\n  }\n\n  return div(jsxProps, ...children)\n}\nlet _renderRectList = function () {\n  if (!this.currPage) {\n    return null\n  }\n  let vdoms = []\n  let temp = []\n  this._getRectsByPageDeep().reverse().forEach(rect => {\n    if (this._checkIsTempGroup(rect)){\n      return\n    }\n    let vdom = _renderRectListItem.call(this, rect)\n    if (rect.groupId === ''){\n      vdoms = [...vdoms, vdom, ...temp]\n      temp = []\n    }\n    else {\n      temp.push(vdom)\n    }\n  })\n  vdoms = [...vdoms, ...temp]\n  return div({\n    'class_proto-rect-list': true,\n    'class_proto-tree': true,\n    'class_card': true\n  },\n    div({\n      'class_card-header': true\n    },\n      div({\n        'class_card-title': true,\n        'class_h6': true,\n      }, '')\n    ),\n    div({\n      'class_card-body': true,\n    },\n      ...vdoms,\n    )\n  )\n}\nexport {\n  _renderRectList,\n}","import jsx from 'vue-jsx'\nimport {\n  isRightMouse,\n} from '@/core/base'\nimport event from '@/core/event'\nlet { div, input, span } = jsx\nlet vIcon = jsx.bind('v-icon')\nlet _renderPageListItem = function (\n  page, \n  z\n) {\n  let me = this\n  let pageData = page.data\n  let currPage = this.currPage\n  let currPageIsParent = this._linkedListCheckIsParent(currPage, page)\n  let isHover = currPage === page\n  let paddingLeft = 16\n  let paddingLeftAll = paddingLeft * z\n  let isNameEdit = pageData.isNameEdit\n  let isDrag = this.mouse.ing && \n    (this.mouse.eventType === 'movePage') && \n    !isHover && \n    !currPageIsParent\n  let jsxProps = {\n    'class_proto-tree-item': true,\n    'class_proto-tree-item-drag': isDrag,\n  }\n  let innerJsxProps = {\n    'class_proto-tree-item-inner': true,\n    'class_proto-tree-item-hover': isHover,\n    'style_padding-left': paddingLeftAll + 'px',\n  }\n  let children = []\n  if (isNameEdit){\n    children = [\n      div(innerJsxProps,\n        input('.form-input input-sm', {\n          domProps_value: page.name,\n          ref: 'pageInput',\n          key: 'pageInput',\n          on_focus () {\n            me.$refs.pageInput.select()\n          },\n          on_blur () {\n            page.data.isNameEdit = false\n            me._historyPush()\n          },\n          on_change () {\n            me.$refs.pageInput.blur()\n          },\n          on_input (e) {\n            let value = e.target.value\n            page.name = value\n          },\n          on_mousedown (e) {\n            e.stopPropagation()\n          }\n        })\n      ),\n    ]\n    setTimeout (() => {\n      if (me.$refs.pageInput){\n        me.$refs.pageInput.focus()\n      }\n    })\n  }\n  else {\n    jsxProps = {\n      ...jsxProps,\n      'on_mousedown' (e) {\n        e.stopPropagation()\n        me._updateCurrPage(page)\n        if (isRightMouse(e)) {\n          me._showContextmenu(e, 'page')\n        }\n        else {\n          me.mouse.ing = true\n          me.mouse.eventType = 'movePage'\n          event.$emit('windowMouseDown', e)\n        }\n      },\n    }\n    innerJsxProps = {\n      ...innerJsxProps,\n      'class_proto-tree-item-emit-hover': !this.mouse.ing,\n    }\n    if (isDrag) {\n      let f = () => {\n        me._linkedListRemove(me.objects[currPage.parentId], currPage, 'pages')\n      }\n      let jsxProps = {\n        'style_left': paddingLeftAll + 'px',\n        'style_width': `calc(100% - ${paddingLeftAll}px)`,\n      }\n      children = [\n        div('.proto-tree-item-drag-handler proto-tree-item-drag-handler-bottom', {\n          ...jsxProps,\n          'on_mouseup' () {\n            f()\n            currPage.parentId = page.parentId\n            me._linkedListInsertAfter(me.objects[page.parentId], page, currPage, 'pages')\n          }\n        }),\n      ]\n      if (!page.prevId){\n        children = [\n          ...children,\n          div('.proto-tree-item-drag-handler proto-tree-item-drag-handler-top', {\n            ...jsxProps,\n            'on_mouseup' () {\n              f()\n              currPage.parentId = page.parentId\n              me._linkedListInsertBefore(me.objects[page.parentId],page, currPage, 'pages')\n            }\n          }),\n        ]\n      }\n      innerJsxProps = {\n        ...innerJsxProps,\n        'on_mouseup' () {\n          f()\n          currPage.parentId = page.parentId\n          me._linkedListAppend(page, currPage, 'pages')\n          page.data.isExpand = true\n        }\n      }\n    }\n    children = [\n      ...children,\n      div(innerJsxProps, \n        page.pages.headId ? vIcon({\n          props_name: pageData.isExpand ? 'caret-down' : 'caret-up',\n          on_mousedown () {\n            // e.stopPropagation()\n            page.data.isExpand = !pageData.isExpand\n            me._historyPush()\n          }\n        }) : null,\n        // vIcon('.fa-file', {props_name: 'file'}),\n        span(page.name),\n      )\n    ]\n  }\n  return div(jsxProps, ...children)\n}\nlet _renderPageList = function () {\n  if (!this.currPage) {\n    return null\n  }\n  let me = this\n  let children = []\n  let isDrag = this.mouse.ing && \n    (this.mouse.eventType === 'movePage')\n  let timer\n  this._linkedListWalk(this.objects[this.currProjectId], 'pages', (page, z) => {\n    children.push(_renderPageListItem.call(this, page, z))\n  })\n  if (isDrag) { \n    children = [\n      ...children,\n      div('.proto-tree-scroll-handler proto-tree-scroll-handler-top', {\n        on_mouseover () {\n          timer = setInterval(() => {\n            me.$refs.pageList.scrollTop --\n          })\n        },\n        on_mouseout () {\n          clearInterval(timer)\n        },\n      }),\n      div('.proto-tree-scroll-handler proto-tree-scroll-handler-bottom', {\n        on_mouseover () {\n          timer = setInterval(() => {\n            me.$refs.pageList.scrollTop ++\n          })\n        },\n        on_mouseout () {\n          clearInterval(timer)\n        },\n      }),\n    ]\n  }\n  return div('.proto-page-list proto-tree card',\n    div('.card-header',\n      div('.card-title h6', '')\n    ),\n    div('.card-body proto-tree-body', {\n      ref: 'pageList'\n    },\n      ...children,\n    )\n  )\n}\nexport {\n  _renderPageList,\n}","import jsx from 'vue-jsx'\nlet { div } = jsx\nlet _renderCircle = function () {\n  let {left, top, width, height} = this._getCircleSize()\n  return div('.proto-circle', {\n    style_left: left + 'px',\n    style_top: top + 'px',\n    style_width: width + 'px',\n    style_height: height + 'px',\n  })\n}\nexport {\n  _renderCircle,\n}","import jsx from 'vue-jsx'\nimport {\n  _renderSetting\n} from './render/setting'\nimport {\n  _renderHandler\n} from './render/handler'\nimport {\n  _renderGuideShow\n} from './render/guide-show'\nimport {\n  _renderTools\n} from './render/tools'\nimport {\n  _renderRectNav\n} from './render/rect-nav'\nimport {\n  _renderRects,\n  _renderRect,\n  _renderRectInner,\n} from './render/rect'\nimport {\n  _renderRule,\n} from './render/rule'\nimport {\n  _renderRectList,\n} from './render/rect-list'\nimport {\n  _renderPageList,\n} from './render/page-list'\nimport {\n  _renderCircle\n} from './render/circle'\nimport vars from '@/core/design-vars'\nimport { isRightMouse } from '@/core/base'\nimport event from '@/core/event'\nlet { div } = jsx\nexport default {\n  data () {\n    return {\n      topRule: null,\n      leftRule: null,\n    }\n  },\n  methods: {\n    _renderSetting,\n    _renderHandler,\n    _renderGuideShow,\n    _renderTools,\n    _renderRects,\n    _renderRect,\n    _renderRectInner,\n    _renderRectNav,\n    _renderRule,\n    _renderRectList,\n    _renderPageList,\n    _renderCircle,\n    _renderLoading () {\n      return div('loading')\n    },\n    _renderMain (h) {\n      jsx.h = h\n      let me = this\n      let isCircle = this.mouse.ing && (this.mouse.eventType === 'circle')\n      return div({\n        class_proto: true,\n      },\n        div({\n          'class_proto-top': true,\n          'style_height': vars.a + 'px',\n          on_mousedown (e) {\n            e.stopPropagation()\n          }\n        },\n          this._renderTools()\n        ),\n        div({\n          'class_proto-left': true,\n          'style_top': vars.a + 'px',\n          'style_width': vars.b + 'px',\n          'style_height': `calc(100% - ${vars.a}px)`,\n        },\n          div('.proto-height-half', this._renderPageList()),\n          div('.proto-height-half', this._renderRectNav()),\n        ),\n        div({\n          'class_proto-middle': true,\n          'style_top': vars.a + vars.c + 'px',\n          'style_left': vars.b + vars.c + 'px',\n          'style_right': vars.d + 'px',\n          'style_height': `calc(100% - ${vars.a}px - ${vars.c}px)`,\n          ref: 'middle',\n          on_mousedown (e) {\n            e.stopPropagation()\n            me._blurRect()\n            if (isRightMouse(e)) {\n              me._showContextmenu(e, 'canvas')\n            }\n            else {\n              me.mouse.eventType = 'circle'\n              event.$emit('windowMouseDown', e)\n            }\n          }\n        },\n          this._renderRects(),\n          this._renderGuideShow(),\n          this._renderHandler(),\n          isCircle ? this._renderCircle() : null,\n        ),\n        div({\n          'class_proto-right': true,\n          'style_top': vars.a + 'px',\n          'style_width': vars.d + 'px',\n          'style_height': `calc(100% - ${vars.a}px)`,\n        },\n          div('.proto-height-half', this._renderSetting(h)),\n          div('.proto-height-half',this._renderRectList()),\n        ),\n      )\n    },\n  },\n  mounted () {\n    this._renderRule()\n  },\n}","import {\n  getUuid,\n  getGroupSize,\n  getRectInfo,\n  middleLeft,\n  middleTop,\n  tNumber,\n  checkRectOverlap2,\n} from '@/core/base'\nimport * as rectConfig from '@/core/rect-config'\nexport default {\n  data () {\n    return {\n      currProjectId: '',\n      currPageId: '',\n      currRectId: '',\n      hoverRectId: '',\n      tempGroupId: '',\n      selectedRects: {},\n      objects: {},\n      handler: {\n        // \n        show: true,\n        timer: null,\n      },\n      rectConfig: {\n        ...rectConfig,\n      },\n      clipboard: {\n        count: 0,\n        data: [],\n      },\n      renderHook: 1,\n    }\n  },\n  computed: {\n    scale: {\n      get () {\n        this.renderHook\n        if (!this.currProject) {\n          return 1\n        }\n        return parseFloat(this.currProject.data.scale)\n      },\n      set (value) {\n        this.currProject.scale = value\n      }\n    },\n    currProject: {\n      get () {\n        return this.objects[this.currProjectId]\n      }\n    },\n    currPage: {\n      get () {\n        return this.objects[this.currPageId]\n      }\n    },\n    currRect: {\n      get () {\n        return this.objects[this.currRectId]\n      }\n    },\n    tempGroup: {\n      get () {\n        this.renderHook\n        return this.objects[this.tempGroupId]\n      }\n    }\n  },\n  methods: {\n    _parseLongProp (\n      prop, \n      data = this.$data\n    ) {\n      let me = this\n      let props = prop.split('.')\n      let object = data\n      let lastProp = props.slice(-1)[0]\n      props.slice(0, -1).forEach(p => {\n        object = object[p]\n      })\n      return {\n        get () {\n          return object[lastProp]\n        },\n        set (value) {\n          let isNull = (value === null) || (value === undefined) \n          if (isNull){\n            delete object[lastProp]\n          }\n          else {\n            object[lastProp] = value\n            me.renderHook ++\n          }\n        }\n      }\n    },\n    _safeObject (rect) {\n      if (typeof rect === 'string') {\n        rect = this.objects[rect]\n      }\n      return rect\n    },\n    _createProjectBase () {\n      return {\n        id: getUuid(),\n        name: '',\n        type: 'project',\n        count: 1,\n        pages: {\n          headId: '',\n          tailId: '',\n        },\n        data: {\n          scale: 1,\n        },\n        isDelete: false,\n      }\n    },\n    _createProject () {\n      let project = this._createProjectBase()\n      this.objects[project.id] = project\n      return project\n    },\n    _createPageBase (parentId) {\n      return {\n        id: getUuid(),\n        name: '',\n        type: 'page',\n        count: 1,\n        parentId,\n        projectId: parentId,\n        prevId: '',\n        nextId: '',\n        pages: {\n          headId: '',\n          tailId: '',\n        },\n        //  rects\n        rects: {\n          headId: '',\n          tailId: '',\n        },\n        data: {\n          isNameEdit: false,\n          isExpand: true,\n        },\n        isDelete: false,\n      }\n    },\n    _createPage (parentId = this.currProjectId) {\n      let page = this._createPageBase(parentId)\n      page = {\n        ...page,\n        name: '' + this.currProject.count,\n        projectId: this.currProjectId,\n      }\n      this.currProject.count = this.currProject.count + 1\n      this.objects[page.id] = page\n      this._linkedListAppend(this.objects[parentId], page, 'pages')\n      return page\n    },\n    _removePage () {\n      let currPage = this.currPage\n      let f = (page) => {\n        page.isDelete = true\n      }\n      this._linkedListRemove(this.objects[currPage.parentId], currPage, 'pages')\n      this._linkedListWalk(currPage, 'pages', f)\n      f(currPage)\n      \n      let currPageId = this.objects[this.currProjectId].pages.headId\n      this._updateCurrPage(this.objects[currPageId])\n    },\n    _createRect (type = 'rect') {\n      let data = this.rectConfig[type]\n      if (!data) {\n        return\n      }\n      type = 'rect-' + type\n      return this._createRectByConfig({type, data})\n    },\n    _createRectByConfig (config) {\n      let data = config.data\n      //  group \n      //  group \n      if (Array.isArray(data)){\n        let group = this._createRectBase(data[0].type, data[0].data)\n        let rects = data.slice(1).map(o => this._createRectBase(o.type, o.data))\n        this._bindGroup(group, rects)\n        return group\n      }\n      else {\n        return this._createRectBase(config.type, data)\n      }\n    },\n    _createRectBase (\n      type = 'rect', \n      data\n    ) {\n      data = {...data}\n      let index = this.currPage.count\n      this.currPage.count = this.currPage.count + 1\n      let rect = {\n        id: getUuid(),\n        parentId: this.currPage.id,\n        pageId: this.currPage.id,\n        groupId: '',\n        tempGroupId: '',\n        data,\n        // \n        tempData: null,\n        // \n        type,\n        name: data.name + index,\n        prevId: '',\n        nextId: '',\n        tempIndex: index,\n        isDelete: false,\n      }\n      if (this._checkIsGroup(rect)){\n        rect = {\n          ...rect,\n          rects: {\n            headId: '',\n            tailId: '',\n          },\n        }\n      }\n      this.objects[rect.id] = rect\n      if (!this._checkIsTempGroup(rect)){\n        this._linkedListAppend(this.currPage, rect)\n      }\n      //  this.objects  proxy rect \n      return this.objects[rect.id]\n    },\n    _cloneRectDeep (rect) {\n      rect = this._safeObject(rect)\n      let f = (rect2) => {\n        return {\n          type: rect2.type,\n          data: {...rect2.data},\n        }\n      }\n      if (this._checkIsGroup(rect)){\n        let rects = [f(rect)]\n        this._getRectsByGroup(rect).forEach(rect2 => {\n          rects.push(f(rect2))\n        })\n        return {\n          type: 'rect-group',\n          data: rects,\n        }\n      }\n      else {\n        return f(rect)\n      }\n    },\n    _getObjectsByParentId (\n      groupId, \n      prop = 'groupId'\n    ) {\n      let objects = []\n      for (let key in this.objects){\n        let object = this.objects[key]\n        if (object && !object.isDelete && (object[prop] === groupId) ){\n          objects.push(object)\n        }\n      }\n      return objects\n    },\n    //  page  rects\n    _getRectsByPageDeep (pageId = this.currPage.id) {\n      let rects = this._linkedListGetObjects(this.objects[pageId])\n      if (this.tempGroup){\n        rects.push(this.tempGroup)\n      }\n      return rects\n    },\n    _getRectsByGroup (group) {\n      group = this._safeObject(group)\n      let rects = []\n      if (this._checkIsTempGroup(group)){\n        rects = this._getObjectsByParentId(group.id, 'tempGroupId')\n      }\n      else if (this._checkIsGroup(group)){\n        rects = this._getObjectsByParentId(group.id)\n      }\n      else {\n        rects = [group]\n      }\n      return rects\n    },\n    _getGroupByRect (rect) {\n      rect = this._safeObject(rect)\n      let group = this.objects[rect.groupId]\n      return (group && !group.isDelete) ? group : null\n    },\n    _getTempGroupByRect (rect) {\n      rect = this._safeObject(rect)\n      if (rect.tempGroupId){\n        return this.objects[rect.tempGroupId]\n      }\n      let group = this._getGroupByRect(rect)\n      if (group && group.tempGroupId){\n        return this.objects[group.tempGroupId]\n      }\n      return null\n    },\n    // \n    _bindGroup (\n      group, \n      rects\n    ) {\n      group = this._safeObject(group)\n      //  rects  group \n      let sortRects = new Set()\n      //  groups\n      let groups = new Set()\n      rects.forEach(rect => {\n        rect = this._safeObject(rect)\n        if (this._checkIsTempGroup(rect)){\n          return\n        }\n        if (this._checkIsGroup(rect)){\n          sortRects.add(rect)\n          return\n        }\n        if (rect.groupId){\n          let _group = this.objects[rect.groupId]\n          groups.add(_group)\n          sortRects.add(_group)\n          return\n        }\n        sortRects.add(rect)\n      })\n      let topRect = Array.from(sortRects).sort(\n        (a, b) => b.tempIndex - a.tempIndex\n      )[0]\n      let currPage = this.currPage\n      this._linkedListRemove(currPage, group)\n      this._linkedListInsertAfter(currPage, topRect, group)\n\n      //  rects  group \n      rects.sort(\n        (a, b) => a.tempIndex - b.tempIndex\n      ).forEach(rect => {\n        rect = this._safeObject(rect)\n        if (this._checkIsTempGroup(rect)){\n          return\n        }\n        if (this._checkIsGroup(rect)){\n          this._removeRectById(rect.id)\n          return\n        }\n        if (rect.groupId){\n          if (this._getGroupByRect(rect)){\n            this._linkedListRemove(this.objects[rect.groupId], rect)\n          }\n        }\n        else  {\n          this._linkedListRemove(currPage, rect)\n        }\n        this._linkedListAppend(group, rect)\n        rect.tempGroupId = ''\n        rect.groupId = group.id\n        rect.parentId = group.id\n      })\n      //  groups \n      Array.from(groups).forEach(group => {\n        if (!(group.id in this.objects) || this.objects[group.id].isDelete){\n          return\n        }\n        let children = this._getRectsByGroup(group)\n        if (children.length <= 1){\n          this._unbindGroup(group)\n        }\n        else {\n          group.isOpen = false\n          this._updateGroupSize(group)\n        }\n      })\n      this._updateGroupSize(group)\n    },\n    _unbindGroup (group) {\n      group = this._safeObject(group)\n      this._getRectsByGroup(group).forEach(rect => {\n        rect.groupId = ''\n        rect.parentId = this.currPageId\n        this._linkedListRemove(group, rect)\n        this._linkedListInsertBefore(this.currPage, group, rect)\n      })\n      this._removeRectById(group.id)\n    },\n    _bindTempGroup (rects) {\n      if (!this.tempGroup){\n        this.tempGroupId = this._createRect('tempGroup').id\n      }\n      let group = this.tempGroup\n      rects.forEach(rect => {\n        rect = this._safeObject(rect)\n        rect.tempGroupId = group.id\n      })\n      this._updateRectTempData(group)\n      this._updateGroupSize(group)\n      return group\n    },\n    _unbindTempGroup () {\n      if (!this.tempGroupId){\n        return\n      }\n      this._getRectsByGroup(this.tempGroupId).forEach(rect => {\n        rect.tempGroupId = ''\n        let group = this._getGroupByRect(rect)\n        if (group) {\n          group.isOpen = false\n        }\n      })\n      this.tempGroup.isDelete = true\n      this.tempGroupId = ''\n    },\n    _unbindTempGroupSome (rects) {\n      if (!this.tempGroupId){\n        return\n      }\n      rects.forEach(rect => {\n        rect.tempGroupId = ''\n      })\n      let children = this._getRectsByGroup(this.currRectId)\n      if (children.length <= 1) {\n        this._unbindTempGroup()\n      }\n      //  group  size\n      else {\n        this._updateGroupSize(this.currRectId)\n      }\n    },\n    //  id  rects  object\n    _getRectById (id) {\n      return this.objects[id]\n    },\n    _getTempGroup () {\n      return this.objects[this.tempGroupId]\n    },\n    _removeRectById (id) {\n      let rect = this.objects[id]\n      let group = this._getGroupByRect(id)\n      if (!this._checkIsTempGroup(rect)){\n        if (rect.groupId){\n          if (group){\n            this._linkedListRemove(group, this.objects[id])\n          }\n        }\n        else {\n          this._linkedListRemove(this.currPage, this.objects[id])\n        }\n      }\n      rect.isDelete = true\n      if (group){\n        let children = this._getRectsByGroup(group)\n        if (children.length === 1){\n          this._unbindGroup(group)\n        }\n        else {\n          this._updateGroupSize(group)\n        }\n      }\n    },\n    //  group size\n    _updateGroupSize (group) {\n      group = this._safeObject(group)\n      var size = this._getGroupSize(group)\n      this._updateRectData(group, size, false)\n      return size\n    },\n    _getGroupSize (group) {\n      group = this._safeObject(group)\n      let rects = this._getRectsByGroup(group)\n      return getGroupSize(rects, group.data.angle)\n    },\n    _checkIsPage (object) {\n      return object.type === 'page'\n    },\n    _checkIsRectLike (rect) {\n      return rect.type.indexOf('rect-') === 0\n    },\n    _checkIsGroupLike (rect) {\n      return rect.type === 'rect-group' || rect.type === 'rect-tempGroup'\n    },\n    _checkIsTempGroup (rect) {\n      return rect.type === 'rect-tempGroup'\n    },\n    _checkIsGroup (rect) {\n      return rect.type === 'rect-group'\n    },\n    _updateAllRectsTempData () {\n      this._getRectsByPageDeep().forEach(rect => {\n        rect.tempData = getRectInfo(rect.data)\n      })\n    },\n    _updateRectTempData (rect) {\n      rect = this._safeObject(rect)\n      this._getRectsByRectDeep(rect).forEach(rect2 => {\n        rect2.tempData = getRectInfo(rect2.data)\n      })\n    },\n    _getRectsByRectDeep (rect) {\n      if (!this._checkIsGroupLike(rect)){\n        return [rect]\n      }\n      if (this._checkIsGroup(rect)){\n        return [rect, ...this._getRectsByGroup(rect)]\n      }\n      if (this._checkIsTempGroup(rect)){\n        let rects = [rect]\n        this._getRectsByGroup(rect).forEach(rect2 => {\n          rects = [...rects, rect2]\n          if (this._checkIsGroup(rect2)){\n            rects = [...rects,...this._getRectsByGroup(rect2)]\n          }\n        })\n        return rects\n      }\n    },\n    _updateRectData (\n      rect, \n      data, \n      isSyncParent = true\n    ) {\n      //  line height  borderWidth\n      //  1\n      let isLine = rect.type === 'rect-line'\n      if (isLine && ('height' in data)){\n        let height = Math.max(data.height, 1)\n        data['borderWidth'] = data['height'] = height\n      }\n      for (let k in data){\n        let v = data[k]\n        if (typeof v === 'number'){\n          v = tNumber(v)\n        }\n        rect.data[k] = v\n      }\n\n      if (isSyncParent){\n        let group = this._getGroupByRect(rect)\n        if (group){\n          this._updateGroupSize(group)\n        }\n        let tempGroup = this._getTempGroupByRect(rect)\n        if (tempGroup){\n          this._updateGroupSize(tempGroup)\n        }\n      }\n      this.renderHook ++\n    },\n    _updateGroupState (\n      group, \n      f, \n      isRotate = false\n    ) {\n      let groupIds = new Set()\n      this._getRectsByRectDeep(group).forEach(rect => {\n        let id = rect.id\n        if (this._checkIsGroup(rect)){\n          groupIds.add(id)\n        }\n        else {\n          //  group\n          if (rect.groupId){\n            groupIds.add(rect.groupId)\n          }\n          f(id)\n        }\n      })\n      ;[...groupIds].forEach(groupId => {\n        // \n        if (isRotate) {\n          f(groupId)\n        }\n        // \n        else {\n          this._updateGroupSize(this._getRectById(groupId))\n        }\n      })\n    },\n    _addSelectedRect (rect) {\n      if (this._checkIsTempGroup(rect)) {\n        return\n      }\n      this.selectedRects[rect.id] = 1\n    },\n    _removeSelectedRect (rect) {\n      delete this.selectedRects[rect.id]\n      this._unbindTempGroupSome([rect])\n    },\n    _clearSelectedRects () {\n      this.selectedRects = {}\n      this._unbindTempGroup()\n    },\n    _updateCurrRectBySelected () {\n      this.tempGroupId = ''\n      this.currRectId = ''\n      let unLockRects = this._getUnLockRectsBySelected()\n      let count = unLockRects.length\n      if (count <= 1) {\n        this._unbindTempGroup()\n        this._updateCurrRect(this.objects[unLockRects[0]])\n      }\n      else {\n        let tempGroup = this._bindTempGroup(unLockRects)\n        this._updateCurrRect(tempGroup)\n      }\n      this._updateAllRectsTempData()\n      this._updateGuide()\n      this.mouse.e = {}\n    },\n    _getLockRectsBySelected () {\n      return Object.keys(this.selectedRects).filter(rectId => {\n        let rect = this.objects[rectId]\n        return rect && \n          !rect.isDelete && \n          this.objects[rectId].data.isLock\n      })\n    },\n    _getUnLockRectsBySelected () {\n      return Object.keys(this.selectedRects).filter(rectId => {\n        let rect = this.objects[rectId]\n        return rect && \n          !rect.isDelete && \n          !this.objects[rectId].data.isLock\n      })\n    },\n    _getSelectedRects () {\n      return Object.keys(this.selectedRects)\n    },\n    _focusRect (\n      rect, \n      e = {shiftKey: true}, \n      isRest = true\n    ) {\n      rect = this._safeObject(rect)\n      let isDblclick = e.type === 'dblclick'\n      let isShiftkey = e.shiftKey\n      let group = this._getGroupByRect(rect)\n      let tempGroup = this._getTempGroupByRect(rect)\n      let currRect = this.objects[this.currRectId]\n      let mouse = this.mouse\n      mouse.e = e\n      //  dblclickshiftgrouptempGroup \n      let f = () => {\n        if ((rect === currRect) && !isShiftkey){\n          if (isDblclick){\n            rect.data.isEdit = true\n          }\n          return\n        }\n        if (isShiftkey && isDblclick){\n          return\n        }\n        if (isDblclick){\n          this._blurRect()\n          let isGroupOpen = group.data.isOpen\n          if (group && !isGroupOpen){\n            group.data.isOpen = true\n          }\n          if (!group || (group && isGroupOpen)){\n            rect.data.isEdit = true\n          }\n          this._addSelectedRect(rect)\n          return\n        }\n        if (!isShiftkey){\n          if (!group && !tempGroup){\n            this._blurRect()\n            this._addSelectedRect(rect)\n            if (this._checkIsGroup(rect)){\n              rect.data.isOpen = false\n            }\n            return\n          }\n          if (tempGroup){\n            this._addSelectedRect(tempGroup)\n            return\n          }\n          if (group){\n            let groupIsOpen = group.data.isOpen\n            this._blurRect()\n            if (!groupIsOpen){\n              this._addSelectedRect(group)\n            }\n            else {\n              this._addSelectedRect(rect)\n              group.data.isOpen = true\n            }\n          }\n          return\n        }\n        if (isShiftkey){\n          if (this._checkIsGroup(rect) && rect.data.isOpen){\n            return\n          }\n          if (group && !group.data.isOpen){\n            rect = group\n          }\n          if (rect.id in this.selectedRects){\n            this._removeSelectedRect(rect)\n          }\n          else  {\n            this._addSelectedRect(rect)\n          }\n        }\n      }\n      f()\n      if (isRest) {\n        this._updateCurrRectBySelected()\n      }\n    },\n    _blurRect (closeGroup = true) {\n      this.selectedRects = {}\n      this._hoverOffRect()\n      let rect = this.objects[this.currRectId]\n      if (!rect) {\n        return\n      }\n      this.currRectId = ''\n      if (this._checkIsTempGroup(rect)){\n        this._unbindTempGroup(rect)\n      }\n      else {\n        rect.data.isEdit = false\n      }\n      if (closeGroup){\n        //  rect \n        let group = this._getGroupByRect(rect)\n        if (group){\n          group.data.isOpen = false\n        }\n      }\n    },\n    _hoverRect (rect) {\n      rect = this._safeObject(rect)\n      if (this.mouse.ing){\n        return\n      }\n      let target = rect\n      let group = this._getGroupByRect(rect)\n      if (group && !group.data.isOpen){\n        target = group\n      }\n      if (this._checkIsGroup(rect) && rect.data.isOpen){\n        target = null\n      }\n      this.hoverRectId = target ? target.id : ''\n    },\n    _hoverOffRect () {\n      this.hoverRectId = ''\n    },\n    _getMousePoint (e) {\n      let $middle = document.querySelector('.proto-middle')\n      return {\n        left: e.clientX + $middle.scrollLeft - middleLeft,\n        top: e.clientY + $middle.scrollTop - middleTop,\n      }\n    },\n    _getRectBaseJsxProps (\n      rect, \n      scale = 1\n    ) {\n      rect = this._safeObject(rect)\n      let data = rect.data\n      let opacity = data.opacity / 100\n      if (rect.groupId) {\n        let parentOpacity = this.objects[rect.groupId].data.opacity / 100\n        opacity *= parentOpacity\n      }\n      opacity = tNumber(opacity, 2)\n      return {\n        style_left: tNumber(data.left * scale, 0) + 'px',\n        style_top: tNumber(data.top * scale, 0) + 'px',\n        style_width: tNumber(data.width * scale, 0) + 'px',\n        style_height: tNumber(data.height * scale, 0) + 'px',\n        'style_z-index': data.zIndex,\n        style_transform: `rotate(${data.angle}deg)`,\n        style_opacity: opacity,\n      }\n    },\n    _updateCurrPage (page) {\n      page = this._safeObject(page)\n      this.currPageId = page.id\n      this.currProject.currPageId = page.id\n      this._updateCurrRect()\n    },\n    _updateCurrRect (rect) {\n      rect = this._safeObject(rect)\n      this.currRectId = rect ? rect.id : ''\n      if (rect && rect.groupId) {\n        this._safeObject(rect.groupId).data.isOpen = true\n      }\n    },\n    _updateHoverRect (rect) {\n      rect = this._safeObject(rect)\n      this.hoverRectId = rect ? rect.id : ''\n    },\n    _flashHandler () {\n      this.handler.show = false\n      clearTimeout(this.handler.timer)\n      this.handler.timer = setTimeout(() => {\n        this.handler.show = true\n      }, 1000)\n    },\n    _getCircleSize () {\n      let mouse = this.mouse\n      let left = Math.min(mouse.startLeft, mouse.currLeft) \n      let top = Math.min(mouse.startTop, mouse.currTop) \n      let width = Math.abs(mouse.currLeft - mouse.startLeft)\n      let height = Math.abs(mouse.currTop - mouse.startTop)\n      return {\n        left,\n        top, \n        width,\n        height,\n        right: left + width,\n        bottom: top + height,\n        angle: 0,\n      }\n    },\n    _walkCurrPageRects (\n      f, \n      isDeep = false\n    ) {\n      this._linkedListWalk(this.currPage, 'rects', f, isDeep)\n    },\n    _focusRectWhenCircle () {\n      if (!this.currPage) {\n        return\n      }\n      let circle = this._getCircleSize()\n      circle = getRectInfo({\n        ...circle,\n        angle: 0,\n      })\n      this._walkCurrPageRects((rect => {\n        if (checkRectOverlap2(getRectInfo(rect.data, this.scale), circle)) {\n          this._focusRect(rect, {shiftKey: true}, false)\n        }\n      }))\n      this._updateCurrRectBySelected()\n    },\n    _showContextmenu (\n      e, \n      type\n    ) {\n      let height = 0\n      let actionTypes = []\n      let actions = []\n      if (type === 'rect-item') {\n        height = 310\n        actionTypes = [\n          'rect-',\n          'rect-',\n          'rect-',\n          'rect-',\n          null,\n          'rect-',\n          'rect-',\n          // 'rect-',\n          null,\n          'rect-',\n          'rect-',\n        ]\n      }\n      else if (type === 'rect') {\n        height = 340\n        actionTypes = [\n          'rect-',\n          'rect-',\n          'rect-',\n          'rect-',\n          null,\n          'rect-',\n          'rect-',\n          // 'rect-',\n          null,\n          'rect-',\n          'rect-',\n          null,\n          'rect-',\n          'rect-',\n        ]\n      }\n      else if (type === 'page') {\n        height = 200\n        actionTypes = [\n          'page-',\n          'page-',\n          'page-',\n        ]\n      }\n      else if (type === 'canvas') {\n        height = 40\n        actionTypes = [\n          'rect-',\n        ]\n      }\n      actions = actionTypes.map(actionType => {\n        if (!actionType) {\n          return actionType\n        }\n        return {\n          ...this._actionGet(actionType),\n          context: this,\n        }\n      })\n      this.$contextmenu(e, height, actions)\n    },\n    _updateCurrRectOpacity (opacity) {\n      if (this._checkIsTempGroup(this.currRect)) {\n        this._getRectsByGroup(this.currRect).forEach(rect => {\n          rect.data.opacity = opacity\n        })\n      }\n      this.currRect.data.opacity = opacity\n    },\n  }\n}","import {\n  getRectInfo,\n  tNumber,\n} from '@/core/base'\nexport default {\n  data () {\n    return {\n      // \n      guide: {\n        line: {\n          top: new Set(),\n          left: new Set(),\n        },\n        show: {\n          top: new Set(),\n          left: new Set(),\n        }\n      },\n    }\n  },\n  methods: {\n    // \n    _updateGuide () {\n      let currRectId = this.currRectId\n      let currRect = this.currRect\n      this._clearGuideLine()\n      this._getRectsByPageDeep().forEach(rect => {\n        let rectId = rect.id\n        let groupId = rect.groupId\n        let tempGroupId = rect.tempGroupId\n        // \n        if (rectId === currRectId){\n          return\n        }\n        // \n        if ( (groupId === currRectId) || (tempGroupId === currRectId)){\n          return\n        }\n        // \n        if (this._checkIsGroup(rect) && this._getRectsByGroup(rect).includes(currRect)){\n          return\n        }\n        //  tempGroup \n        if (groupId){\n          if (this._getRectById(groupId).tempGroupId === currRectId){\n            return\n          }\n        }\n        let tempInfo = rect.tempData\n        this.guide.line.left\n          .add(tempInfo.rotateLeftTop.left)\n          .add(tempInfo.rotateRightTop.left)\n          .add(tempInfo.rotateRightBottom.left)\n          .add(tempInfo.rotateLeftBottom.left)\n          .add(tempInfo.center.left)\n        \n        this.guide.line.top\n          .add(tempInfo.rotateLeftTop.top)\n          .add(tempInfo.rotateRightTop.top)\n          .add(tempInfo.rotateRightBottom.top)\n          .add(tempInfo.rotateLeftBottom.top)\n          .add(tempInfo.center.top)\n      })\n    },\n    _checkRectPointGuide (\n      rect, \n      pointInfo, \n      mx, \n      my\n    ) {\n      let min = 5\n      let guideLeft = this.guide.line.left\n      let guideTop = this.guide.line.top\n      let guideShowLeft = this.guide.show.left\n      let guideShowTop = this.guide.show.top\n      let tempInfo = rect.tempData\n      let nowInfo = getRectInfo(rect.data)\n      let nowPoint = nowInfo[pointInfo.name]\n      let oldPoint = tempInfo[pointInfo.name]\n      let isStop = false\n      let newPoint = {\n        left: tNumber(oldPoint.left + mx),\n        top: tNumber(oldPoint.top + my),\n      }\n\n      //  has  1px \n      let checkInGuide = (guide, num) => {\n        for (let g of guide) {\n          if (Math.abs(g - num) < 1){\n            return {\n              isIn: true,\n              value: g - num\n            }\n          }\n        }\n        return {\n          isIn: false,\n          value: 0,\n        } \n      }\n      if (pointInfo.left){\n        let isInGuide = checkInGuide(guideLeft, nowPoint.left)\n        if (isInGuide.isIn){\n          if (Math.abs(newPoint.left - nowPoint.left) <= min){\n            mx = nowPoint.left - oldPoint.left + isInGuide.value\n            isStop = true\n          }\n          guideShowLeft.add(nowPoint.left + isInGuide.value)\n        }\n      }\n      if (pointInfo.top){\n        let isInGuide = checkInGuide(guideTop, nowPoint.top)\n        if (isInGuide.isIn){\n          if (Math.abs(newPoint.top - nowPoint.top) <= min){\n            my = nowPoint.top - oldPoint.top + isInGuide.value\n            isStop = true\n          }\n          guideShowTop.add(nowPoint.top + isInGuide.value)\n        }\n      }\n      return [\n        mx,\n        my,\n        isStop,\n      ]\n    },\n    _checkGuideOnMove (\n      rect, \n      mx, \n      my\n    ) {\n      // \n      this._clearGuideShow()\n      ;['rotateLeftTop', 'rotateRightTop', 'rotateRightBottom', 'rotateLeftBottom', 'center'].forEach(name => {\n        let pointInfo = {\n          name,\n          top: true,\n          left: true,\n        }\n        ;[mx, my] = this._checkRectPointGuide(rect, pointInfo, mx, my)\n      })\n      return [mx, my]\n    },\n    _checkGuideOnResize (\n      rect, \n      dir, \n      mx, \n      my\n    ) {\n      this._clearGuideShow()\n      let angle = rect.data.angle\n      //  0 \n      if (angle === 0){\n        let pointInfo = {\n          'a': {\n            name: 'rotateLeftTop',\n            left: true,\n            top: true,\n          },\n          'b': {\n            name: 'rotateRightTop',\n            left: true,\n            top: true,\n          },\n          'c': {\n            name: 'rotateRightBottom',\n            left: true,\n            top: true,\n          },\n          'd': {\n            name: 'rotateLeftBottom',\n            left: true,\n            top: true,\n          },\n          'ab': {\n            name: 'rotateLeftTop',\n            left: false,\n            top: true,\n          },\n          'bc': {\n            name: 'rotateRightTop',\n            left: true,\n            top: false, \n          },\n          'cd': {\n            name: 'rotateRightBottom',\n            left: false,\n            top: true,\n          },\n          'ad': {\n            name: 'rotateLeftBottom',\n            left: true,\n            top: false, \n          },\n        }[dir]\n        ;[mx, my] = this._checkRectPointGuide(rect, pointInfo, mx, my)\n      }\n      return [mx, my]\n    },\n    _checkGuideOnRotate (\n      oldAngle, \n      nowAngle, \n      newAngle, \n      angleDiff\n    ) {\n      let min = 5\n      if (nowAngle % 90 === 0){\n        if (Math.abs(newAngle - nowAngle) <= min){\n          angleDiff = nowAngle - oldAngle\n        }\n        //  nowAngle 0 360 \n        if (nowAngle === 0){\n          if (Math.abs(newAngle - 360) <= min){\n            angleDiff = nowAngle - oldAngle\n          }\n        }\n      }\n      return angleDiff\n    },\n    _clearGuideLine () {\n      this.guide.line.left = new Set()\n      this.guide.line.top = new Set()\n    },\n    _clearGuideShow () {\n      this.guide.show.left = new Set()\n      this.guide.show.top = new Set()\n    },\n  }\n}","export default {\n  data () {\n    let me = this\n    return {\n      actionMap: {\n        'rect-': {\n          checkF: '_actionCanCurrRect',\n          doF: () => {\n            this.currRect.data.isNameEdit = true\n          }\n        },\n        'rect-': {\n          doF: '_actionRectSelectAll',\n          hotkey: 'command + a, ctrl + a',\n        },\n        'rect-': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectCut',\n          hotkey: 'command + x, ctrl + x',\n        },\n        'rect-': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectCopy',\n          hotkey: 'command + c, ctrl + c'\n        },\n        'rect-': {\n          checkF: '_actionCanRectPaste',\n          doF: '_actionRectPaste',\n          hotkey: 'command + v, ctrl + v'\n        },\n        'rect-': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectDelete',\n          hotkey: 'backspace'\n        },\n        'rect-': {\n          checkF: '_actionCanRectLock',\n          doF: '_actionRectLock',\n          hotkey: 'command + l, ctrl + l'\n        },\n        'rect-': {\n          checkF: '_actionCanRectUnLock',\n          doF: '_actionRectUnLock',\n          hotkey: 'command + shift + l, ctrl + shift + l'\n        },\n        'rect-': {\n          checkF: '_actionCanGroup',\n          doF: '_actionGroup',\n          hotkey: 'command + g, ctrl + g'\n        },\n        'rect-': {\n          checkF: '_actionCanUnGroup',\n          doF: '_actionUnGroup',\n          hotkey: 'command + shift + g, ctrl + shift + g'\n        },\n        'rect-': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectMoveUp',\n          hotkey: 'command + alt + up, ctrl + alt + up',\n        },\n        'rect-': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectMoveDown',\n          hotkey: 'command + alt + down, ctrl + alt + down',\n        },\n        'rect-': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectMoveTop',\n          hotkey: 'command + shift + up, ctrl + shift + up',\n        },\n        'rect-': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectMoveBottom',\n          hotkey: 'command + shift + down, ctrl + shfit + down',\n        },\n        'rect-keyupMove': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectKeyupMove',\n          hotkey: 'up',\n        },\n        'rect-keydownMove': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectKeydownMove',\n          hotkey: 'down',\n        },\n        'rect-keyleftMove': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectKeyleftMove',\n          hotkey: 'left',\n        },\n        'rect-keyrightMove': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectKeyrightMove',\n          hotkey: 'right',\n        },\n        // page\n        'page-': {\n          checkF: '',\n          doF: () => {\n            me.currPage.isNameEdit = true\n            // me._commandObjectDataPropUpdate(me.currPage, 'isNameEdit', true) \n          },\n        },\n        'page-': {\n          checkF: '',\n          doF: () => {\n            me._actionPageCreate(me.currPage.id)\n          },\n        },\n        'page-': {\n          checkF: '_actionCanPageDelete',\n          doF: '_actionPageDelete',\n        },\n        // sys\n        'sys-': {\n          checkF: () => {\n            return !me.mouse.ing && \n              me._historyCanBack()\n          },\n          doF: '_historyBack',\n          hotkey: 'command + z, ctrl + z',\n        },\n        'sys-': {\n          checkF: () => {\n            return !me.mouse.ing && \n              me._historyCanGo()\n          },\n          doF: '_historyGo',\n          hotkey: 'command + shift + z, ctrl + shift + z',\n        },\n      }\n    }\n  },\n  methods: {\n    _actionGetInfo () {\n      let rect = this.objects[this.currRectId]\n      let isTempGroup = rect && this._checkIsTempGroup(rect)\n      let isGroup = rect && this._checkIsGroup(rect)\n      return {\n        rect,\n        isTempGroup,\n        isGroup,\n      }\n    },\n    // page\n    _actionPageCreate (parentId = this.currProjectId) {\n      let page = this._createPage(parentId)\n      page.data.isNameEdit = true\n      this._updateCurrPage(page)\n      this._historyPush()\n    },\n    _actionCanPageDelete () {\n      let cannot = (this.currPage.parentId === this.currProject.id) &&\n        !this.currProject.pages.tailId\n      return !cannot\n    },\n    _actionPageDelete () {\n      this._removePage()\n      this._historyPush()\n    },\n    // rect\n    _actionRectKeyupMove () {\n      this._updateRectTempData(this.currRectId)\n      this._move(this.currRectId, 0, -1, false)\n      this._historyPush()\n    },\n    _actionRectKeydownMove () {\n      this._updateRectTempData(this.currRectId)\n      this._move(this.currRectId, 0, 1, false)\n      this._historyPush()\n    },\n    _actionRectKeyleftMove () {\n      this._updateRectTempData(this.currRectId)\n      this._move(this.currRectId, -1, 0, false)\n      this._historyPush()\n    },\n    _actionRectKeyrightMove () {\n      this._updateRectTempData(this.currRectId)\n      this._move(this.currRectId, 1, 0, false)\n      this._historyPush()\n    },\n    _actionRectSelectAll () {\n      this._blurRect()\n      this._walkCurrPageRects((rect) => {\n        this._focusRect(rect, {shiftKey: true}, false)\n      })\n      this._updateCurrRectBySelected()\n    },\n    _actionCanGroup () {\n      return this._actionGetInfo().isTempGroup\n    },\n    _actionGroup () {\n      let currRect = this.objects[this.currRectId]\n      let newGroup = this._createRect('group')\n      let rects = this._getRectsByRectDeep(currRect)\n      this._bindGroup(newGroup, rects)\n      //  selected\n      rects.forEach(rect => {\n        this._removeSelectedRect(rect)\n      })\n      this._addSelectedRect(newGroup)\n      this._updateCurrRectBySelected()\n      this._historyPush()\n    },\n    _actionCanUnGroup () {\n      return this._actionGetInfo().isGroup\n    },\n    _actionUnGroup () {\n      let currRect = this.objects[this.currRectId]\n      let rects = this._getRectsByRectDeep(currRect)\n      this._unbindGroup(currRect)\n      //  selected\n      rects.forEach(rect => {\n        this._addSelectedRect(rect)\n      })\n      this._removeSelectedRect(currRect)\n      this._updateCurrRectBySelected()\n      this._historyPush()\n    },\n    _actionRectDelete () {\n      let currRect = this.objects[this.currRectId]\n      this._getRectsByRectDeep(currRect).forEach(rect => {\n        this._removeRectById(rect.id)\n      })\n      this._updateCurrRect()\n      this._historyPush()\n    },\n    _actionRectCopy () {\n      this.clipboard.count = 0\n      this.clipboard.data = this._getUnLockRectsBySelected().map(rect => this._cloneRectDeep(rect))\n    },\n    _actionRectCut () {\n      this._actionRectCopy()\n      this._actionRectDelete()\n    },\n    _actionCanRectPaste () {\n      return this.clipboard.data.length > 0\n    },\n    _actionRectPaste () {\n      let pasteCount = ++ this.clipboard.count\n      let moveDis = pasteCount * 20\n      this._clearSelectedRects()\n      // todo\n      this.clipboard.data.map(config => {\n        let rect = this._createRectByConfig(config)\n        this._addSelectedRect(rect)\n        return rect\n      })\n      this._updateCurrRectBySelected()\n      this._updateRectTempData(this.currRectId)\n      this._move(this.currRectId, moveDis, moveDis)\n      this._clearGuideShow()\n      this._historyPush()\n    },\n    _actionCanCurrRect () {\n      return this.currRectId\n    },\n    _actionRectMoveUp () {\n      let rects = []\n      if (this.tempGroupId){\n        rects = this._getRectsByGroup(this.currRectId)\n      }\n      else {\n        rects = [this.objects[this.currRectId]]\n      }\n      rects.forEach(rect => {\n        let parent = this.objects[rect.parentId]\n        this._linkedListMoveUp(parent, rect)\n      })\n      this._historyPush()\n    },\n    _actionRectMoveDown () {\n      let rects = []\n      if (this.tempGroupId){\n        rects = this._getRectsByGroup(this.currRectId)\n      }\n      else {\n        rects = [this.objects[this.currRectId]]\n      }\n      rects.forEach(rect => {\n        let parent = this.objects[rect.parentId]\n        this._linkedListMoveDown(parent, rect)\n      })\n      this._historyPush()\n    },\n    _actionRectMoveTop () {\n      let rects = []\n      if (this.tempGroupId){\n        rects = this._getRectsByGroup(this.currRectId)\n      }\n      else {\n        rects = [this.objects[this.currRectId]]\n      }\n      rects.forEach(rect => {\n        let parent = this.objects[rect.parentId]\n        this._linkedListMoveTop(parent, rect)\n      })\n      this._historyPush()\n    },\n    _actionRectMoveBottom () {\n      let rects = []\n      if (this.tempGroupId){\n        rects = this._getRectsByGroup(this.currRectId)\n      }\n      else {\n        rects = [this.objects[this.currRectId]]\n      }\n      rects.forEach(rect => {\n        let parent = this.objects[rect.parentId]\n        this._linkedListMoveBottom(parent, rect)\n      })\n      this._historyPush()\n    },\n    _actionCanRectLock () {\n      return this._getUnLockRectsBySelected().length\n    },\n    _actionCanRectUnLock () {\n      return this._getLockRectsBySelected().length\n    },\n    _actionRectLock () {\n      for (let rect in this.selectedRects) {\n        rect = this._safeObject(rect)\n        rect.data.isLock = true\n      }\n      this._updateCurrRectBySelected()\n      this._historyPush()\n    },\n    _actionRectUnLock () { \n      for (let rect in this.selectedRects) {\n        rect = this._safeObject(rect)\n        rect.data.isLock = false\n      }\n      this._updateCurrRectBySelected()\n      this._historyPush()\n    },\n    _actionCanRectAlign () {\n      return this._actionGetInfo().isTempGroup\n    },\n    // \n    _actionRectAlignLeft () {\n      this._updateRectTempData(this.currRect)\n      let tempGroupLeft = this.currRect.tempData.left\n      this._getRectsByGroup(this.currRect).forEach(rect => {\n        let moveLeft = tempGroupLeft - rect.tempData.minRotateLeft\n        this._move(rect, moveLeft, 0, false)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    // \n    _actionRectAlignLeftRight () {\n      this._updateRectTempData(this.currRect)\n      let tempGroupCenterLeft = this.currRect.tempData.center.left\n      this._getRectsByGroup(this.currRect).forEach(rect => {\n        let moveLeft = tempGroupCenterLeft - rect.tempData.center.left\n        this._move(rect, moveLeft, 0, false)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    // \n    _actionRectAlignRight () {\n      this._updateRectTempData(this.currRect)\n      let tempGroupRight = this.currRect.tempData.right\n      this._getRectsByGroup(this.currRect).forEach(rect => {\n        let moveLeft = tempGroupRight - rect.tempData.maxRotateLeft\n        this._move(rect, moveLeft, 0, false)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    // \n    _actionRectAlignTop () {\n      this._updateRectTempData(this.currRect)\n      let tempGroupTop = this.currRect.tempData.top\n      this._getRectsByGroup(this.currRect).forEach(rect => {\n        let moveTop = tempGroupTop - rect.tempData.minRotateTop\n        this._move(rect, 0, moveTop, false)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    // \n    _actionRectAlignTopBottom () {\n      this._updateRectTempData(this.currRect)\n      let tempGroupCenterTop = this.currRect.tempData.center.top\n      this._getRectsByGroup(this.currRect).forEach(rect => {\n        let moveTop = tempGroupCenterTop - rect.tempData.center.top\n        this._move(rect, 0, moveTop, false)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    // \n    _actionRectAlignBottom () {\n      this._updateRectTempData(this.currRect)\n      let tempGroupBottom = this.currRect.tempData.bottom\n      this._getRectsByGroup(this.currRect).forEach(rect => {\n        let moveTop = tempGroupBottom - rect.tempData.maxRotateTop\n        this._move(rect, 0, moveTop, false)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    // \n    _actionCanRectEqualSpace () {\n      let isTempGroup = this._actionGetInfo().isTempGroup\n      if (!isTempGroup) {\n        return false\n      }\n      let rects = this._getRectsByGroup(this.currRect)\n      return rects.length > 2\n    },\n    _actionRectEqualSpaceX () {\n      this._updateRectTempData(this.currRect)\n      let tempGroupWidth = this.currRect.data.width\n      let rects = this._getRectsByGroup(this.currRect)\n      let rectsWidth = 0\n      rects.forEach(rect => {\n        rectsWidth += (rect.tempData.maxRotateLeft - rect.tempData.minRotateLeft)\n      })\n      // \n      let perSpace = (tempGroupWidth - rectsWidth) / (rects.length - 1)\n      let sortRects = rects\n        .sort((a, b) => a.tempData.minRotateLeft - b.tempData.minRotateLeft )\n      // \n      sortRects.slice(0).forEach( (rect, i) => {\n        if (i === 0) {\n          return\n        }\n        let moveLeft = sortRects[i - 1].tempData.maxRotateLeft +\n          perSpace - \n          rect.tempData.minRotateLeft\n        this._move(rect, moveLeft, 0, false)\n        this._updateRectTempData(rect)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    _actionRectEqualSpaceY () {\n      this._updateRectTempData(this.currRect)\n      let tempGroupHeight = this.currRect.data.height\n      let rects = this._getRectsByGroup(this.currRect)\n      let rectsHeight = 0\n      rects.forEach(rect => {\n        rectsHeight += (rect.tempData.maxRotateTop - rect.tempData.minRotateTop)\n      })\n      // \n      let perSpace = (tempGroupHeight - rectsHeight) / (rects.length - 1)\n      let sortRects = rects\n        .sort((a, b) => a.tempData.minRotateTop - b.tempData.minRotateTop )\n      // \n      sortRects.slice(0).forEach( (rect, i) => {\n        if (i === 0) {\n          return\n        }\n        let moveTop = sortRects[i - 1].tempData.maxRotateTop +\n          perSpace - \n          rect.tempData.minRotateTop\n        this._move(rect, 0, moveTop, false)\n        this._updateRectTempData(rect)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    _actionGet (type) {\n      let action = this.actionMap[type]\n      let checkF = action.checkF || (() => true)\n      if (typeof checkF === 'string') {\n        checkF = this[checkF]\n      }\n      let doF = action.doF || (() => {})\n      if (typeof doF === 'string') {\n        doF = this[doF]\n      }\n      let text = type.split('-')[1] || 'unknow'\n      return {\n        ...action,\n        doF,\n        checkF,\n        text,\n      }\n    },\n    _actionSetHotKey () {\n      for (let type in this.actionMap) {\n        let {checkF, doF, hotkey} = this._actionGet(type)\n        if (hotkey) {\n          hotkey.split(',').forEach(key => {\n            this._hotkey(key, (e) => {\n              if (checkF.call(this)) {\n                e.preventDefault()\n                doF.call(this)\n              }\n            })\n          })\n        }\n      }\n    }\n  },\n  mounted () {\n    this._actionSetHotKey()\n  }\n}","import {\n  middleLeft,\n  middleTop,\n  tNumber,\n} from '@/core/base'\nimport event from '@/core/event'\nexport default {\n  data () {\n    return {\n      mouse: {\n        ing: false,\n        // \n        realIng: false,\n        startLeft: 0,\n        startTop: 0,\n        currLeft: 0,\n        currTop: 0,\n        // eventType \n        // move:  rect\n        // resize:  rect\n        // rotate:  rect\n        // create:  rect\n        // cirlce: \n        // movePage: \n        eventType: '',\n        resizerDir: '',\n        createType: '',\n        // \n        e: {},\n      },\n    }\n  },\n  methods: {\n  },\n  created () {\n    let me = this\n    let mouse = this.mouse\n    let mousedown = (e) => {\n      event.$emit('windowMouseDown', e)\n    }\n    let mousemove = (e) => {\n      let currRect = this.objects[this.currRectId]\n      if (!mouse.ing){\n        return\n      }\n      mouse.realIng = true\n      mouse.e = e\n      let scale = this.scale\n      let mousePoint = this._getMousePoint(e)\n      let left = mouse.currLeft = mousePoint.left \n      let top = mouse.currTop = mousePoint.top\n      let eventType = mouse.eventType\n      let mx = (left - mouse.startLeft) / scale\n      let my = (top - mouse.startTop) / scale\n\n      if (eventType === 'resize'){\n        me._resize(mx, my)\n      }\n      else if (eventType === 'rotate'){\n        let mousePoint = {\n          left: mouse.currLeft,\n          top: mouse.currTop,\n        }\n        me._rotate(mousePoint)\n      }\n      else if (eventType === 'move'){\n        me._move(currRect, mx, my)\n      }\n      else if (eventType === 'create'){\n        if ( (e.clientX > middleLeft) && (e.clientY > middleTop) ){\n          let createType = mouse.createType\n          let data = this.rectConfig[createType]\n          let rect = this._createRect(createType)\n          this._updateRectTempData(rect)\n          this._moveTo(rect, \n            tNumber(left - data.width / 2),\n            tNumber(top - data.height / 2)\n          )\n          mouse.eventType = 'move'\n          mouse.startLeft = left\n          mouse.startTop = top\n          me._focusRect(rect, e)\n        }\n      }\n    }\n    let mouseup = () => {\n      if (!mouse.ing){\n        return\n      }\n      // circle \n      if (mouse.eventType === 'circle'){\n        this._focusRectWhenCircle()\n      }\n      mouse.ing = false\n      mouse.eventType = ''\n      mouse.e = {}\n      this._clearGuideShow()\n      if (mouse.realIng) {\n        this._historyPush()\n      }\n      mouse.realIng = false\n    }\n    this.windowEventAdd('mousedown', mousedown)\n    this.windowEventAdd('mousemove', mousemove)\n    this.windowEventAdd('mouseup', mouseup)\n    // \n    this.windowEventAdd('contextmenu', (e) => {\n      e.preventDefault()\n    })\n    // event\n    event.$on('windowMouseDown', (e) => {\n      let mousePoint = this._getMousePoint(e)\n      mouse.startLeft = mouse.currLeft = mousePoint.left\n      mouse.startTop = mouse.currTop = mousePoint.top\n      if (!this.currRectId && this.mouse.eventType === 'move') {\n        mouse.ing = false\n      }\n      else {\n        mouse.ing = true\n      }\n    })\n  },\n  mounted () {\n    let $middle = this.$refs.middle\n    $middle.addEventListener('scroll', () => {\n      this._renderRule()\n    })\n  }\n}","// \n// https://github.com/jaywcjlove/hotkeys/blob/master/src/var.js\nlet isff = \n  typeof navigator !== 'undefined' ? \n  navigator.userAgent.toLowerCase().indexOf('firefox') > 0 : \n  false\n// Special Keys\nlet keyMap = {\n  backspace: 8,\n  tab: 9,\n  clear: 12,\n  enter: 13,\n  return: 13,\n  esc: 27,\n  escape: 27,\n  space: 32,\n  left: 37,\n  up: 38,\n  right: 39,\n  down: 40,\n  del: 46,\n  delete: 46,\n  ins: 45,\n  insert: 45,\n  home: 36,\n  end: 35,\n  pageup: 33,\n  pagedown: 34,\n  capslock: 20,\n  '': 20,\n  ',': 188,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '-': isff ? 173 : 189,\n  '=': isff ? 61 : 187,\n  ';': isff ? 59 : 186,\n  '\\'': 222,\n  '[': 219,\n  ']': 221,\n  '\\\\': 220,\n}\n// Modifier Keys\nlet modifier = {\n  // shiftKey\n  '': 16,\n  shift: 16,\n  // altKey\n  '': 18,\n  alt: 18,\n  option: 18,\n  // ctrlKey\n  '': 17,\n  ctrl: 17,\n  control: 17,\n  // metaKey\n  '': 91,\n  cmd: 91,\n  command: 91,\n}\nlet code = (x) => {\n  if (typeof x === 'number') {\n    return x\n  }\n  x = x.trim()\n  return keyMap[x.toLowerCase()] ||\n    modifier[x.toLowerCase()] ||\n    x.toUpperCase().charCodeAt(0)\n}\nexport default {\n  data () {\n    return {\n      hotkey: {\n        data: {},\n        disabled: false,\n      }\n    }\n  },\n  methods: {\n    _hotkey (\n      hotkey, \n      keydown = () => {}, \n      keyup = () => {},\n    ) {\n      this.hotkey.data[this._hotkeyCode(hotkey.split('+'))] = {\n        hotkey,\n        keydown,\n        keyup,\n      }\n    },\n    _hotkeyOff () {\n      this.hotkey.disabled = true\n    },\n    _hotkeyOn () {\n      this.hotkey.disabled = false\n    },\n    _hotkeyCode (keys) {\n      return keys.map(key => code(key)).sort().join('+')\n    },\n    _hotkeyEvent (e) {\n      if (e.target.tagName.toLowerCase() === 'input') {\n        return\n      }\n      if (this.hotkey.disabled) {\n        return\n      }\n      let modifierInfo = {\n        ctrl: e.ctrlKey,\n        alt: e.altKey,\n        shift: e.shiftKey,\n        command: e.metaKey,\n      }\n      let modifiers = []\n      for (let mk in modifierInfo) {\n        if (modifierInfo[mk]) {\n          modifiers.push(mk)\n        }\n      }\n      let eventType = e.type\n      let hotkeyCode = this._hotkeyCode([e.keyCode, ...modifiers])\n      if (hotkeyCode in this.hotkey.data) {\n        let hotkeyObject = this.hotkey.data[hotkeyCode]\n        hotkeyObject[eventType](e)\n      }\n    },\n  },\n  mounted () {\n    this.windowEventAdd('keydown', (e) => {\n      this._hotkeyEvent(e)\n    })\n  }\n}","export default {\n  methods: {\n    _onPageShow () {},\n    _onPageHide () {},\n  },\n  watch: {\n    '$route' (from ,to) {\n      if (from.path === to.path) {\n        this._onPageShow()\n      }\n      else {\n        this._onPageHide()\n      }\n    }\n  },\n  mounted () {\n    this._onPageShow()\n  },\n  beforeDestroy () {\n    this._onPageHide()\n  }\n}","<style lang=\"scss\">\n@import './index.scss';\n</style>\n<script>\nimport historyMixin from  './mixin/history'\nimport lindedListMixin from './mixin/linked-list'\nimport windowEventRegMixin from './mixin/window-event-reg'\nimport dbMixin from './mixin/db'\nimport resizeMixin from './mixin/resize'\nimport rotateMixin from './mixin/rotate'\nimport moveMixin from './mixin/move'\nimport renderMixin from './mixin/render'\nimport dataMixin from  './mixin/data'\nimport guideMixin from './mixin/guide'\nimport actionMixin from './mixin/action'\nimport windowEventMixin from './mixin/window-event'\nimport hotkeyMixin from './mixin/hotkey'\nimport pageHookMixin from './mixin/pageHook'\nexport default {\n  name: 'design',\n  mixins: [\n    dbMixin,\n    resizeMixin,\n    rotateMixin,\n    moveMixin,\n    renderMixin,\n    dataMixin,\n    guideMixin,\n    actionMixin,\n    lindedListMixin,\n    windowEventRegMixin,\n    windowEventMixin,\n    hotkeyMixin,\n    pageHookMixin,\n    historyMixin,\n  ],\n  created () {\n    \n  },\n  methods: {\n  },\n  render (h) {\n    this.renderHook\n    return this._renderMain(h)\n  }\n}\n</script>","import mod from \"-!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.2.1.3@thread-loader/dist/cjs.js!../../../node_modules/.8.1.0@babel-loader/lib/index.js!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.2.1.3@thread-loader/dist/cjs.js!../../../node_modules/.8.1.0@babel-loader/lib/index.js!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Spectre from '@/components/spectre/index'\nimport 'vue-awesome/icons'\nimport Icon from 'vue-awesome/components/Icon'\nimport Design from '@/components/design/index'\nVue.use(Spectre)\nVue.use(VueRouter)\nVue.component('v-icon', Icon)\nVue.config.productionTip = false\nconst routes = [\n  {\n    path: '/', \n    component: Design,\n    name: 'design',\n  },\n]\nconst router = new VueRouter({\n  routes,\n})\nnew Vue({\n  router\n}).$mount('#app')","import mod from \"-!../../../node_modules/.0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/.3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/.15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/.8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/.0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/.3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/.15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/.8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}