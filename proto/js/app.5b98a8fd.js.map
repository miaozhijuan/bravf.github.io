{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/spectre/color.vue?3dda","webpack:///./src/components/spectre/contextmenu.vue?25b7","webpack:///src/components/spectre/color.vue","webpack:///./src/components/spectre/color.vue","webpack:///src/components/spectre/contextmenu.vue","webpack:///./src/core/event.js","webpack:///./src/components/spectre/color.vue?f061","webpack:///./src/components/spectre/contextmenu.vue","webpack:///./src/components/design/mixin/db.js","webpack:///./src/components/spectre/contextmenu.vue?19b2","webpack:///./src/components/spectre/index.js","webpack:///./src/components/design/mixin/history.js","webpack:///./src/components/design/mixin/command.js","webpack:///./src/components/design/mixin/linked-list.js","webpack:///./src/components/design/mixin/window-event-reg.js","webpack:///./src/core/design-vars.js","webpack:///./src/core/base.js","webpack:///./src/core/resize.js","webpack:///./src/components/design/index.vue","webpack:///./src/components/design/mixin/resize.js","webpack:///./src/components/design/mixin/rotate.js","webpack:///./src/components/design/mixin/move.js","webpack:///./src/components/design/mixin/render/setting.js","webpack:///./src/components/design/mixin/render/handler.js","webpack:///./src/components/design/mixin/render/guide-show.js","webpack:///./src/components/design/mixin/render/tools.js","webpack:///./src/core/color.js","webpack:///./src/core/rect-config.js","webpack:///./src/components/design/mixin/render/rect-nav.js","webpack:///./src/components/design/mixin/render/rect.js","webpack:///./src/components/design/mixin/render/rule.js","webpack:///./src/components/design/mixin/render/rect-list.js","webpack:///./src/components/design/mixin/render/page-list.js","webpack:///./src/components/design/mixin/render/circle.js","webpack:///./src/components/design/mixin/render.js","webpack:///./src/components/design/mixin/data.js","webpack:///./src/components/design/mixin/guide.js","webpack:///./src/components/design/mixin/action.js","webpack:///./src/components/design/mixin/window-event.js","webpack:///./src/components/design/mixin/hotkey.js","webpack:///./src/components/design/mixin/pageHook.js","webpack:///src/components/design/index.vue","webpack:///./src/components/design/index.vue?8bab","webpack:///./src/main.js","webpack:///./src/components/design/index.vue?0bea"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","staticRenderFns","Vue","components","isOpen","left","top","onChange","methods","open","this","size","close","created","render","style_left","style_top","e","stopPropagation","jsxProps","style_display","alert","globalColor","Ctor","$mount","document","createElement","body","appendChild","$el","props","String","disabled","type","Boolean","default","div","component","actions","height","_renderDivider","li","_renderItem","action","checkF","context","on_click","doF","_renderMain","mouseLeft","Math","min","mouseTop","on_mousedown","me","globalCase","VueObject","dbReady","dbTable","SpColor","SpContextmenu","install","forEach","com","history","diff","list","cursor","_historyInit","_historyIsSameValue","value1","value2","JSON","stringify","_historyDiffAdd","longProp","oldValue","newValue","includes","oldValue2","cloneDeep","newValue2","idx","findIndex","isIn","diffObject","_historyPush","_historyCanGo","historyObject","_historyCommitChange","_historyBack","_historyCanBack","forEachRight","change","_parseLongProp","set","_historyGo","dir","objects","isRight","f","split","firstProp","lastProp","_dbSave","_command","propObject","_commandRectAdd","_safeObject","id","_commandRectDelete","_commandObjectDelete","_commandRectPropUpdate","prop","_commandObjectPropUpdate","_commandRectDataPropUpdate","_commandObjectDataPropUpdate","_commandPropUpdate","_commandPageAdd","_commandProjectAdd","_linkedListAppend","parent","childrenProp","children","headId","tailId","head","tail","oldTail","_linkedListInsertBefore","target","insertObject","prevId","prevObject","_linkedListInsertAfter","nextId","nextObject","_linkedListRemove","_linkedListMoveUp","_linkedListMoveDown","_linkedListMoveTop","tailObject","_linkedListMoveBottom","headObject","_linkedListWalk","isDeep","_f","_parent","z","start","isNotExpand","isExpand","_linkedListGetObjects","index","tempIndex","_linkedListCheckIsParent","parentId","_parentId","windowEventListener","windowEventAdd","addEventListener","beforeDestroy","removeEventListener","computed","_dbInit","defer","Deferred","promise","localforage","createInstance","storeName","ready","keys","console","log","project","_createProjectBase","page","_createPageBase","pages","currPageId","_dbSaveItem","resolve","removeItem","getItem","merge","setItem","_dbAll","iterate","currProjectId","currProject","mounted","a","b","bodyFont","getComputedStyle","font","getTextSize","text","span","getTextWidth","style","display","position","width","innerHTML","ceil","parseFloat","getMappingRectX","rect","angle","values","ra","rb","rc","rd","point","xp","getMappingPoint","end","max","checkRectOverlap2","rect1","rect2","isOverlap","angles","some","rect1Mapping","rect2Mapping","tNumber","x","y","pow","round","getRadian","PI","getAngle","radian","getRotatePointByCenter","center","parseInt","px_0","py_0","px_1","cos","sin","py_1","getCByABAndAngle","radian2","apx","tan","bpx","cx","cy","yp","getABByPointsAndAngle","points","a2","b2","Number","MAX_VALUE","x2","y2","getAngleByTwoPoints","diffa","abs","diffb","atan","aleft","atop","bleft","btop","getEffectiveAngle","getUuid","uuidv4","selectText","element","selection","getSelection","range","createRange","selectNodeContents","removeAllRanges","addRange","getRectInfo","rectData","scale","right","bottom","leftTop","leftBottom","rightTop","rightBottom","ad","bc","rotateLeftTop","rotateLeftBottom","rotateRightTop","rotateRightBottom","rad","rbc","rotateLefts","rotateTops","minRotateLeft","maxRotateLeft","minRotateTop","maxRotateTop","getGroupSize","rects","info","ab","rlt","rrb","lt","getScalePoint","getPointsCenter","getWH","middleLeft","vars","middleTop","percentPx","str","isRightMouse","which","memoizeResolver","args","memoize","minLen","getWidthScale","newWidth","getResizeData","tempInfo","tempData","tempWidth","tempHeight","resizeAR","mx","my","widthDiff","newRlt","newCenter","newLt","wh","fixedPoint","resizeBR","rrt","rlb","newRrt","newRt","resizeCR","newRrb","resizeDR","newRlb","resizeA","heightDiff","resizeAB","newHeight","scaleH","resizeB","resizeBC","resizeNewWidth","resizeC","isSameRatio","scaleW","resizeNewHeight","resizeCD","resizeD","resizeAD","resizeADL","newRad","newAngle","resizeBCL","newRbc","resizeADRL","resizeBCRL","_resize","currRectId","mouse","resizerDir","isLine","_checkGuideOnResize","_checkIsGroupLike","_resizeGroup","_resizeLine","_resizeRect","_resizeText","fontSize","fontFamily","_resizeWidthTo","_resizeHeightTo","resizeF","isAngleLock","resizeRes","_updateRectData","_scaleGroupRectR","rectInfo","_scaleGroupRectWOrH","group","fixed","groupData","groupTempInfo","groupAngle","angleDiff","is180","is90","is270","dis","disDiff","dis2","dis2Diff","_scaleGroupR","_getRectById","_updateGroupState","_resizeGroupWithRes","_getGroupSize","cd","groupSize","shiftKey","_resizeTo","isGroupLike","_rotate","mousePoint","oldAngle","nowAngle","_checkGuideOnRotate","_rotateGroup","_rotateRect","_rotateTo","groupId","_updateGroupSize","groupCenter","_move","isCheck","_checkGuideOnMove","isShift","_moveGroup","_moveRect","_moveTo","_moveLeftTo","_moveTopTo","jsx","input","select","option","label","_renderSetting","_getSelectedRects","isTempGroup","_checkIsTempGroup","isText","isAutoSize","isLock","getInputJsxProps","domProps_value","domProps_type","props_value","domProps_disabled","props_disabled","_updateRectTempData","_flashHandler","color","hex8","$align","align","_actionRectAlignLeft","leftRight","_actionRectAlignLeftRight","_actionRectAlignRight","_actionRectAlignTop","topBottom","_actionRectAlignTopBottom","_actionRectAlignBottom","equalSpaceX","_actionRectEqualSpaceX","equalSpaceY","_actionRectEqualSpaceY","renderHook","_actionCanRectEqualSpace","$left","intValue","$top","$width","$height","$angle","$isSameRatio","domProps_checked","$isAngleLock","$borderWidth","$borderStyle","$borderColor","$backgroundColor","$color","$isAutoSize","$fontSize","domProps_min","$fontAlignX","$fontAlignY","$opacity","domProps_max","_updateCurrRectOpacity","_renderHandler","mousedown","event","$emit","resizerJsx","aResizer","eventType","abResizer","bResizer","style_right","bcResizer","cResizer","style_bottom","cdResizer","dResizer","adResizer","resizer","rotater","_getRectBaseJsxProps","handler","show","_renderGuideShow","Array","from","guide","map","button","buttonJsxProps","_renderToolsButton","_actionGet","_renderTools","_renderRule","blue","red","gray","white","black","base","zIndex","backgroundColor","borderRadius","borderWidth","borderStyle","borderColor","opacity","textAlignX","textAlignY","isEdit","isNameEdit","circle","tempGroup","border","line","_renderRectNav","retTags","createType","rectConfig","_renderRect","isCurrRect","isHoverRect","hoverRectId","selectedRects","rectType","_focusRect","_showContextmenu","_hoverRect","_hoverOffRect","ing","_renderRectInner","props_name","textJsxProps","style_cursor","ref","attrs_contenteditable","style_transform","on_blur","_hotkeyOn","on_focus","_hotkeyOff","$refs","defaultText","on_input","setTimeout","focus","_renderRects","currPage","_getRectsByPageDeep","_checkIsRectLike","configContext","strokeStyle","n2","getMiddleData","$middle","middle","dom","scrollTop","scrollLeft","_renderTopRule","rule","topRule","middleData","className","getContext","clearRect","beginPath","moveTo","lineTo","fillText","stroke","_renderLeftRule","leftRule","save","textAlign","textBaseline","translate","rotate","restore","_renderRectListItem","isHover","paddingLeft","innerJsxProps","rectItemInput","on_change","blur","_updateHoverRect","_getGroupByRect","_renderRectList","vdoms","temp","reverse","vdom","vIcon","_renderPageListItem","pageData","currPageIsParent","paddingLeftAll","isDrag","pageInput","_updateCurrPage","_renderPageList","timer","on_mouseover","setInterval","pageList","on_mouseout","clearInterval","_renderCircle","_getCircleSize","style_width","style_height","_renderLoading","h","isCircle","class_proto","_blurRect","tempGroupId","startLeft","startTop","currLeft","currTop","clipboard","count","currRect","$data","isNull","undefined","isDelete","_createProject","projectId","_createPage","_removePage","_createRect","_createRectByConfig","config","isArray","_createRectBase","_bindGroup","pageId","_checkIsGroup","_cloneRectDeep","_getRectsByGroup","_getObjectsByParentId","_getTempGroupByRect","sortRects","Set","groups","add","_group","topRect","sort","_removeRectById","_unbindGroup","_bindTempGroup","_unbindTempGroup","_unbindTempGroupSome","_getTempGroup","_checkIsPage","indexOf","_updateAllRectsTempData","_getRectsByRectDeep","isSyncParent","k","v","isRotate","groupIds","_addSelectedRect","_removeSelectedRect","_clearSelectedRects","_updateCurrRectBySelected","unLockRects","_getUnLockRectsBySelected","_updateCurrRect","_updateGuide","_getLockRectsBySelected","filter","rectId","isRest","isDblclick","isShiftkey","isGroupOpen","groupIsOpen","closeGroup","_getMousePoint","querySelector","clientX","clientY","parentOpacity","style_opacity","clearTimeout","_walkCurrPageRects","_focusRectWhenCircle","actionTypes","actionType","$contextmenu","_clearGuideLine","_checkRectPointGuide","pointInfo","guideLeft","guideTop","guideShowLeft","guideShowTop","nowInfo","nowPoint","oldPoint","isStop","newPoint","checkInGuide","num","g","isInGuide","_clearGuideShow","actionMap","hotkey","_actionPageCreate","_actionGetInfo","isGroup","_actionPageDelete","_actionRectKeyupMove","_actionRectKeydownMove","_actionRectKeyleftMove","_actionRectKeyrightMove","_actionRectSelectAll","_actionCanGroup","_actionGroup","newGroup","_actionCanUnGroup","_actionUnGroup","_actionRectDelete","_actionRectCopy","_actionRectCut","_actionCanRectPaste","_actionRectPaste","pasteCount","moveDis","_actionCanCurrRect","_actionRectMoveUp","_actionRectMoveDown","_actionRectMoveTop","_actionRectMoveBottom","_actionCanRectLock","_actionCanRectUnLock","_actionRectLock","_actionRectUnLock","_actionCanRectAlign","tempGroupLeft","moveLeft","tempGroupCenterLeft","tempGroupRight","tempGroupTop","moveTop","tempGroupCenterTop","tempGroupBottom","tempGroupWidth","rectsWidth","perSpace","tempGroupHeight","rectsHeight","_actionSetHotKey","_hotkey","preventDefault","mousemove","mouseup","$on","isff","navigator","userAgent","toLowerCase","keyMap","backspace","tab","clear","enter","return","esc","escape","space","up","down","del","delete","ins","insert","home","pageup","pagedown","capslock","'","modifier","alt","ctrl","control","cmd","command","code","trim","toUpperCase","charCodeAt","keydown","keyup","_hotkeyCode","join","_hotkeyEvent","tagName","modifierInfo","ctrlKey","altKey","metaKey","modifiers","mk","hotkeyCode","keyCode","hotkeyObject","_onPageShow","_onPageHide","watch","to","path","mixins","use","Spectre","VueRouter","Icon","productionTip","routes","Design","router"],"mappings":"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","file":"js/app.5b98a8fd.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/proto/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../../node_modules/.0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/.3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/.15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/.8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./color.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/.0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/.3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/.15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/.8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./color.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/.0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/.3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/.15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/.8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./contextmenu.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/.0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/.3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/.15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/.8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./contextmenu.vue?vue&type=style&index=0&lang=scss&\"","<style lang=\"scss\">\n.sp-color{\n  width: 18px!important;\n  height: 18px!important;\n  border: 1px solid #bcc3ce;\n  position: relative;\n  cursor: pointer;\n  margin: 5px;\n}\n.sp-color-alert{\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n</style>\n<script>\nimport Vue from 'vue'\nimport jsx from 'vue-jsx'\nimport { Sketch } from 'vue-color'\nimport event from '@/core/event'\nlet {\n  div,\n  a,\n} = jsx\nlet SpColorAlert = {\n  components: {\n    'sketch-picker': Sketch,\n  },\n  data () {\n    return {\n      value: '#ffffff',\n      isOpen: false,\n      left: 0,\n      top: 0,\n      onChange: () => {},\n    }\n  },\n  methods: {\n    open (\n      value, \n      size, \n      onChange\n    ) {\n      this.value = value\n      this.onChange = onChange\n      this.left = size.left\n      this.top = size.top\n      this.isOpen = true\n    },\n    close () {\n      this.isOpen = false\n    },\n  },\n  created () {\n    event.$on('windowMouseDown', () => {\n      this.close()\n    })\n  },\n  render (h) {\n    jsx.h = h\n    let me = this\n    let jsxProps = {\n      'class_sp-color-alert': true,\n      'class_card': true,\n      style_left: (this.left - 260) + 'px',\n      style_top: this.top + 'px',\n      'on_click' (e) {\n        e.stopPropagation()\n      },\n      'on_mousedown' (e) {\n        e.stopPropagation()\n      }\n    }\n    if (!this.isOpen){\n      jsxProps = {\n        ...jsxProps,\n        style_display: 'none',\n      }\n    }\n    let alert = div(jsxProps,\n      div('.card-header',\n        a('.btn btn-clear float-right', {\n          'attrs_aria-label':'Close',\n          on_click (e) {\n            me.close()\n            e.stopPropagation()\n          }\n        }),\n        div('.card-title', ''),\n      ),\n      div({\n        'class_card-body': true,\n      },\n        jsx.bind('sketch-picker')({\n          props_value: this.value,\n          on_input (value) {\n            me.onChange(value)\n          }\n        })\n      ),\n    )\n    return alert\n  }\n}\nlet globalColor\nlet openGlobalColor = (\n  value, \n  size, \n  onChange\n) => {\n  if (!globalColor){\n    let Ctor = Vue.extend(SpColorAlert)\n    globalColor = new Ctor\n    globalColor.$mount(document.createElement('div'))\n    document.body.appendChild(globalColor.$el)\n  }\n  globalColor.open(value, size, onChange)\n}\nlet SpColor = {\n  name: 'SpColor',\n  props: {\n    value: String,\n    disabled: {\n      type: Boolean,\n      default: false,\n    }\n  },\n  render (h) {\n    jsx.h = h\n    let me = this\n    let jsxProps = {\n      'class_sp-color': true,\n      'style_background-color': this.value, \n    }\n    if (!this.disabled){\n      jsxProps = {\n        ...jsxProps,\n        'on_click' (e) {\n          e.stopPropagation()        \n          let rect = me.$el.getClientRects()[0]\n          openGlobalColor(\n            me.value, \n            {left: rect.x, top: rect.y},\n            (color) => {\n              me.$emit('change', color)\n            }\n          )\n        }\n      }\n    }\n    return div(jsxProps)\n  }\n}\nexport default SpColor\n</script>","var render, staticRenderFns\nimport script from \"./color.vue?vue&type=script&lang=js&\"\nexport * from \"./color.vue?vue&type=script&lang=js&\"\nimport style0 from \"./color.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<style lang=\"scss\">\n@import \"@/core/vars.scss\";\n.contextmenu { \n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.contextmenu-item-disalbed {\n  color: $gray;\n  a {\n    cursor: default!important;\n    &:hover {\n      color: $gray!important;\n      background: $white!important;\n    }\n  }\n}\n</style>\n<script>\nimport Vue from 'vue'\nimport jsx from 'vue-jsx'\nimport event from '@/core/event'\nlet { div, li, a } = jsx\nlet SpContextmenu = {\n  name: 'SpContextMenu',\n  props: {\n\n  },\n  data () {\n    return {\n      isOpen: false,\n      actions: [],\n      e: {},\n      height: 0,\n    }\n  },\n  methods: {\n    open (\n      e, \n      height, \n      actions\n    ) {\n      this.isOpen = true\n      this.e = e\n      this.height = height\n      this.actions = actions\n    },\n    close () {\n      this.isOpen = false\n    },\n    _renderDivider () {\n      return li('.divider')\n    },\n    _renderItem (action) {\n      if (!action) {\n        return this._renderDivider()\n      }\n      let { checkF, doF, text, context } = action\n      let jsxProps = {}\n      if (checkF.call(context)) {\n        jsxProps = {\n          on_click () {\n            doF.call(context)\n          }\n        }\n      }\n      else {\n        jsxProps = {\n          'class_contextmenu-item-disalbed': true,\n        }\n      }\n      return li('.menu-item',\n        jsxProps,\n        a({\n          attrs_href: 'javascript:;'\n        }, text)\n      )\n    },\n    _renderMain () {\n      let me = this\n      // \n      let windowWidth = window.innerWidth\n      let windowHeight = window.innerHeight\n      // contextmenu \n      let width = 180\n      let height = this.height\n      // \n      let e = this.e\n      let mouseLeft = e.clientX\n      let mouseTop = e.clientY\n      mouseLeft = Math.min(\n        mouseLeft, \n        windowWidth - width - 10\n      )\n      mouseTop = Math.min(\n        mouseTop, \n        windowHeight - height - 10\n      )\n      let children = this.actions.map(\n        action => this._renderItem(action)\n      )\n      let jsxProps = {\n        style_left: mouseLeft + 'px',\n        style_top: mouseTop + 'px',\n        key: 'contextmenu',\n        on_mousedown (e) {\n          e.stopPropagation()\n        },\n        on_click () {\n          me.close()\n        },\n      }\n      if (!this.isOpen) {\n        jsxProps = {\n          ...jsxProps,\n          style_display: 'none',\n        }\n      }\n      return div('.contextmenu menu',\n        jsxProps,\n        ...children,\n      )\n    },\n  },\n  created () {\n    event.$on('windowMouseDown', () => {\n      this.close()\n    })\n  },\n  render (h) {\n    jsx.h = h\n    return this._renderMain()\n  }\n}\nlet globalCase\nVue.prototype.$contextmenu = (...args) => {\n  if (!globalCase) {\n    let VueObject = Vue.extend(SpContextmenu)\n    globalCase = new VueObject\n    globalCase.$mount(document.createElement('div'))\n    document.body.appendChild(globalCase.$el)\n  }\n  globalCase.open(...args)\n}\nexport default SpContextmenu\n</script>","import Vue from 'vue'\nexport default new Vue","import mod from \"-!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.2.1.3@thread-loader/dist/cjs.js!../../../node_modules/.8.1.0@babel-loader/lib/index.js!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./color.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.2.1.3@thread-loader/dist/cjs.js!../../../node_modules/.8.1.0@babel-loader/lib/index.js!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./color.vue?vue&type=script&lang=js&\"","var render, staticRenderFns\nimport script from \"./contextmenu.vue?vue&type=script&lang=js&\"\nexport * from \"./contextmenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./contextmenu.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import localforage from 'localforage'\nimport { \n  merge,\n  cloneDeep,\n} from 'lodash'\nimport Deferred from 'vue-deferred'\nlet dbReady\nlet dbTable\nexport default {\n  computed: {\n  },\n  methods: {\n    async _dbInit () {\n      if (dbReady) {\n        return\n      }\n      let defer = Deferred()\n      dbReady = defer.promise\n      dbTable = localforage.createInstance({\n        name: 'proto-design',\n        storeName: 'object',\n      })\n      await dbTable.ready()\n      let keys = await dbTable.keys()\n      // \n      if (!keys.length) {\n        console.log('database init')\n        let project = this._createProjectBase()\n        let page = this._createPageBase(project.id)\n        project.pages.headId = page.id\n        project.currPageId = page.id\n        await this._dbSaveItem(project.id, project)\n        await this._dbSaveItem(page.id, page)\n        console.log('database init over')\n      }\n      defer.resolve()\n    },\n    async _dbSaveItem (id, value) {\n      value = cloneDeep(value)\n      if (value) {\n        //  tempGroup\n        if (value.type === 'rect-tempGroup') {\n          console.log('')\n          return\n        }\n        // \n        if (value['tempGroupId']) {\n          value['tempGroupId'] = ''\n        }\n        if (value.data && value.data.isOpen) {\n          value.data.isOpen = false\n        }\n      }\n      await dbTable.ready()\n      if (!value) {\n        await dbTable.removeItem(id)\n      }\n      else {\n        let oldValue = await dbTable.getItem(id) || {}\n        let newValue = merge(oldValue, value)\n        if (newValue.type) {\n          await dbTable.setItem(id, newValue)\n        }\n      }\n    },\n    async _dbSave (objects) {\n      console.log('dbSave', objects)\n      for (let id in objects) {\n        await this._dbSaveItem(id, objects[id])\n      }\n    },\n    async _dbAll () {\n      console.log('...')\n      await dbReady\n      await dbTable.iterate((value, key) => {\n        this.objects[key] = value\n        if (value.type === 'project') {\n          this.currProjectId = value.id\n        }\n      })\n      this.currPageId = this.currProject.currPageId\n      console.log('')\n    },\n  },\n  created () {\n    this._dbInit()\n    this._dbAll()\n  },\n  async mounted () {\n  }\n}","import mod from \"-!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.2.1.3@thread-loader/dist/cjs.js!../../../node_modules/.8.1.0@babel-loader/lib/index.js!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./contextmenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.2.1.3@thread-loader/dist/cjs.js!../../../node_modules/.8.1.0@babel-loader/lib/index.js!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./contextmenu.vue?vue&type=script&lang=js&\"","import SpColor from './color'\nimport SpContextmenu from './contextmenu'\nlet components = [\n  SpColor,\n  SpContextmenu,\n]\nlet install = (Vue) => {\n  components.forEach(com => {\n    Vue.component(com.name, com)\n  })\n}\nexport default {\n  install,\n}\n","import {\n  cloneDeep,\n  forEachRight,\n  forEach,\n} from 'lodash'\nexport default {\n  data () {\n    return {\n      history: {\n        diff: [],\n        list: [],\n        cursor: -1,\n      }\n    }\n  },\n  methods: {\n    _historyInit () {\n      this.history.diff = []\n      this.history.list = []\n      this.cursor = -1\n    },\n    _historyIsSameValue (\n      value1, \n      value2\n    ) {\n      return JSON.stringify(value1) === JSON.stringify(value2)\n    },\n    _historyDiffAdd (\n      longProp, \n      oldValue, \n      newValue\n    ) {\n      // \n      if (['hoverRectId'].includes(longProp)){\n        return\n      }\n      // \n      if (this._historyIsSameValue(oldValue, newValue)){\n        return\n      }\n      let oldValue2 = cloneDeep(oldValue)\n      let newValue2 = cloneDeep(newValue)\n      let history = this.history\n      let idx = history.diff.findIndex(o => o.longProp === longProp)\n      let isIn = idx !== -1\n      if (isIn){\n        let diffObject = history.diff[idx]\n        // \n        diffObject['newValue'] = newValue2\n        // \n        history.diff.splice(idx, 1)\n        // \n        if (!this._historyIsSameValue(newValue2, diffObject.oldValue)){\n          history.diff.push(diffObject)\n        }\n      }\n      else {\n        this.history.diff.push({\n          longProp, \n          oldValue: oldValue2, \n          newValue: newValue2\n        })\n      }\n    },\n    _historyPush() {\n      if (!this.history.diff.length){\n        return\n      }\n      // \n      if (this._historyCanGo()){\n        this.history.list = this.history.list.slice(0, this.history.cursor + 1)\n      }\n      let historyObject = this.history.diff\n      this.history.list.push(historyObject)\n      this.history.diff = []\n      this.history.cursor ++\n      this._historyCommitChange(historyObject)\n    },\n    _historyBack () {\n      if (!this._historyCanBack()){\n        return\n      }\n      let historyObject = this.history.list[this.history.cursor --]\n      forEachRight(historyObject, (change) => {\n        let {longProp, oldValue} = change\n        this._parseLongProp(longProp).set(cloneDeep(oldValue))\n      })\n      this._historyCommitChange(historyObject, 'left')\n    },\n    _historyGo () {\n      if (!this._historyCanGo()){\n        return\n      }\n      let historyObject = this.history.list[++ this.history.cursor]\n      forEach(historyObject, (change) => {\n        let {longProp, newValue} = change\n        this._parseLongProp(longProp).set(cloneDeep(newValue))\n      })\n      this._historyCommitChange(historyObject)\n    },\n    _historyCanGo () {\n      return this.history.cursor < this.history.list.length - 1\n    },\n    _historyCanBack () {\n      return this.history.cursor > -1\n    },\n    //  historyChange \n    //  server\n    _historyCommitChange (\n      historyObject, \n      dir = 'right'\n    ) {\n      historyObject = cloneDeep(historyObject)\n      let objects = {}\n      let isRight = dir === 'right'\n      let f = isRight ? forEach : forEachRight\n      f(historyObject, (change) => {\n        let {longProp, oldValue, newValue} = change\n        let props = longProp.split('.')\n        let firstProp = props[0]\n        //  objects \n        if (!['objects'].includes(firstProp)){\n          return\n        }\n        let object = objects\n        let lastProp = props.slice(-1)[0]\n        props.slice(1, -1).forEach((p) => {\n          if (!(p in object)){\n            object[p] = {}\n          }\n          object = object[p]\n        })\n        object[lastProp] = isRight ? newValue : oldValue\n      })\n      this._dbSave(objects)\n    }\n  },\n}","// \nexport default {\n  methods: {\n    _command (\n      longProp, \n      newValue\n    ) {\n      let propObject = this._parseLongProp(longProp)\n      let oldValue = propObject.get()\n      propObject.set(newValue)\n      this._historyDiffAdd(longProp, oldValue, newValue)\n    },\n    _commandRectAdd (object) {\n      object = this._safeObject(object)\n      let longProp = `objects.${object.id}`\n      this._command(longProp, object)\n    },\n    _commandRectDelete (object) {\n      object = this._safeObject(object)\n      this._commandObjectDelete(object)\n    },\n    _commandRectPropUpdate (object, prop, newValue) {\n      object = this._safeObject(object)\n      this._commandObjectPropUpdate(object, prop, newValue)\n    },\n    _commandRectDataPropUpdate (object, prop, newValue) {\n      object = this._safeObject(object)\n      this._commandObjectDataPropUpdate(object, prop, newValue)\n    },\n    _commandPropUpdate (\n      prop, \n      newValue\n    ) {\n      let longProp = `${prop}`\n      this._command(longProp, newValue)\n    },\n    _commandPageAdd (object) {\n      object = this._safeObject(object)\n      let longProp = `objects.${object.id}`\n      this._command(longProp, object)\n    },\n    _commandObjectDelete (object) {\n      object = this._safeObject(object)\n      let longProp = `objects.${object.id}.isDelete`\n      this._command(longProp, true)\n    },\n    _commandProjectAdd (object) {\n      object = this._safeObject(object)\n      let longProp = `objects.${object.id}`\n      this._command(longProp, object)\n    },\n    _commandObjectPropUpdate (\n      object, \n      prop, \n      newValue\n    ) {\n      object = this._safeObject(object)\n      let longProp = `objects.${object.id}.${prop}`\n      this._command(longProp, newValue)\n    },\n    _commandObjectDataPropUpdate (\n      object, \n      prop, \n      newValue\n    ) {\n      object = this._safeObject(object)\n      let longProp = `objects.${object.id}.data.${prop}`\n      this._command(longProp, newValue)\n    },\n  },\n}","let _linkedListAppend = function (\n  parent, \n  object, \n  childrenProp = 'rects'\n) {\n  let children = parent[childrenProp]\n  if (!children.headId){\n    this._commandObjectPropUpdate(parent, `${childrenProp}.headId`, object.id)\n    return\n  }\n  if (!children.tailId){\n    this._commandObjectPropUpdate(parent, `${childrenProp}.tailId`, object.id)\n    let head = this.objects[children.headId]\n    let tail = this.objects[children.tailId]\n    this._commandObjectPropUpdate(head, 'nextId', tail.id)\n    this._commandObjectPropUpdate(tail, 'prevId', head.id)\n    return\n  }\n  let oldTail = this.objects[children.tailId]\n  this._commandObjectPropUpdate(parent, `${childrenProp}.tailId`, object.id)\n  this._commandObjectPropUpdate(oldTail, 'nextId', object.id)\n  this._commandObjectPropUpdate(object, 'prevId', oldTail.id)\n}\nlet _linkedListInsertBefore = function (\n  parent, \n  target, \n  insertObject, \n  childrenProp = 'rects'\n) {\n  let prevId = target.prevId\n  let prevObject = this.objects[prevId]\n  let children = parent[childrenProp]\n\n  if (prevId){\n    this._commandObjectPropUpdate(insertObject, 'prevId', prevId)\n    this._commandObjectPropUpdate(prevObject, 'nextId', insertObject.id)\n  }\n  else {\n    this._commandObjectPropUpdate(parent, `${childrenProp}.headId`, insertObject.id)\n    if (!children.tailId){\n      this._commandObjectPropUpdate(parent, `${childrenProp}.tailId`, target.id)\n    }\n  }\n\n  this._commandObjectPropUpdate(insertObject, 'nextId', target.id)\n  this._commandObjectPropUpdate(target, 'prevId', insertObject.id)\n}\nlet _linkedListInsertAfter = function (\n  parent, \n  target, \n  insertObject, \n  childrenProp = 'rects'\n) {\n  let nextId = target.nextId\n  let nextObject = this.objects[nextId]\n\n  if (nextId){\n    this._commandObjectPropUpdate(insertObject, 'nextId', nextId)\n    this._commandObjectPropUpdate(nextObject, 'prevId',  insertObject.id)\n  }\n  else {\n    this._commandObjectPropUpdate(parent, `${childrenProp}.tailId`, insertObject.id)\n  }\n\n  this._commandObjectPropUpdate(insertObject, 'prevId', target.id)\n  this._commandObjectPropUpdate(target, 'nextId', insertObject.id)\n}\nlet _linkedListRemove = function (\n  parent, \n  object, \n  childrenProp = 'rects'\n) {\n  let children = parent[childrenProp]\n  let prevId = object.prevId\n  let nextId = object.nextId\n  this._commandObjectPropUpdate(object, 'nextId', '')\n  this._commandObjectPropUpdate(object, 'prevId', '')\n\n  if (prevId){\n    let prevObject = this.objects[prevId]\n    this._commandObjectPropUpdate(prevObject, 'nextId', nextId)\n  }\n  else {\n    this._commandObjectPropUpdate(parent, `${childrenProp}.headId`, nextId)\n  }\n\n  if (nextId){\n    let nextObject = this.objects[nextId]\n    this._commandObjectPropUpdate(nextObject, 'prevId', prevId)\n  }\n  else {\n    this._commandObjectPropUpdate(parent, `${childrenProp}.tailId`, prevId)\n  }\n\n  if (children.tailId === children.headId){\n    this._commandObjectPropUpdate(parent, `${childrenProp}.tailId`, '')\n  }\n}\nlet _linkedListMoveUp = function (\n  parent, \n  target, \n  childrenProp = 'rects'\n) {\n  let nextId = target.nextId\n  // \n  if (!nextId){\n    return\n  }\n  let nextObject = this.objects[nextId]\n  this._linkedListRemove(parent, target, childrenProp)\n  this._linkedListInsertAfter(parent, nextObject, target, childrenProp)\n}\nlet _linkedListMoveDown = function (\n  parent, \n  target, \n  childrenProp = 'rects'\n) {\n  let prevId = target.prevId\n  // \n  if (!prevId){\n    return\n  }\n  let prevObject = this.objects[prevId]\n  this._linkedListRemove(parent, target, childrenProp)\n  this._linkedListInsertBefore(parent, prevObject, target, childrenProp)\n}\nlet _linkedListMoveTop = function (\n  parent, \n  target, \n  childrenProp = 'rects'\n) {\n  let children = parent[childrenProp]\n  let tailId = children.tailId\n  if (!tailId || (tailId === target.id)){\n    return\n  }\n  let tailObject = this.objects[tailId]\n  this._linkedListRemove(parent, target, childrenProp)\n  this._linkedListInsertAfter(parent, tailObject, target, childrenProp)\n}\nlet _linkedListMoveBottom = function (\n  parent, \n  target, \n  childrenProp = 'rects'\n) {\n  let children = parent[childrenProp]\n  let headId = children.headId\n  if (headId === target.id){\n    return\n  }\n  let headObject = this.objects[headId]\n  this._linkedListRemove(parent, target, childrenProp)\n  this._linkedListInsertBefore(parent, headObject, target, childrenProp)\n}\nlet _linkedListWalk = function (\n  parent, \n  childrenProp = 'rects', \n  f, \n  isDeep = true\n) {\n  let _f = (_parent, z = 0) => {\n    let start = this.objects[_parent[childrenProp].headId]\n    while (start){\n      f(start, z)\n      let isNotExpand = start.data.isExpand === false\n      if (isDeep && !isNotExpand && start[childrenProp] && start[childrenProp]['headId']){\n        _f(start, z + 1)\n      }\n      start = this.objects[start.nextId]\n    }\n  }\n  _f(parent)\n}\nlet _linkedListGetObjects = function (\n  parent, \n  childrenProp = 'rects'\n) {\n  let objects = []\n  let index = 0\n  this._linkedListWalk(parent, childrenProp, (object) => {\n    object.tempIndex = index ++\n    objects.push(object)\n  })\n  return objects\n}\n//  parentId  object\nlet _linkedListCheckIsParent = function (\n  parent, \n  object\n) {\n  let parentId = parent.id\n  let _parentId = object.parentId\n  while (_parentId){\n    if (_parentId === parentId) {\n      return true\n    }\n    _parentId = this.objects[_parentId].parentId\n  }\n  return false\n}\nexport default {\n  methods: {\n    _linkedListInsertBefore,\n    _linkedListInsertAfter,\n    _linkedListRemove,\n    _linkedListAppend,\n    _linkedListGetObjects,\n    _linkedListMoveUp,\n    _linkedListMoveDown,\n    _linkedListMoveTop,\n    _linkedListMoveBottom,\n    _linkedListWalk,\n    _linkedListCheckIsParent,\n  }\n}","export default {\n  data () {\n    return {\n      windowEventListener: {},\n    }\n  },\n  methods: {\n    windowEventAdd (\n      type, \n      f\n    ) {\n      window.addEventListener(type, f)\n      if (!(type in this.windowEventListener)){\n        this.windowEventListener[type] = []\n      }\n      this.windowEventListener[type].push(f)\n    }\n  },\n  beforeDestroy () {\n    for (let type in this.windowEventListener){\n      this.windowEventListener[type].forEach(f => {\n        window.removeEventListener(type, f)\n      })\n    }\n  },\n}","// \nlet a = 54\n// \nlet b = 200\n// \nlet c = 16\n// \nlet d = 200\n\nexport default {\n  a,\n  b,\n  c,\n  d,\n}","import {\n  v4 as uuidv4,\n} from  'uuid'\nimport {\n  memoize,\n} from 'lodash'\nimport vars from '@/core/design-vars'\nlet empty = () => {}\nlet sum = (sum, n) => sum + n\nlet bodyFont = window.getComputedStyle(document.body).font\nlet getTextSize = (\n  text, \n  font = bodyFont\n) => {\n  let span = getTextWidth.span\n  if (!span) {\n    span = getTextWidth.span = document.createElement('div')\n    span.style.display = 'inline-block'\n    let div = document.createElement('div')\n    div.style.display = 'block'\n    div.style.position = 'absolute'\n    div.style.top = '-10000px'\n    div.style.left = '200px'\n    div.style.width = '100000px'\n    div.appendChild(span)\n    document.body.appendChild(div)\n  }\n  span.style.font = font\n  span.innerHTML = text\n  let style = window.getComputedStyle(span)\n  return {\n    width: Math.ceil(parseFloat(style.width)),\n    height: Math.ceil(parseFloat(style.height)),\n  }\n}\nlet getTextWidth = (\n  text, \n  font = bodyFont\n) => {\n  return getTextSize(text, font).width\n}\nlet checkRectOverlap = (\n  r1, \n  r2\n) => {\n  // \n  // \n  let width = Math.abs(Math.max(r1.right, r2.right) - Math.min(r1.left, r2.left))\n  let height = Math.abs(Math.max(r1.bottom, r2.bottom) - Math.min(r1.top, r2.top))\n\n  // \n  let rectMaxWidth = r1.width + r2.width\n  let rectMaxHeight = r1.height + r2.height\n\n  // \n  return (width < rectMaxWidth) && (height < rectMaxHeight)\n}\n//  x \nlet getMappingRectX = (\n  rect, \n  angle\n) =>{\n  let values = []\n  let {ra, rb, rc, rd} = rect\n  ;[ra, rb, rc, rd].forEach(point =>{\n      let xp = getMappingPoint(point, angle).xp\n      values.push(xp)\n  })\n  let start = Math.min.apply(null, values)\n  let end = Math.max.apply(null, values)\n  return {\n      start,\n      end,\n      length: end- start,\n  }\n}\nlet checkRectOverlap2 = (\n  rect1, \n  rect2\n) => {\n  let isOverlap = true\n  let angles = [\n    rect1.angle, \n    rect1.angle + 90,\n    rect2.angle,\n    rect2.angle + 90\n  ]\n  // \n  // https://www.cnblogs.com/demodashi/p/8476761.html\n  angles.some(angle => {\n    let rect1Mapping = getMappingRectX(rect1, angle)\n    let rect2Mapping = getMappingRectX(rect2, angle)\n    if (Math.max(rect1Mapping.end, rect2Mapping.end) - Math.min(rect1Mapping.start, rect2Mapping.start) > (rect1Mapping.length +rect2Mapping.length) ) {\n      isOverlap = false\n      return true\n    }\n  })\n  return isOverlap\n}\nlet tNumber = (\n  n, \n  x = 2\n) => {\n  let y = Math.pow(10, x)\n  return Math.round(n * y) / y\n}\nlet getRadian = (angle) => {\n  return angle * (Math.PI / 180)\n}\n// getRadian \nlet getAngle = (radian) => {\n  return radian / Math.PI * 180\n}\n// https://blog.csdn.net/sinat_33425327/article/details/78333946\n// center: \n// point: \n// angle: \n// type or true or false\nlet getRotatePointByCenter = (\n  center, \n  point, \n  angle, \n  type = true\n) => {\n  angle = parseInt(angle)\n  \n  // \n  if (!type){\n    angle = 360 - angle\n  }\n  let radian = getRadian(angle)\n\n  let px_0 = point.left - center.left\n  let py_0 = center.top - point.top\n\n  let px_1 = Math.cos(radian) * px_0 + Math.sin(radian) * py_0\n  let py_1 = Math.cos(radian) * py_0 - Math.sin(radian) * px_0\n\n  return {\n    left: tNumber(px_1 + center.left),\n    top: tNumber(center.top - py_1),\n  }\n}\n// a,baalangle\n// bblalcc\nlet getCByABAndAngle = (\n  a, \n  b, \n  angle\n) => {\n  if (angle % 180 === 0){\n    return {\n      left: a.left,\n      top: b.top,\n    }\n  }\n  let radian = getRadian(angle)\n  let radian2 = getRadian(90 - angle)\n  let apx = a.left + Math.tan(radian) * a.top\n  let bpx = b.left - Math.tan(radian2) * b.top\n  let cx = bpx + Math.cos(radian) * Math.cos(radian) * (apx - bpx)\n  let cy = Math.sin(radian) * Math.cos(radian) * (apx - bpx)\n  return {\n    left: tNumber(cx),\n    top: tNumber(cy),\n  }\n}\n//  point  angle\n//  angle  L  x \n//  L  y \nlet getMappingPoint = (\n  point, \n  angle\n) => {\n  let radian = getRadian(angle)\n  return {\n    xp: point.left + Math.tan(radian) * point.top,\n    yp: point.top - Math.tan(radian) * point.left,\n  }\n}\n//  angle\n//  angle  L  x  a a2\n//  L  y  b b2\nlet getABByPointsAndAngle = (\n  points, \n  angle\n) => {\n  let a, b, a2, b2\n  let x = Number.MAX_VALUE\n  let y = x\n  let x2 = -x\n  let y2 = -y\n\n  points.forEach(p => {\n    let {xp, yp} = getMappingPoint(p, angle)\n\n    if (xp < x){\n      x = xp\n      a = p\n    }\n\n    if (xp >= x2){\n      x2 = xp\n      a2 = p\n    }\n\n    if (yp < y){\n      y = yp\n      b = p\n    }\n\n    if (yp >= y2){\n      y2 = yp\n      b2 = p\n    }\n  })\n\n  return {a, b, a2, b2}\n}\n//  rotate \n//  a  b \nlet getAngleByTwoPoints = (\n  a, \n  b\n) => {\n  let diffa = Math.abs(tNumber(a.left) - tNumber(b.left))\n  let diffb = Math.abs(tNumber(b.top) - tNumber(a.top))\n\n  let angle = getAngle(\n    Math.atan(diffa / diffb)\n  )\n\n  let aleft = a.left\n  let atop = a.top\n  let bleft = b.left\n  let btop = b.top\n\n  if ( (aleft > bleft) && (atop <= btop) ){\n    // \n  }\n  else if ( (aleft >= bleft) && (atop > btop) ){\n    angle = 180 - angle\n  }\n  else if ( (aleft < bleft) && (atop >= btop) ){\n    angle += 180\n  }\n  else {\n    angle = 360 - angle\n  }\n\n  return angle % 360\n}\nlet getEffectiveAngle = (angle) => {\n  return angle % 360\n}\nlet getUuid = () => {\n  return uuidv4()\n}\nlet selectText = (element) => {\n  let selection = window.getSelection()\n  let range = document.createRange()\n  range.selectNodeContents(element)\n  selection.removeAllRanges()\n  selection.addRange(range)\n}\nlet getRectInfo = (\n  rectData, \n  scale = 1\n) => {\n  let { left, top, width, height, angle } = rectData\n  left *= scale\n  top *= scale\n  width *= scale\n  height *= scale\n  let right = left + width\n  let bottom = top + height\n  let center = {\n    left: tNumber(left + width / 2),\n    top: tNumber(top + height / 2),\n  }\n  let leftTop = {\n    left,\n    top,\n  }\n  let a = leftTop\n  let leftBottom = {\n    left,\n    top: bottom,\n  }\n  let d = leftBottom\n  let rightTop = {\n    left: right,\n    top,\n  }\n  let b = rightTop\n  let rightBottom = {\n    left: right,\n    top: bottom,\n  }\n  let c = rightBottom\n  let ad = {\n    left,\n    top: center.top,\n  }\n  let bc = {\n    left: left + width,\n    top: center.top,\n  }\n\n  let rotateLeftTop = getRotatePointByCenter(center, leftTop, angle)\n  let ra = rotateLeftTop\n\n  let rotateLeftBottom = getRotatePointByCenter(center, leftBottom, angle)\n  let rd = rotateLeftBottom\n\n  let rotateRightTop = getRotatePointByCenter(center, rightTop, angle)\n  let rb = rotateRightTop\n\n  let rotateRightBottom = getRotatePointByCenter(center, rightBottom, angle)\n  let rc = rotateRightBottom\n\n  let rad = getRotatePointByCenter(center, ad, angle)\n  let rbc = getRotatePointByCenter(center, bc, angle)\n\n  let rotateLefts = [\n    ra.left,\n    rb.left,\n    rc.left,\n    rd.left,\n  ]\n  let rotateTops = [\n    ra.top,\n    rb.top,\n    rc.top,\n    rd.top,\n  ]\n  let minRotateLeft = Math.min.apply(null, rotateLefts)\n  let maxRotateLeft = Math.max.apply(null, rotateLefts)\n  let minRotateTop = Math.min.apply(null, rotateTops)\n  let maxRotateTop = Math.max.apply(null, rotateTops)\n\n  return {\n    ...rectData,\n    center,\n    leftTop,\n    leftBottom,\n    rightTop,\n    rightBottom,\n    rotateRightTop,\n    rotateLeftTop,\n    rotateLeftBottom,\n    rotateRightBottom,\n    a,\n    b,\n    c,\n    d,\n    ra,\n    rb,\n    rc,\n    rd,\n    rad,\n    rbc,\n    right,\n    bottom,\n    left,\n    top,\n    width,\n    height,\n    minRotateLeft,\n    maxRotateLeft,\n    minRotateTop,\n    maxRotateTop,\n  }\n}\nlet getGroupSize = (\n  rects, \n  angle\n) => {\n  // \n  let points = []\n  rects.forEach(rect => {\n    let info = getRectInfo(rect.data)\n    points = [\n      ...points,\n      info.rotateLeftTop,\n      info.rotateRightTop,\n      info.rotateLeftBottom,\n      info.rotateRightBottom,\n    ]\n  })\n  // 4\n  let ab = getABByPointsAndAngle(points, angle)\n  //  group \n  let rlt = getCByABAndAngle(\n    ab.a,\n    ab.b,\n    angle\n  )\n  //  group \n  let rrb = getCByABAndAngle(\n    ab.a2,\n    ab.b2,\n    angle,\n  )\n  // \n  let center = {\n    left: rlt.left + (rrb.left - rlt.left) / 2,\n    top: rrb.top - (rrb.top - rlt.top) / 2,\n  }\n  //  rlt,rrb  lt \n  //  lt, lt\n  let lt = getRotatePointByCenter(\n    center, \n    (angle > 90 && angle <= 270)\n      ? rrb\n      : rlt,\n    angle,\n    false,\n  )\n  let width = Math.abs(center.left - lt.left) * 2\n  let height = Math.abs(center.top - lt.top) * 2\n\n  return {\n    left: tNumber(lt.left),\n    top: tNumber(lt.top),\n    width: tNumber(width),\n    height: tNumber(height),\n  }\n}\n// a, bab a  m \n//  b \nlet getScalePoint = (\n  a, \n  b, \n  m\n) => {\n  return {\n    left: (b.left - a.left) * m + a.left,\n    top: (b.top - a.top) * m + a.top,\n  }\n}\nlet getPointsCenter = (\n  a, \n  b\n) => {\n  return {\n    left: tNumber(a.left + (b.left - a.left) / 2),\n    top: tNumber(a.top + (b.top - a.top) / 2),\n  }\n}\nlet getWH = (\n  a, \n  c\n) => {\n  return {\n    width: Math.abs(c.left - a.left) * 2,\n    height: Math.abs(c.top - a.top) * 2,\n  }\n}\n// 150, 54 \nlet middleLeft = vars.b + vars.c\nlet middleTop = vars.a + vars.c\nlet getMousePoint = (e) => {\n  let $middle = document.querySelector('.proto-middle') || document.documentElement\n  return {\n    left: e.clientX + $middle.scrollLeft - middleLeft,\n    top: e.clientY + $middle.scrollTop - middleTop,\n  }\n}\n//  %  px\nlet percentPx = (str) => {\n  str = str + ''\n  if (!str.includes('%')){\n    str += 'px'\n  }\n  return str\n}\n// \nlet isRightMouse = (e) => {\n  return e.which === 3\n}\n// \nlet memoizeResolver = (...args) => {\n  return JSON.stringify(args)\n}\n;['min', 'max', 'cos', 'sin', 'tan', 'atan', 'abs', 'ceil', 'pow', 'round'].forEach(name => {\n  Math[name] = memoize(Math[name], memoizeResolver)\n}) \ngetTextSize = memoize(getTextSize, memoizeResolver)\ngetMappingRectX = memoize(getMappingRectX, memoizeResolver) \ncheckRectOverlap2 = memoize(checkRectOverlap2, memoizeResolver)\ntNumber = memoize(tNumber, memoizeResolver)\ngetRadian = memoize(getRadian, memoizeResolver)\ngetAngle = memoize(getAngle, memoizeResolver)\ngetRotatePointByCenter = memoize(getRotatePointByCenter, memoizeResolver)\ngetCByABAndAngle = memoize(getCByABAndAngle, memoizeResolver)\ngetMappingPoint = memoize(getMappingPoint, memoizeResolver)\ngetABByPointsAndAngle = memoize(getABByPointsAndAngle, memoizeResolver)\ngetAngleByTwoPoints = memoize(getAngleByTwoPoints, memoizeResolver)\ngetEffectiveAngle = memoize(getEffectiveAngle, memoizeResolver)\ngetRectInfo = memoize(getRectInfo, memoizeResolver)\ngetGroupSize = memoize(getGroupSize, memoizeResolver)\ngetScalePoint = memoize(getScalePoint, memoizeResolver)\ngetPointsCenter = memoize(getPointsCenter, memoizeResolver)\ngetWH = memoize(getWH, memoizeResolver)\npercentPx = memoize(percentPx, memoizeResolver)\n\nexport {\n  getRectInfo,\n  getGroupSize,\n  getScalePoint,\n  getPointsCenter,\n  getWH,\n  getMousePoint,\n  percentPx,\n  sum,\n  empty,\n  getTextWidth,\n  getTextSize,\n  checkRectOverlap,\n  getRotatePointByCenter,\n  getCByABAndAngle,\n  getABByPointsAndAngle,\n  getAngle,\n  tNumber,\n  getAngleByTwoPoints,\n  getEffectiveAngle,\n  getRadian,\n  getUuid,\n  selectText,\n  isRightMouse,\n  checkRectOverlap2,\n  middleLeft,\n  middleTop,\n}","import { \n  getRadian,\n  getRotatePointByCenter,\n  getAngleByTwoPoints,\n  getPointsCenter,\n  getScalePoint,\n  getWH,\n} from './base'\n\nlet minLen = 10\nlet getWidthScale = (\n  newWidth, \n  width\n) => {\n  return newWidth / width\n}\n// \nlet getResizeData = (rect) => {\n  let data = rect.data\n  let tempInfo = rect.tempData\n  let angle = tempInfo.angle\n  let radian = getRadian(angle)\n  let tempWidth = tempInfo.width\n  let tempHeight = tempInfo.height\n\n  return {\n    data,\n    tempInfo,\n    angle,\n    radian,\n    tempWidth,\n    tempHeight,\n  }\n}\n\n//  resize\n// mx  x \n// my  y  \nlet resizeAR = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    radian,\n  } = getResizeData(rect)\n  let widthDiff =  - Math.cos(radian) * mx - Math.sin(radian) * my\n  let newWidth = Math.max(widthDiff + tempWidth, minLen)\n  let scale = getWidthScale(newWidth, tempWidth) \n  \n  let rlt = tempInfo.rotateLeftTop\n  let rrb = tempInfo.rotateRightBottom\n  let newRlt = getScalePoint(rrb, rlt, scale)\n  // \n  let newCenter = getPointsCenter(newRlt, rrb)\n  // left, top\n  let newLt = getRotatePointByCenter(newCenter, newRlt, angle, false)\n  let wh = getWH(newLt, newCenter)\n\n  // \n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width: wh.width,\n      height: wh.height,\n    },\n    scale,\n    fixedPoint: rrb,\n  }\n}\nlet resizeBR = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    radian,\n  } = getResizeData(rect)\n  let widthDiff = Math.cos(radian) * mx + Math.sin(radian) * my\n  let newWidth = Math.max(widthDiff + tempWidth, minLen)\n  let scale = getWidthScale(newWidth, tempWidth)\n\n  let rrt = tempInfo.rotateRightTop\n  let rlb = tempInfo.rotateLeftBottom\n  let newRrt = getScalePoint(rlb, rrt, scale)\n  // \n  let newCenter = getPointsCenter(rlb, newRrt)\n  // right, top\n  let newRt = getRotatePointByCenter(newCenter, newRrt, angle, false)\n  let wh = getWH(newRt, newCenter)\n  let newLt = {\n    left: newRt.left - wh.width,\n    top: newRt.top\n  }\n\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width: wh.width,\n      height: wh.height,\n    },\n    scale,\n    fixedPoint: rlb,\n  }\n}\nlet resizeCR = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    radian,\n  } = getResizeData(rect)\n  let widthDiff = Math.cos(radian) * mx + Math.sin(radian) * my\n  let newWidth = Math.max(widthDiff + tempWidth, minLen)\n  let scale = getWidthScale(newWidth, tempWidth)\n\n  let rlt = tempInfo.rotateLeftTop\n  let rrb = tempInfo.rotateRightBottom\n  let newRrb = getScalePoint(rlt, rrb, scale)\n  // \n  let newCenter = getPointsCenter(rlt, newRrb)\n  // left, top\n  let newLt = getRotatePointByCenter(newCenter, rlt, angle, false)\n  let wh = getWH(newLt, newCenter)\n\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width: wh.width,\n      height: wh.height,\n    },\n    scale,\n    fixedPoint: rlt,\n  }\n}\nlet resizeDR = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    radian,\n  } = getResizeData(rect)\n  let widthDiff = -Math.cos(radian) * mx - Math.sin(radian) * my\n  let newWidth = Math.max(widthDiff + tempWidth, minLen)\n  let scale = getWidthScale(newWidth, tempWidth)\n\n  let rrt = tempInfo.rotateRightTop\n  let rlb = tempInfo.rotateLeftBottom\n  let newRlb = getScalePoint(rrt, rlb, scale)\n  // \n  let newCenter = getPointsCenter(rrt, newRlb)\n  // right, top\n  let newRt = getRotatePointByCenter(newCenter, rrt, angle, false)\n  let wh = getWH(newRt, newCenter)\n  let newLt = {\n    left: newRt.left - wh.width,\n    top: newRt.top\n  }\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width: wh.width,\n      height: wh.height,\n    },\n    scale,\n    fixedPoint: rrt,\n  }\n}\nlet resizeA = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  let rrb = tempInfo.rotateRightBottom\n  //  width, height wh  wh \n  let widthDiff = - Math.cos(radian) * mx - Math.sin(radian) * my\n  let heightDiff = Math.sin(radian) * mx - Math.cos(radian) * my\n  let width = Math.max(widthDiff + tempWidth, minLen)\n  let height = Math.max(heightDiff + tempHeight, minLen)\n  //  width, height, anglerrb  rlt \n  let newRlt = {\n    left: 0,\n    top: 0,\n  }\n  if (angle === 0){\n    newRlt = {\n      left: rrb.left - width,\n      top: rrb.top - height,\n    }\n  }\n  else if (angle === 90){\n    newRlt = {\n      left: rrb.left + height,\n      top: rrb.top - width,\n    }\n  }\n  else if (angle === 180) {\n    newRlt = {\n      left: rrb.left + width,\n      top: rrb.top + height,\n    }\n  }\n  else if (angle === 270){\n    newRlt = {\n      left: rrb.left - height,\n      top: rrb.top + width,\n    }\n  }\n  else {\n    // \n    newRlt = {\n      left: rrb.left - Math.cos(radian) * (width - Math.tan(radian) * height),\n      top: rrb.top - (height / Math.cos(radian) + Math.sin(radian) * (width - Math.tan(radian) * height)),\n    }\n  }\n  let newCenter = getPointsCenter(newRlt, rrb)\n  // left, top\n  let newLt = getRotatePointByCenter(newCenter, newRlt, angle, false)\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width: width,\n      height: height,\n    },\n    fixedPoint: rrb,\n  }\n}\nlet resizeAB = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  // \n  let heightDiff = Math.sin(radian) * mx - Math.cos(radian) * my\n  let newHeight = Math.max(tempHeight + heightDiff, minLen)\n  heightDiff = newHeight - tempHeight\n\n  //  rlt \n  let rlt = tempInfo.rotateLeftTop\n  let rrb = tempInfo.rotateRightBottom\n  let newRlt = {\n    left: rlt.left + Math.sin(radian) * heightDiff,\n    top: rlt.top - Math.cos(radian) * heightDiff,\n  }\n  // \n  let newCenter = getPointsCenter(newRlt, rrb)\n  // left, top\n  let newLt = getRotatePointByCenter(newCenter, newRlt, angle, false)\n\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      height: newHeight,\n    },\n    fixedPoint: rrb,\n    scaleH: newHeight / tempHeight,\n  }\n}\nlet resizeB = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  let rlb = tempInfo.rotateLeftBottom\n  //  width, height wh  wh \n  let widthDiff = Math.cos(radian) * mx + Math.sin(radian) * my\n  let heightDiff = Math.sin(radian) * mx - Math.cos(radian) * my\n  let width = Math.max(widthDiff + tempWidth, minLen)\n  let height = Math.max(heightDiff + tempHeight, minLen)\n  //  width, height, anglerrb  rrt \n  let newRrt = {\n    left: 0,\n    top: 0,\n  }\n  if (angle === 0){\n    newRrt = {\n      left: rlb.left + width,\n      top: rlb.top - height,\n    }\n  }\n  else if (angle === 90){\n    newRrt = {\n      left: rlb.left + height,\n      top: rlb.top + width,\n    }\n  }\n  else if (angle === 180) {\n    newRrt = {\n      left: rlb.left - width,\n      top: rlb.top + height,\n    }\n  }\n  else if (angle === 270){\n    newRrt = {\n      left: rlb.left - height,\n      top: rlb.top - width,\n    }\n  }\n  else {\n    // \n    newRrt = {\n      left: rlb.left + width / Math.cos(radian) + Math.sin(radian) * (height - Math.tan(radian) * width),\n      top: rlb.top - Math.cos(radian) * (height - Math.tan(radian) * width)\n    }\n  }\n  let newCenter = getPointsCenter(newRrt, rlb)\n  //  rt\n  let newRt = getRotatePointByCenter(newCenter, newRrt, angle, false)\n\n  return {\n    size: {\n      left: newRt.left - width,\n      top: newRt.top,\n      width,\n      height,\n    },\n    fixedPoint: rlb,\n  }\n}\nlet resizeBC = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempWidth,\n    radian,\n  } = getResizeData(rect)\n  // \n  let widthDiff = Math.cos(radian) * mx + Math.sin(radian) * my\n  let newWidth = Math.max(tempWidth + widthDiff, minLen)\n  return resizeNewWidth(rect, newWidth)\n}\nlet resizeC = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  let rlt = tempInfo.rotateLeftTop\n  //  width, height wh  wh \n  let widthDiff = Math.cos(radian) * mx + Math.sin(radian) * my\n  let heightDiff = -Math.sin(radian) * mx + Math.cos(radian) * my\n  let width = Math.max(widthDiff + tempWidth, minLen)\n  let height = Math.max(heightDiff + tempHeight, minLen)\n  let newRrb = {\n    left: 0,\n    top: 0,\n  }\n  if (angle === 0){\n    newRrb = {\n      left: rlt.left + width,\n      top: rlt.top + height,\n    }\n  }\n  else if (angle === 90){\n    newRrb = {\n      left: rlt.left - height,\n      top: rlt.top + width,\n    }\n  }\n  else if (angle === 180) {\n    newRrb = {\n      left: rlt.left - width,\n      top: rlt.top - height,\n    }\n  }\n  else if (angle === 270){\n    newRrb = {\n      left: rlt.left + height,\n      top: rlt.top - width,\n    }\n  }\n  else {\n    // \n    newRrb = {\n      left: rlt.left  + Math.cos(radian) * (width - Math.tan(radian) * height),\n      top: rlt.top + height / Math.cos(radian) + Math.sin(radian) * (width - Math.tan(radian) * height),\n    }\n  }\n  let newCenter = getPointsCenter(newRrb, rlt)\n  let newLt = getRotatePointByCenter(newCenter, rlt, angle, false)\n\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width,\n      height,\n    },\n    fixedPoint: rlt,\n  }\n}\n// \nlet resizeNewWidth = (\n  rect, \n  newWidth\n) => {\n  let {\n    data,\n    tempInfo,\n    angle,\n    tempWidth,\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  // \n  let widthDiff = newWidth - tempWidth\n  let newHeight = tempHeight\n\n  //  rrb \n  let rlt = tempInfo.rotateLeftTop\n  let rrb = tempInfo.rotateRightBottom\n  let newRrb = {\n    left: rrb.left + Math.cos(radian) * widthDiff,\n    top: rrb.top + Math.sin(radian) * widthDiff\n  }\n  // \n  let isSameRatio = data.isSameRatio\n  if (isSameRatio){\n    let heightDiff = (tempHeight / tempWidth) * widthDiff\n    newHeight += heightDiff\n    newRrb = {\n      left: newRrb.left - Math.sin(radian) * heightDiff,\n      top: newRrb.top + Math.cos(radian) * heightDiff\n    }\n  }\n  // \n  let newCenter = getPointsCenter(rlt, newRrb)\n  // left, top\n  let newLt = getRotatePointByCenter(newCenter, rlt, angle, false)\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width: newWidth,\n      height: newHeight, \n    },\n    fixedPoint: rlt,\n    scaleW: newWidth / tempWidth,\n  }\n}\nlet resizeNewHeight = (\n  rect, \n  newHeight\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  let heightDiff = newHeight - tempHeight\n  let rlt = tempInfo.rotateLeftTop\n  let rrb = tempInfo.rotateRightBottom\n  let newRrb = {\n    left: rrb.left - Math.sin(radian) * heightDiff,\n    top: rrb.top + Math.cos(radian) * heightDiff,\n  }\n  // \n  let newCenter = getPointsCenter(rlt, newRrb)\n  // left, top\n  let newLt = getRotatePointByCenter(newCenter, rlt, angle, false)\n\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      height: newHeight,\n    },\n    fixedPoint: rlt,\n    scaleW: newHeight / tempHeight,\n  }\n}\nlet resizeCD = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  // \n  let heightDiff = -Math.sin(radian) * mx + Math.cos(radian) * my\n  let newHeight = Math.max(tempHeight + heightDiff, minLen)\n  return resizeNewHeight(rect, newHeight)\n}\nlet resizeD = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  let rrt = tempInfo.rotateRightTop\n  //  width, height wh  wh \n  let widthDiff = -Math.cos(radian) * mx - Math.sin(radian) * my\n  let heightDiff = -Math.sin(radian) * mx + Math.cos(radian) * my\n  let width = Math.max(widthDiff + tempWidth, minLen)\n  let height = Math.max(heightDiff + tempHeight, minLen)\n  let newRlb = {\n    left: 0,\n    top: 0,\n  }\n  if (angle === 0){\n    newRlb = {\n      left: rrt.left - width,\n      top: rrt.top + height,\n    }\n  }\n  else if (angle === 90){\n    newRlb = {\n      left: rrt.left - height,\n      top: rrt.top - width,\n    }\n  }\n  else if (angle === 180) {\n    newRlb = {\n      left: rrt.left + width,\n      top: rrt.top - height,\n    }\n  }\n  else if (angle === 270){\n    newRlb = {\n      left: rrt.left + height,\n      top: rrt.top + width,\n    }\n  }\n  else {\n    // \n    newRlb = {\n      left: rrt.left - (width / Math.cos(radian) + Math.sin(radian) * (height - Math.tan(radian) * width)),\n      top: rrt.top + Math.cos(radian) * (height - Math.tan(radian) * width)\n    }\n  }\n  let newCenter = getPointsCenter(newRlb, rrt)\n  //  rt\n  let newRt = getRotatePointByCenter(newCenter, rrt, angle, false)\n\n  return {\n    size: {\n      left: newRt.left - width,\n      top: newRt.top,\n      height,\n      width,\n    },\n    fixedPoint: rrt,\n  }\n}\nlet resizeAD = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    radian,\n  } = getResizeData(rect)\n  // \n  let widthDiff = -Math.cos(radian) * mx - Math.sin(radian) * my\n  let newWidth = Math.max(tempWidth + widthDiff, minLen)\n  widthDiff = newWidth - tempWidth\n\n  //  rrb \n  let rlt = tempInfo.rotateLeftTop\n  let rrb = tempInfo.rotateRightBottom\n  let newRlt = {\n    left: rlt.left - Math.cos(radian) * widthDiff,\n    top: rlt.top - Math.sin(radian) * widthDiff,\n  }\n  // \n  let newCenter = getPointsCenter(rrb, newRlt)\n  // left, top\n  let newLt = getRotatePointByCenter(newCenter, newRlt, angle, false)\n\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width: newWidth,\n    },\n    fixedPoint: rrb,\n    scaleW: newWidth / tempWidth,\n  }\n}\n//  line \nlet resizeADL = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let tempInfo = rect.tempData\n  let height = tempInfo.height\n  let width = tempInfo.width\n  let rbc = tempInfo.rbc\n  let rad = tempInfo.rad\n  let newRad = {\n    left: rad.left + mx,\n    top: rad.top + my,\n  }\n  let newCenter = getPointsCenter(newRad, rbc)\n  let newAngle = parseInt(getAngleByTwoPoints(newRad, newCenter) + 90) % 360\n  let ad = getRotatePointByCenter(newCenter, newRad, newAngle, false)\n  let bc = getRotatePointByCenter(newCenter, rbc, newAngle, false)\n  let newWidth = bc.left - ad.left\n  let a = {\n    left: ad.left,\n    top: ad.top - height / 2,\n  }\n  return {\n    size: {\n      ...a,\n      width: newWidth,\n    },\n    angle: newAngle,\n    fixedPoint: rbc,\n    scaleW: newWidth / width,\n  }\n}\nlet resizeBCL = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let tempInfo = rect.tempData\n  let height = tempInfo.height\n  let width = tempInfo.width\n  let rbc = tempInfo.rbc\n  let rad = tempInfo.rad\n  let newRbc = {\n    left: rbc.left + mx,\n    top: rbc.top + my,\n  }\n  let newCenter = getPointsCenter(rad, newRbc)\n  let newAngle = parseInt(getAngleByTwoPoints(rad, newCenter) + 90) % 360\n  let ad = getRotatePointByCenter(newCenter, rad, newAngle, false)\n  let bc = getRotatePointByCenter(newCenter, newRbc, newAngle, false)\n  let newWidth = bc.left - ad.left\n  let a = {\n    left: ad.left,\n    top: ad.top - height / 2,\n  }\n  return {\n    size: {\n      ...a,\n      width: newWidth,\n    },\n    angle: newAngle,\n    fixedPoint: rad,\n    scaleW: newWidth / width,\n  }\n}\n// line \nlet resizeADRL = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    radian,\n    tempWidth,\n    tempHeight,\n  } = getResizeData(rect)\n  let rbc = tempInfo.rbc\n  let rad = tempInfo.rad\n  let widthDiff = -Math.cos(radian) * mx - Math.sin(radian) * my\n  let newWidth = Math.max(widthDiff + tempWidth, minLen)\n  let scale = getWidthScale(newWidth, tempWidth)\n  let newRad = getScalePoint(rbc, rad, scale)\n  let newCenter = getPointsCenter(rbc, newRad)\n  let ad = getRotatePointByCenter(newCenter, newRad, angle, false)\n  let a = {\n    left: ad.left,\n    top: ad.top - tempHeight / 2,\n  }\n  return {\n    size: {\n      ...a,\n      width: newWidth,\n    },\n    angle,\n    fixedPoint: rad,\n    scale,\n  }\n}\n// line \nlet resizeBCRL = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    radian,\n    tempWidth,\n    tempHeight,\n  } = getResizeData(rect)\n  let rbc = tempInfo.rbc\n  let rad = tempInfo.rad\n  let widthDiff = Math.cos(radian) * mx + Math.sin(radian) * my\n  let newWidth = Math.max(widthDiff + tempWidth, minLen)\n  let scale = getWidthScale(newWidth, tempWidth)\n  let newRbc = getScalePoint(rad, rbc, scale)\n  let newCenter = getPointsCenter(rad, newRbc)\n  let ad = getRotatePointByCenter(newCenter, rad, angle, false)\n  let a = {\n    left: ad.left,\n    top: ad.top - tempHeight / 2,\n  }\n  return {\n    size: {\n      ...a,\n      width: newWidth,\n    },\n    angle,\n    fixedPoint: rad,\n    scale,\n  }\n}\nexport {\n  resizeAR,\n  resizeBR,\n  resizeCR,\n  resizeDR,\n  resizeA,\n  resizeAB,\n  resizeB,\n  resizeBC,\n  resizeC,\n  resizeCD,\n  resizeD,\n  resizeAD,\n  resizeADL,\n  resizeBCL,\n  resizeADRL,\n  resizeBCRL,\n  resizeNewWidth,\n  resizeNewHeight,\n}","var render, staticRenderFns\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {\n  getScalePoint,\n  getPointsCenter,\n  getWH,\n  getRotatePointByCenter,\n  getRadian,\n  getTextSize,\n} from '@/core/base'\nimport {\n  resizeAR,\n  resizeBR,\n  resizeCR,\n  resizeDR,\n  resizeA,\n  resizeAB,\n  resizeB,\n  resizeBC,\n  resizeC,\n  resizeCD,\n  resizeD,\n  resizeAD,\n  resizeADL,\n  resizeBCL,\n  resizeADRL,\n  resizeBCRL,\n  resizeNewWidth,\n  resizeNewHeight,\n} from '@/core/resize'\nexport default {\n  methods: {\n    _resize (\n      mx, \n      my\n    ) {\n      let rect = this.objects[this.currRectId]\n      let dir = this.mouse.resizerDir\n      let isLine = rect.type === 'rect-line'\n      ;[mx, my] = this._checkGuideOnResize(rect, dir, mx, my)\n      if (this._checkIsGroupLike(rect)){\n        this._resizeGroup(rect, dir, mx, my)\n      }\n      else if (isLine){\n        this._resizeLine(rect, dir, mx, my)\n      }\n      else {\n        this._resizeRect(rect, dir, mx, my)\n      }\n    },\n    _resizeText (\n      rect, \n      text\n    ) {\n      let data = rect.data\n      text = text || data.text\n      let font = `${data.fontSize}px ${data.fontFamily}`\n      let size = getTextSize(text, font)\n      let newWidth = size.width\n      this._resizeWidthTo(rect, newWidth)\n      let newHeight = size.height\n      this._resizeHeightTo(rect, newHeight)\n    },\n    _resizeLine (\n      rect, \n      dir, \n      mx, \n      my\n    ) {\n      let resizeF = {\n        ad: resizeADL,\n        bc: resizeBCL,\n      }[dir]\n      if (rect.data.isAngleLock) {\n        resizeF = {\n          ad: resizeADRL,\n          bc: resizeBCRL,\n        }[dir]\n      }\n      let resizeRes = resizeF(rect, mx, my)\n      this._commandRectDataPropUpdate(rect, 'angle', resizeRes.angle)\n      this._updateRectData(rect, resizeRes.size)\n    },\n    // \n    _scaleGroupRectR (\n      rect, \n      fixedPoint, \n      scale\n    ) {\n      let rectData = rect.data\n      let rectInfo = rect.tempData\n      let rlt = rectInfo.rotateLeftTop\n      let rrb = rectInfo.rotateRightBottom\n\n      let newRlt = getScalePoint(fixedPoint, rlt, scale)\n      let newRrb = getScalePoint(fixedPoint, rrb, scale)\n      let newCenter = getPointsCenter(newRlt, newRrb)\n      let lt = getRotatePointByCenter(newCenter, newRlt, rectData.angle, false)\n      let wh = getWH(lt, newCenter)\n      this._updateRectData(rect, {\n        left: lt.left,\n        top: lt.top,\n        width: wh.width,\n        height: wh.height,\n      }, false)\n    },\n    _scaleGroupRectWOrH (\n      group, \n      rect, \n      scale, \n      dir\n    ) {\n      let groupData = group.data\n      let groupTempInfo = group.tempData\n      let groupAngle = groupData.angle\n      let data = rect.data\n      let tempInfo = rect.tempData\n      let angle = data.angle\n      let radian = getRadian(groupAngle)\n      let fixed\n      let type = 'left'\n\n      if (dir === 'bc'){\n        fixed = groupTempInfo.left \n      }\n      else if (dir === 'ad'){\n        fixed = groupTempInfo.left + groupTempInfo.width\n      }\n      else if (dir === 'cd'){\n        fixed = groupTempInfo.top\n        type = 'top'\n      }\n      else {\n        fixed = groupTempInfo.top + groupTempInfo.height\n        type = 'top'\n      }\n\n      let angleDiff = Math.abs(angle - groupAngle)\n      let is180 = angleDiff === 180\n      let is90 = angleDiff === 90\n      let is270 = angleDiff === 270\n\n      let rlt = tempInfo.rotateLeftTop\n      let rrt = tempInfo.rotateRightTop\n      let rrb = tempInfo.rotateRightBottom\n      let rlb = tempInfo.rotateLeftBottom\n\n      //  rect  group \n      if (is90){\n        [rlt, rrb] = [rlb, rrt]\n      }\n      else if (is180){\n        [rlt, rrb] = [rrb, rlt]\n      }\n      else if (is270){\n        [rlt, rrb] = [rrt, rlb]\n      }\n\n      let lt = getRotatePointByCenter(\n        groupTempInfo.center,\n        rlt,\n        groupAngle,\n        false,\n      )\n      let dis = lt[type] - fixed\n      let disDiff = dis * (scale - 1)\n      let newRlt = {\n        left: rlt.left,\n        top: rlt.top,\n      }\n      if (type === 'left'){\n        newRlt.left += Math.cos(radian) * disDiff\n        newRlt.top += Math.sin(radian) * disDiff\n      }\n      else {\n        newRlt.left -= Math.sin(radian) * disDiff\n        newRlt.top += Math.cos(radian) * disDiff\n      }\n      \n      let rb = getRotatePointByCenter(\n        groupTempInfo.center,\n        rrb,\n        groupAngle,\n        false,\n      )\n      // rect cd  group ad \n      let dis2 = rb[type] - fixed\n      let dis2Diff = dis2 * (scale - 1)\n      let newRrb = {\n        left: rrb.left,\n        top: rrb.top,\n      }\n      if (type === 'left'){\n        newRrb.left += Math.cos(radian) * dis2Diff\n        newRrb.top += Math.sin(radian) * dis2Diff\n      }\n      else {\n        newRrb.left -= Math.sin(radian) * dis2Diff\n        newRrb.top += Math.cos(radian) * dis2Diff\n      }\n\n      let newCenter = getPointsCenter(newRlt, newRrb)\n      let newLt = getRotatePointByCenter(\n        newCenter, \n        newRlt, \n        angle, \n        false\n      )\n      let wh = getWH(newLt, newCenter)\n      let size = {\n        left: newLt.left,\n        top: newLt.top,\n        width: wh.width,\n        height: wh.height,\n      }\n      // \n      if (is180){\n        size.left = data.left - size.width\n        size.top = data.top - size.height\n      }\n      else if (is90){\n        size.top = data.top - size.height\n      }\n      else if (is270){\n        size.left = data.left - size.width\n      }\n      this._updateRectData(rect, size, false)\n    },\n    // \n    _scaleGroupR (\n      group, \n      fixedPoint, \n      scale\n    ) {\n      let f = (id) => {\n        let rect = this._getRectById(id)\n        this._scaleGroupRectR(rect, fixedPoint, scale)\n      }\n      this._updateGroupState(group, f)\n    },\n    _resizeGroupWithRes (\n      group, \n      resizeRes, \n      dir\n    ) {\n      let { fixedPoint } = resizeRes\n      let scale = resizeRes.scaleW || resizeRes.scaleH\n      let groupData = group.data\n      let groupAngle = groupData.angle\n      let f = (id) => {\n        let rect = this._getRectById(id)\n        let data = rect.data\n        let angle = data.angle\n\n        //  90  rect\n        //  isSameRatio\n        let isSameRatio = groupData.isSameRatio || data.isSameRatio\n        let is90 = (angle - groupAngle) % 90 !== 0\n        if ( isSameRatio || is90 ){\n          this._scaleGroupRectR(rect, fixedPoint, scale)\n        }\n        else {\n          this._scaleGroupRectWOrH(group, rect, scale, dir)\n        }\n      }\n      this._updateGroupState(group, f)\n      return this._getGroupSize(group)\n    },\n    // a ---- b\n    // d ---- c \n    _resizeGroup (\n      group, \n      dir = 'c', \n      mx = 0, \n      my = 0\n    ) {\n      let resizeF = {\n        a: resizeAR,\n        b: resizeBR,\n        c: resizeCR,\n        d: resizeDR,\n        ab: resizeAB,\n        bc: resizeBC,\n        cd: resizeCD,\n        ad: resizeAD,\n      }[dir]\n      let resizeRes = resizeF(group, mx, my)\n      let groupSize = {}\n      if (['a', 'b', 'c', 'd'].includes(dir)){\n        let {scale, fixedPoint} = resizeRes\n        this._scaleGroupR(group, fixedPoint, scale)\n        groupSize = resizeRes.size\n      }\n      else {\n        groupSize = this._resizeGroupWithRes(group, resizeRes, dir)\n      }\n      this._updateRectData(group, groupSize)\n    },\n    // a ---- b\n    // d ---- c \n    _resizeRect (\n      rect, \n      dir = 'bc', \n      mx, \n      my\n    ) {\n      let resizeF = {\n        a: resizeA,\n        b: resizeB,\n        c: resizeC,\n        d: resizeD,\n        ab: resizeAB,\n        bc: resizeBC,\n        cd: resizeCD,\n        ad: resizeAD,\n      }[dir]\n      let shiftKey = this.mouse.e.shiftKey\n      let isSameRatio = rect.data.isSameRatio\n      if (shiftKey || isSameRatio) {\n        resizeF = {\n          a: resizeAR,\n          b: resizeBR,\n          c: resizeCR,\n          d: resizeDR,\n        }[dir]\n      }\n      let resizeRes = resizeF(rect, mx, my)\n      this._updateRectData(rect, resizeRes.size)\n    },\n    //  width  height\n    _resizeTo (\n      rect, \n      width = null, \n      height = null\n    ) {\n      let isGroupLike = this._checkIsGroupLike(rect)\n      let resizeRes\n      let dir\n\n      if (width !== null){\n        resizeRes = resizeNewWidth(rect, width)\n        dir = 'bc'\n      }\n      if (height !== null){\n        resizeRes = resizeNewHeight(rect, height)\n        dir = 'cd'\n      }\n      if (isGroupLike){\n        let groupSize = this._resizeGroupWithRes(rect, resizeRes, dir)\n        this._updateRectData(rect, groupSize)\n      }\n      else {\n        this._updateRectData(rect, resizeRes.size)\n      }\n    },\n    _resizeWidthTo (\n      rect, \n      width\n    ) {\n      this._resizeTo(rect, width)\n    },\n    _resizeHeightTo (\n      rect, \n      height,\n    ) {\n      this._resizeTo(rect, null, height)\n    },\n  }\n}","import {\n  getRotatePointByCenter,\n  getAngleByTwoPoints,\n  getEffectiveAngle,\n  getRectInfo,\n  tNumber,\n} from '@/core/base'\n\nexport default {\n  methods: {\n    _rotate (mousePoint) {\n      let rect = this.objects[this.currRectId]\n      let info = getRectInfo(rect.data)\n      let tempInfo = rect.tempData\n      let oldAngle = tempInfo.angle\n      let nowAngle = info.angle\n      let scale = this.scale\n      let newAngle =  parseInt(getAngleByTwoPoints(mousePoint, {\n        left: info.center.left * scale,\n        top: info.center.top * scale\n      }))\n      let angleDiff = newAngle - oldAngle\n      angleDiff = this._checkGuideOnRotate(oldAngle, nowAngle, newAngle, angleDiff)\n\n      if (this._checkIsGroupLike(rect)){\n        this._rotateGroup(rect, angleDiff)\n      }\n      else {\n        this._rotateRect(rect, angleDiff)\n      }\n    },\n    _rotateTo (\n      rect, \n      angle\n    ) {\n      let tempInfo = rect.tempData\n      let angleDiff = angle - tempInfo.angle\n\n      if (this._checkIsGroupLike(rect)){\n        this._rotateGroup(rect, angleDiff)\n      }\n      else {\n        this._rotateRect(rect, angleDiff)\n      }\n    },\n    _rotateRect (\n      rect, \n      angleDiff\n    ) {\n      this._commandRectDataPropUpdate(rect, 'angle', getEffectiveAngle(rect.tempData.angle + angleDiff))\n      //  group\n      if (rect.groupId){\n        let group = this._getRectById(rect.groupId)\n        this._updateGroupSize(group)\n      }\n    },\n    _rotateGroup (\n      group, \n      angleDiff\n    ) {\n      let groupTempInfo = group.tempData\n      let groupCenter = groupTempInfo.center\n      let f = (id) => {\n        let rect = this._getRectById(id)\n        let tempInfo = rect.tempData\n        let center = getRotatePointByCenter(groupCenter, tempInfo.center, angleDiff)\n        let left = center.left - tempInfo.width / 2\n        let top = center.top - tempInfo.height / 2\n\n        this._commandRectDataPropUpdate(rect, 'left', tNumber(left))\n        this._commandRectDataPropUpdate(rect, 'top', tNumber(top))\n        this._commandRectDataPropUpdate(rect, 'angle', getEffectiveAngle(tempInfo.angle + angleDiff))\n      }\n      this._updateGroupState(group, f, true)\n    },\n  }\n}","export default {\n  methods: {\n    _move (\n      rect, \n      mx = 0, \n      my = 0, \n      isCheck = true\n    ) {\n      rect = this._safeObject(rect)\n      if (isCheck){\n        [mx, my] = this._checkGuideOnMove(rect, mx, my)\n      }\n      let isShift = this.mouse.e.shiftKey\n      if (isShift) {\n        if (Math.abs(mx) > Math.abs(my)) {\n          my = 0\n        }\n        else {\n          mx = 0\n        }\n      }\n      if (this._checkIsGroupLike(rect)){\n        this._moveGroup(rect, mx, my)\n      }\n      else {\n        this._moveRect(rect, mx, my)\n      }\n    },\n    _moveTo (\n      rect, \n      left = null, \n      top = null\n    ) {\n      let tempInfo = rect.tempData\n      let mx = 0\n      let my = 0\n      if (left !== null){\n        mx = left - tempInfo.left\n      }\n      if (top !== null){\n        my = top - tempInfo.top\n      }\n      this._move(rect, mx, my, false)\n    },\n    _moveLeftTo (\n      rect, \n      left\n    ) {\n      this._moveTo(rect, left)\n    },\n    _moveTopTo (\n      rect, \n      top\n    ) {\n      this._moveTo(rect, null, top)\n    },\n    _moveRect (\n      rect, \n      mx = 0, \n      my = 0\n    ) {\n      let tempInfo = rect.tempData\n      this._updateRectData(rect, {\n        left: tempInfo.left + mx,\n        top: tempInfo.top + my\n      }, false)\n      if (rect.groupId){\n        let group = this._getRectById(rect.groupId)\n        this._updateGroupSize(group)\n      }\n    },\n    _moveGroup (\n      group, \n      mx = 0, \n      my = 0\n    ) {\n      let f = (id) => {\n        let rect = this._getRectById(id)\n        let tempInfo = rect.tempData\n        this._updateRectData(rect, {\n          left: tempInfo.left + mx,\n          top: tempInfo.top + my,\n        }, false)\n      }\n      this._updateGroupState(group, f)\n    },\n  }\n}","import jsx from 'vue-jsx'\nimport { tNumber } from '@/core/base'\nlet {\n  div, \n  span,\n  input,\n  select,\n  option,\n  label,\n  i,\n} = jsx\nlet SpColor = jsx.bind('sp-color')\nlet _renderSetting = function () {\n  let me = this\n  let jsxProps = {\n    'class_proto-setting': true,\n  }\n  let rect = this._safeObject(\n    this.currRectId || this._getSelectedRects()[0]\n  )\n  let children = []\n\n  if (rect){\n    let rectData = rect.data\n    let isGroupLike = this._checkIsGroupLike(rect)\n    let isTempGroup = this._checkIsTempGroup(rect)\n    let isLine = rect.type === 'rect-line'\n    let isText = rect.type === 'rect-text'\n    let isAutoSize = rectData.isAutoSize\n    let isSameRatio = rectData.isSameRatio\n    let isLock = rectData.isLock\n    let getInputJsxProps = (prop) => {\n      let value = rectData[prop]\n      if (typeof value === 'number'){\n        value = tNumber(value, 0)\n      }\n      let jsxProps = {\n        'class_form-input': true,\n        'class_input-sm': true,\n        domProps_value: value,\n        domProps_type: 'number',\n        props_value: value,\n        domProps_disabled: isLock,\n        props_disabled: isLock,\n        key: prop,\n        'on_blur' () {\n        },\n        'on_focus' () {\n          me._updateRectTempData(rect)\n        },\n        'on_change' (e) {\n          let value = e.target.value\n          me._commandRectDataPropUpdate(rect, prop, value)\n          me._historyPush()\n          if (['borderStyle'].includes(prop)){\n            me._flashHandler()\n          }\n        },\n      }\n      if (['borderColor', 'color', 'backgroundColor'].includes(prop)){\n        jsxProps = {\n          ...jsxProps,\n          'on_change' (value) {\n            let color = value.hex8\n            me._commandRectDataPropUpdate(rect, prop, color)\n            me._historyPush()\n            if (['borderColor'].includes(prop)){\n              me._flashHandler()\n            }\n          }\n        }\n      }\n      return jsxProps\n    }\n    if (isTempGroup){\n      let $align = div({'class_proto-setting-box-item': true},\n        span(''),\n        select({\n          'class_form-select': true,\n          'class_select-sm': true,\n          'domProps_value': '',\n          'on_change' (e) {\n            let align = e.target.value\n            let f = {\n              left: me._actionRectAlignLeft,\n              leftRight: me._actionRectAlignLeftRight,\n              right: me._actionRectAlignRight,\n              top: me._actionRectAlignTop,\n              topBottom: me._actionRectAlignTopBottom,\n              bottom: me._actionRectAlignBottom,\n              equalSpaceX: me._actionRectEqualSpaceX,\n              equalSpaceY: me._actionRectEqualSpaceY,\n            }[align]\n            f()\n            me._historyPush()\n            me.renderHook ++\n          }\n        },\n          option({domProps_value: ''}, ''),\n          option({domProps_value: 'left'}, ''),\n          option({domProps_value: 'leftRight'}, ''),\n          option({domProps_value: 'right'}, ''),\n          option({domProps_value: 'top'}, ''),\n          option({domProps_value: 'topBottom'}, ''),\n          option({domProps_value: 'bottom'}, ''),\n          option({\n            domProps_disabled: !me._actionCanRectEqualSpace(),\n            domProps_value: 'equalSpaceX',\n          }, ''),\n          option({\n            domProps_disabled: !me._actionCanRectEqualSpace(),\n            domProps_value: 'equalSpaceY',\n          }, ''),\n        )\n      )\n      children = [...children, $align]\n    }\n    let $left = div({'class_proto-setting-box-item': true},\n      span('X'),\n      input({\n        ...getInputJsxProps('left'),\n        'on_change' (e) {\n          let value = e.target.value\n          let intValue = parseInt(value)\n          me._moveLeftTo(rect, intValue)\n          me._historyPush()\n        },\n      })\n    )\n    children = [...children, $left]\n    let $top = div({'class_proto-setting-box-item': true},\n      span('Y'),\n      input({\n        ...getInputJsxProps('top'),\n        'on_change' (e) {\n          let value = e.target.value\n          let intValue = parseInt(value)\n          me._moveTopTo(rect, intValue)\n          me._historyPush()\n        },\n      })\n    )\n    children = [...children, $top]\n    let $width = div({'class_proto-setting-box-item': true},\n      span(''),\n      input({\n        domProps_disabled: isAutoSize,\n        ...getInputJsxProps('width'),\n        'on_change' (e) {\n          let value = e.target.value\n          let intValue = Math.max(10, parseInt(value))\n          me._resizeWidthTo(rect, intValue)\n          me._historyPush()\n        },\n      })\n    )\n    children = [...children, $width]\n    let $height = div({'class_proto-setting-box-item': true},\n      span(''),\n      input({\n        domProps_disabled: isAutoSize || isLine || isSameRatio,\n        ...getInputJsxProps('height'),\n        'on_change' (e) {\n          let value = e.target.value\n          let intValue = Math.max(10, parseInt(value))\n          me._resizeHeightTo(rect, intValue)\n          me._historyPush()\n        },\n      })\n    )\n    children = [...children, $height]\n    if (!isTempGroup) {\n      let $angle = div({'class_proto-setting-box-item': true},\n        span(''),\n        input({\n          ...getInputJsxProps('angle'),\n          'on_change' (e) {\n            let value = e.target.value\n            let intValue = parseInt(value) % 360\n            if (intValue < 0){\n              intValue += 360\n            }\n            me._rotateTo(rect, intValue)\n          },\n        })\n      )\n      children = [...children, $angle]\n    }\n    if (!isLine){\n      let $isSameRatio = div({'class_proto-setting-box-item': true},\n        span(''),\n        label({\n          'class_form-switch': true,\n        },\n          input({\n            ...getInputJsxProps(),\n            key: 'isSameRatio',\n            domProps_type: 'checkbox',\n            domProps_checked: rectData['isSameRatio'],\n            'on_change' () {\n              let value = !rectData['isSameRatio']\n              me._commandRectDataPropUpdate(rect, 'isSameRatio', value)\n              me._historyPush()\n            }\n          }),\n          i({'class_form-icon': true,}),\n        ),\n      )\n      children = [...children, $isSameRatio]\n    }\n\n    if (isLine){\n      let $isAngleLock = div({'class_proto-setting-box-item': true},\n        span(''),\n        label({\n          'class_form-switch': true,\n        },\n          input({\n            ...getInputJsxProps(),\n            key: 'isAngleLock',\n            domProps_type: 'checkbox',\n            domProps_checked: rectData['isAngleLock'],\n            'on_change' () {\n              let value = !rectData['isAngleLock']\n              me._commandRectDataPropUpdate(rect, 'isAngleLock', value)\n              me._historyPush()\n            }\n          }),\n          i({'class_form-icon': true,}),\n        ),\n      )\n      children = [...children, $isAngleLock]\n    }\n    if (!isGroupLike){\n      if (!isText){\n        let $borderWidth = div({'class_proto-setting-box-item': true},\n          span(''),\n          input({\n            ...getInputJsxProps('borderWidth'),\n            'on_change' (e) {\n              let value = e.target.value\n              let intValue = Math.max(0, parseInt(value))\n              me._commandRectDataPropUpdate(rect, 'borderWidth', intValue)\n              if (isLine){\n                me._commandRectDataPropUpdate(rect, 'height', intValue)\n              }\n            }\n          })\n        )\n        children = [...children, $borderWidth]\n        let $borderStyle = div({'class_proto-setting-box-item': true},\n          span(''),\n          select({\n            ...getInputJsxProps('borderStyle'),\n            'class_form-select': true,\n            'class_select-sm': true,\n          },\n            option({domProps_value: 'solid'},'solid'),\n            option({domProps_value: 'dashed'},'dashed'),\n            option({domProps_value: 'dotted'},'dotted'),\n          )\n        )\n        children = [...children, $borderStyle]\n        let $borderColor = div({'class_proto-setting-box-item': true},\n          span(''),\n          SpColor({\n            ...getInputJsxProps('borderColor'),\n          })\n        )\n        children = [...children, $borderColor]\n      }\n      if (!isLine){\n        let $backgroundColor = div({'class_proto-setting-box-item': true},\n          span(''),\n          SpColor({\n            ...getInputJsxProps('backgroundColor'),\n          })\n        )\n        children = [...children, $backgroundColor]\n      }\n      if (!isLine){\n        let $color = div({'class_proto-setting-box-item': true},\n          span(''),\n          SpColor({\n            ...getInputJsxProps('color'),\n          })\n        )\n        children = [...children, $color]\n      }\n      if (isText){\n        let $isAutoSize = div({'class_proto-setting-box-item': true},\n          span(''),\n          label({\n            'class_form-switch': true,\n          },\n            input({\n              ...getInputJsxProps(),\n              key: 'isAutoSize',\n              domProps_checked: rectData['isAutoSize'],\n              domProps_type: 'checkbox',\n              'on_change' () {\n                let value = !rectData['isAutoSize']\n                me._updateRectTempData(rect)\n                me._commandRectDataPropUpdate(rect, 'isAutoSize', value)\n                me._resizeText(rect)\n                me._historyPush()\n              }\n            }),\n            i({'class_form-icon': true,}),\n          )\n        )\n        children = [...children, $isAutoSize]\n      }\n      let $fontSize = div({'class_proto-setting-box-item': true},\n        span(''),\n        input({\n          ...getInputJsxProps('fontSize'),\n          domProps_min: 12,\n          'on_change' (e) {\n            let value = e.target.value\n            value = parseInt(value)\n            me._commandRectDataPropUpdate(rect, 'fontSize', value)\n            me._commandPropUpdate('setting.value', value)\n            if (rectData.isAutoSize) {\n              me._resizeText(rect)\n            }\n          },\n        })\n      )\n      children = [...children, $fontSize]\n      let $fontAlignX = div({'class_proto-setting-box-item': true},\n        span('X'),\n        select({\n          ...getInputJsxProps('textAlignX'),\n          'class_form-select': true,\n          'class_select-sm': true,\n        },\n          option({domProps_value: 'flex-start'}, ''),\n          option({domProps_value: 'center'}, ''),\n          option({domProps_value: 'flex-end'}, ''),\n        )\n      )\n      children = [...children, $fontAlignX]\n      let $fontAlignY = div({'class_proto-setting-box-item': true},\n        span('Y'),\n        select({\n          ...getInputJsxProps('textAlignY'),\n          'class_form-select': true,\n          'class_select-sm': true,\n        },\n          option({domProps_value: 'flex-start'}, ''),\n          option({domProps_value: 'center'}, ''),\n          option({domProps_value: 'flex-end'}, ''),\n        )\n      )\n      children = [...children, $fontAlignY]\n    }\n    let $opacity = div({'class_proto-setting-box-item': true},\n      span(''),\n      input({\n        ...getInputJsxProps('opacity'),\n        domProps_min: 0,\n        domProps_max: 100,\n        'on_change' (e) {\n          let value = e.target.value\n          value = parseInt(value)\n          me._updateCurrRectOpacity(value)\n          me._historyPush()\n        }\n      }),\n      '%'\n    )\n    children = [...children, $opacity]\n  }\n  return div({\n    'class_card': true,\n    ...jsxProps,\n  },\n    div('.card-header',\n      div('.card-title h6', ''),\n    ),\n    div('.card-body',\n      ...children,\n    )\n  )\n}\nexport {\n  _renderSetting,\n}","import jsx from 'vue-jsx'\nimport event from '@/core/event'\nlet { div } = jsx\nlet _renderHandler = function () {\n  let rect = this.objects[this.currRectId]\n  if (!rect){\n    return\n  }\n  let rectData = rect.data\n  let isLock = rectData.isLock\n  let isTempGroup = this._checkIsTempGroup(rect)\n  let mouse = this.mouse\n  let mousedown = (e) => {\n    this._updateRectTempData(rect)\n    e.stopPropagation()\n    event.$emit('windowMouseDown', e)\n  }\n  let resizerJsx = {\n    'class_proto-rect-resizer': true,\n  }\n  let b = 5\n  let a = `calc(50% - ${b}px)`\n  //  a\n  let aResizer = div({\n    ...resizerJsx,\n    style_left: -b + 'px',\n    style_top: -b + 'px',\n    on_mousedown (e) {\n      mouse.resizerDir = 'a'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  // ab\n  let abResizer = div({\n    ...resizerJsx,\n    style_left: a,\n    style_top: -b + 'px',\n    on_mousedown (e) {\n      mouse.resizerDir = 'ab'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  //  b\n  let bResizer = div({\n    ...resizerJsx,\n    style_right: -b + 'px',\n    style_top: -b + 'px',\n    on_mousedown (e) {\n      mouse.resizerDir = 'b'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  // bc\n  let bcResizer = div({\n    ...resizerJsx,\n    style_right: -b + 'px',\n    style_top: a,\n    on_mousedown (e) {\n      mouse.resizerDir = 'bc'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  //  c\n  let cResizer = div({\n    ...resizerJsx,\n    style_right: -b + 'px',\n    style_bottom: -b + 'px',\n    on_mousedown (e) {\n      mouse.resizerDir = 'c'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  // cd\n  let cdResizer = div({\n    ...resizerJsx,\n    style_left: a,\n    style_bottom: -b + 'px',\n    on_mousedown (e) {\n      mouse.resizerDir = 'cd'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  //  d\n  let dResizer = div({\n    ...resizerJsx,\n    style_left: -b + 'px',\n    style_bottom: -b + 'px',\n    on_mousedown (e) {\n      mouse.resizerDir = 'd'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  // ad\n  let adResizer = div({\n    ...resizerJsx,\n    style_left: -b + 'px',\n    style_bottom: a,\n    on_mousedown (e) {\n      mouse.resizerDir = 'ad'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  let resizer = []\n  let isLine = rect.type === 'rect-line'\n  let isSameRatio = rect.data.isSameRatio\n  if (isLine){\n    resizer = [adResizer, bcResizer]\n  }\n  else {\n    resizer = [aResizer, bResizer, cResizer, dResizer]\n    if (!isSameRatio){\n      resizer = [...resizer, abResizer, bcResizer, cdResizer, adResizer]\n    }\n  }\n  // \n  let rotater = div({\n    'class_proto-rect-rotater': true,\n    style_left: a,\n    style_top: '-15px',\n    on_mousedown (e) {\n      mouse.eventType = 'rotate'\n      mousedown(e)\n    },\n  })\n  // \n  let jsxProps = {\n    ...this._getRectBaseJsxProps(rect, this.scale),\n    'class_proto-rect-handler': true,\n    'class_proto-rect-handler-lock': isLock,\n  }\n  if (!this.handler.show){\n    jsxProps = {\n      ...jsxProps,\n      'style_display': 'none',\n    }\n  }\n  let children = []\n  if (!isTempGroup) {\n    children = [rotater]\n  }\n  if (!rect.data.isAutoSize){\n    children = [...children, ...resizer]\n  }\n  return div(jsxProps, ...children)\n}\nexport {\n  _renderHandler,\n}","import jsx from 'vue-jsx'\nlet {div} = jsx\nlet _renderGuideShow = function () {\n  let scale = this.scale\n  return [\n    ...Array.from(this.guide.show.top).map(top => {\n      return div({\n        'class_proto-guide': true,\n        'class_proto-guide-top': true,\n        style_top: top * scale + 'px',\n      })\n    }),\n    ...Array.from(this.guide.show.left).map(left => {\n      return div({\n        'class_proto-guide': true,\n        'class_proto-guide-left': true,\n        style_left: left * scale + 'px',\n      })\n    }),\n  ]\n}\nexport {\n  _renderGuideShow,\n}","import jsx from 'vue-jsx'\nlet {\n  div, \n  button,\n  select,\n  option,\n} = jsx\nlet buttonJsxProps = {\n  'class_btn': true,\n  'class_btn-sm': true,\n  'class_btn-primary': true,\n}\nlet _renderToolsButton = function (type) {\n  let me = this\n  let {checkF, doF, text} = this._actionGet(type)\n  return button({\n    ...buttonJsxProps,\n    domProps_disabled: !checkF.call(this),\n    on_click () {\n      doF.call(me)\n    }\n  }, text)\n}\nlet _renderTools = function () {\n  let me = this\n  return div('.proto-tools',\n    div('.btn-group',\n      _renderToolsButton.call(this, 'sys-'),\n      _renderToolsButton.call(this, 'sys-'),\n    ),\n    div('.btn-group',\n      _renderToolsButton.call(this, 'rect-'),\n      _renderToolsButton.call(this, 'rect-'),\n    ),\n    div('.btn-group',\n      _renderToolsButton.call(this, 'rect-'),\n      _renderToolsButton.call(this, 'rect-'),\n      _renderToolsButton.call(this, 'rect-'),\n      _renderToolsButton.call(this, 'rect-'),\n    ),\n    div('.btn-group', \n      _renderToolsButton.call(this, 'rect-'),\n      _renderToolsButton.call(this, 'rect-'),\n      _renderToolsButton.call(this, 'rect-'),\n      _renderToolsButton.call(this, 'rect-'),\n    ),\n    div ('.btn-group',\n      _renderToolsButton.call(this, 'rect-'),\n      _renderToolsButton.call(this, 'rect-'),\n    ),\n    div('.btn-group',\n      select({\n        'class_form-select': true,\n        'class_select-sm': true,\n        domProps_value: this.scale,\n        'on_change' (e) {\n          me.scale = e.target.value\n          me._renderRule()\n        }\n      },\n        ...[0.5, 0.8, 1, 1.25, 2].map(o => {\n          return option({\n            domProps_value:  o,\n          }, o + 'x')\n        })\n      ),\n    ),\n  )    \n}\nexport {\n  _renderTools,\n}","export default {\n  blue: '#5755d9',\n  red: '#e85600',\n  gray: '#bcc3ce',\n  white: '#ffffff',\n  black: '#000000',\n}","import color from './color'\nlet base = {\n  name: '',\n  top: 0,\n  left: 0,\n  width: 200,\n  height: 100,\n  angle: 0,\n  zIndex: 0,\n  text: '&nbsp;',\n  color: color.black,\n  fontSize: 12,\n  fontFamily: 'SourceHanSansSC',\n  backgroundColor: color.white,\n  borderRadius: 0,\n  borderWidth: 1,\n  borderStyle: 'solid',\n  borderColor: color.black,\n  opacity: 100,\n  textAlignX: 'center',\n  textAlignY: 'center',\n  // \n  isEdit: false,\n  //  name \n  isNameEdit: false,\n  // group \n  isOpen: false,\n  // \n  isSameRatio: false,\n  // \n  isLock: false,\n}\n\n// \nlet rect = {\n  ...base,\n  name: '',\n}\nlet circle = {\n  ...base,\n  name: '',\n  borderRadius: '100%',\n  width: 100,\n}\nlet group = {\n  ...base,\n  name: ''\n}\nlet tempGroup = {\n  ...base,\n  name: '',\n}\nlet text = {\n  ...base,\n  name: '',\n  border: null,\n  text: '',\n  width: 72,\n  height: 17,\n  isAutoSize: true,\n  borderWidth: 0,\n}\nlet line = {\n  ...base,\n  name: '',\n  backgroundColor: color.gray,\n  borderWidth: 1,\n  height: 1,\n  isAngleLock: false,\n}\nexport {\n  rect,\n  circle,\n  text,\n  group,\n  tempGroup,\n  line,\n}","import * as rectConfig from '@/core/rect-config'\nimport jsx from 'vue-jsx'\nimport event from '@/core/event'\nlet {\n  span,\n  div\n} = jsx\nlet _renderRectNav = function () {\n  let me = this\n  let retTags = ['rect', 'circle', 'text', 'line'].map(type => {\n    return span({\n      'class_label': true,\n      on_mousedown (e) {\n        e.stopPropagation()\n        me.mouse.eventType = 'create'\n        me.mouse.createType = type\n        event.$emit('windowMouseDown', e)\n      },\n    }, rectConfig[type].name)\n  })\n  return div({\n    'class_proto-rect-tags': true,\n    'class_card': true,\n  },\n    div({\n      'class_card-header': true\n    }, \n      div({\n        'class_card-title': true,\n        'class_h6': true,\n      }, '')\n    ),\n    div({\n      'class_card-body': true,\n    },\n      ...retTags,\n    ),\n  )\n}\nexport {\n  _renderRectNav\n}","import jsx from 'vue-jsx'\nimport {\n  selectText,\n  percentPx,\n  isRightMouse,\n} from \"@/core/base\"\nimport event from '@/core/event'\nlet { div, span } = jsx\nlet _renderRect = function (rect) {\n  let me = this\n  let rectData = rect.data\n  let isCurrRect = rect.id === this.currRectId\n  let isHoverRect = rect.id === this.hoverRectId\n  isHoverRect = isHoverRect || (rect.id in this.selectedRects)\n  let isLock = rectData.isLock && !rectData.isOpen\n  let rectType = rect.type\n  let mouse = this.mouse\n  let mousedown = (e) => {\n    this._focusRect(rect, e)\n    e.stopPropagation()\n  }\n  // \n  let jsxProps = {\n    ...this._getRectBaseJsxProps(rect),\n    'class_proto-rect': true,\n    'class_proto-rect-hover': isHoverRect && !isCurrRect,\n    'class_proto-rect-focus': isCurrRect,\n    'class_proto-rect-lock': isLock,\n    [`class_proto-${rectType}`]: true,\n    'attrs_id': rect.id,\n    'attrs_index': rect.index,\n    on_mousedown (e) {\n      if (me._checkIsTempGroup(rect)){\n        return\n      }\n      mouse.eventType = 'move'\n      if (rect.data.isEdit) {\n        mouse.eventType = ''\n      }\n      mousedown(e)\n      // \n      if (isRightMouse(e)){\n        me._showContextmenu(e, 'rect')\n      }\n      else {\n        event.$emit('windowMouseDown', e)\n      }\n    },\n    on_mousemove () {\n      me._hoverRect(rect)\n    },\n    on_mouseout () {\n      me._hoverOffRect()\n    },\n  }\n  let children = []\n  if (!this._checkIsGroupLike(rect)){\n    jsxProps['on_dblclick'] = (e) => {\n      me._focusRect(rect, e)\n      mouse.ing = false\n    }\n    children = [this._renderRectInner(rect)]\n  }\n  if (isHoverRect && isLock){\n    children = [\n      ...children,\n      jsx.create('v-icon', {\n        'class_proto-rect-lock-icon': true,\n        props_name: 'lock',\n      })\n    ]\n  }\n  return div(jsxProps,  ...children)\n}\n// \nlet _renderRectInner = function (rect) {\n  let me = this\n  let isEdit = rect.data.isEdit\n  let data = rect.data\n  let isLine = rect.type === 'rect-line'\n  let jsxProps = {\n    'class_proto-rect-inner': true,\n  }\n  let children = []\n  if (isLine) {\n    jsxProps = {\n      ...jsxProps,\n      'style_border-top-width': data.borderWidth + 'px',\n      'style_border-top-style': data.borderStyle,\n      'style_border-top-color': data.borderColor,\n    }\n  }\n  else {\n    jsxProps = {\n      ...jsxProps,\n      'style_border-width': data.borderWidth + 'px',\n      'style_border-style': data.borderStyle,\n      'style_border-color': data.borderColor,\n      'style_background-color': data.backgroundColor,\n      'style_border-radius': percentPx(data.borderRadius),\n      'style_align-items': data.textAlignY,\n      'style_justify-content': data.textAlignX,\n      'style_overflow': 'hidden',\n    }\n    let textJsxProps = {\n      'class_proto-rect-inner-text': true,\n      'attrs_contenteditable': false,\n      'style_color': data.color,\n      'style_font-size': data.fontSize + 'px',\n      'style_font-family': data.fontFamily,\n    }\n    if (isEdit) {\n      textJsxProps = {\n        ...textJsxProps,\n        style_cursor: 'text',\n        ref: 'defaultText',\n        attrs_contenteditable: true,\n        style_transform: `rotate(-${data.angle}deg)`,\n        on_blur () {\n          me._hotkeyOn()\n          me._commandRectDataPropUpdate(rect, 'isEdit', false)\n          me._historyPush()\n        },\n        on_focus () {\n          me._hotkeyOff()\n          me.$refs.defaultText.innerHTML = data.text\n          selectText(me.$refs.defaultText)\n          me._updateRectTempData(rect)\n        },\n        on_input (e) {\n          let text = e.target.innerHTML\n          if (data.isAutoSize){\n            me._resizeText(rect, text)\n          }\n          me._commandRectDataPropUpdate(rect, 'text', text)\n          \n        }\n      }\n      setTimeout(() => {\n        if (this.$refs.defaultText){\n          this.$refs.defaultText.focus()\n        }\n      })\n    }\n    else {\n      textJsxProps = {\n        ...textJsxProps,\n        'domProps_innerHTML': data.text,\n      }\n    }\n    children = [span(textJsxProps)]\n  }\n  \n  return div(jsxProps, ...children)\n}\nlet _renderRects = function () {\n  if (!this.currPage) {\n    return null\n  }\n  let rects = []\n  this._getRectsByPageDeep().forEach(rect => {\n    if (!this._checkIsRectLike(rect)){\n      return\n    }\n    rects.push(\n      this._renderRect(rect)\n    )\n  })\n  return div({\n    'class_proto-canvas': true,\n  },\n    div({\n      'class_proto-zoom': true,\n      'style_transform': `scale(${this.scale})`,\n    },\n      ...rects,\n    )\n  )\n}\nexport {\n  _renderRects,\n  _renderRect,\n  _renderRectInner,\n}","import color from '@/core/color'\nimport vars from '@/core/design-vars'\nlet configContext = (context) => {\n  context.strokeStyle = color.gray\n  context.font = '20px SourceHanSansSC'\n}\nlet n = 10000\nlet n2 = vars.c * 2\nlet getMiddleData = function () {\n  let $middle = this.$refs.middle\n  let style = window.getComputedStyle($middle)\n  return {\n    dom: $middle,\n    scrollTop: $middle.scrollTop,\n    scrollLeft: $middle.scrollLeft,\n    width: parseInt(style.width),\n    height: parseInt(style.height),\n  }\n}\nlet _renderTopRule = function () {\n  let rule = this.topRule\n  let middleData = getMiddleData.call(this)\n  if (!rule) {\n    this.topRule = rule = document.createElement('canvas')\n    rule.className = 'proto-rule'\n    rule.style.top = vars.a + 'px'\n    rule.style.left = vars.b + vars.c + 'px'\n    middleData.dom.appendChild(rule)\n  }\n  rule.width = middleData.width * 2\n  rule.height = n2\n  rule.style.width = middleData.width + 'px'\n  rule.style.height = n2 / 2 + 'px'\n  let scale = this.scale\n  let context = rule.getContext('2d')\n  context.clearRect(0, 0, n, n2)\n  configContext(context)\n  context.beginPath()\n  let scrollLeft = middleData.scrollLeft\n  for (let i = 0; i < n; i += 10){\n    let isText = i % 100 === 0\n    let left = (i - scrollLeft) * 2\n    let text = i / scale\n    let start = (isText ? 0 : 10) * 2\n    context.moveTo(left, start)\n    context.lineTo(left, n2)\n    if (isText){\n      context.fillText(text, left + 2, 8 * 2)\n    }\n  }\n  context.moveTo(0, n2)\n  context.lineTo(rule.width, n2)\n  context.stroke()\n}\nlet _renderLeftRule = function () {\n  let middleData = getMiddleData.call(this)\n  let rule = this.leftRule\n  if (!rule) {\n    this.leftRule = rule = document.createElement('canvas')\n    rule.className = 'proto-rule'\n    rule.style.top = vars.a + vars.c + 'px'\n    rule.style.left = vars.b + 'px'\n    this.$refs.middle.appendChild(rule)\n  }\n  rule.width = n2\n  rule.height = middleData.height * 2\n  rule.style.width = n2 / 2 + 'px'\n  let scale = this.scale  \n  rule.style.height = middleData.height + 'px'\n  let context = rule.getContext('2d')\n  context.clearRect(0, 0, n2, n)\n  configContext(context)\n  context.beginPath()\n  let scrollTop = middleData.scrollTop\n  for (let i = 0; i < n; i += 10){\n    let isText = i % 100 === 0\n    let top = (i - scrollTop) * 2\n    let text = ((i / scale) + ' ').slice(0, 4)\n    let start = (isText ? 0 : 10) * 2\n    context.moveTo(start, top)\n    context.lineTo(n2, top)\n    if (isText){\n      context.save()\n      context.textAlign = \"center\"\n      context.textBaseline = \"middle\"\n      context.translate(10, top - 18)\n      context.rotate((-90 * Math.PI) / 180)\n      context.fillText(text, 6, 0);\n      context.restore()\n    }\n  }\n  context.moveTo(n2, 0)\n  context.lineTo(n2, rule.height)\n  context.stroke()\n  context.stroke()\n}\nlet _renderRule = function () {\n  _renderTopRule.call(this)\n  _renderLeftRule.call(this)\n}\nexport {\n  _renderRule,\n}\n","import jsx from 'vue-jsx'\nimport event from '@/core/event'\nimport {\n  isRightMouse,\n} from '@/core/base'\nlet { div, input } = jsx\nlet _renderRectListItem = function (rect) {\n  let me = this\n  let isHover = (rect.id === this.hoverRectId) || \n    (rect.id === this.currRectId) ||\n    (rect.id in this.selectedRects)\n  let paddingLeft = 16\n  let isNameEdit = rect.data.isNameEdit\n  let jsxProps = {\n    'class_proto-tree-item': true,\n  }\n  let innerJsxProps = {\n    'class_proto-tree-item-inner': true,\n    'class_proto-tree-item-hover': isHover,\n  }\n  if (rect.groupId){\n    innerJsxProps = {\n      ...innerJsxProps,\n      'style_padding-left': paddingLeft + 'px',\n    }\n  }\n  let children = []\n  if (isNameEdit){\n    children = [\n      input('.form-input input-sm', {\n        domProps_value: rect.name,\n        ref: 'rectItemInput',\n        key: 'rectItemInput',\n        on_focus () {\n          me.$refs.rectItemInput.select()\n        },\n        on_blur () {\n          me._commandRectDataPropUpdate(rect, 'isNameEdit', false)\n          me._historyPush()\n        },\n        on_change () {\n          me.$refs.rectItemInput.blur()\n        },\n        on_input (e) {\n          let value = e.target.value\n          me._commandRectPropUpdate(rect, 'name', value)\n        }\n      })\n    ]\n    setTimeout (() => {\n      if (me.$refs.rectItemInput){\n        me.$refs.rectItemInput.focus()\n      }\n    })\n  }\n  else {\n    jsxProps = {\n      ...jsxProps,\n      'attrs_index': rect.index,\n      'on_mouseover' () {\n        me._updateHoverRect(rect)\n      },\n      'on_mouseout' () {\n        me._updateHoverRect()\n      },\n      'on_mousedown' (e) {\n        let group = me._getGroupByRect(rect)\n        if (group){\n          me._commandRectDataPropUpdate(group, 'isOpen', true)\n        }\n        me._focusRect(rect, {shiftKey: false})\n        e.stopPropagation()\n        event.$emit('windowMouseDown', e)\n        // \n        if (isRightMouse(e)){\n          me._showContextmenu(e, 'rect-item')\n        }\n      },\n    }\n    children = [\n      div(innerJsxProps, rect.name)\n    ]\n  }\n\n  return div(jsxProps, ...children)\n}\nlet _renderRectList = function () {\n  if (!this.currPage) {\n    return null\n  }\n  let vdoms = []\n  let temp = []\n  this._getRectsByPageDeep().reverse().forEach(rect => {\n    if (this._checkIsTempGroup(rect)){\n      return\n    }\n    let vdom = _renderRectListItem.call(this, rect)\n    if (rect.groupId === ''){\n      vdoms = [...vdoms, vdom, ...temp]\n      temp = []\n    }\n    else {\n      temp.push(vdom)\n    }\n  })\n  vdoms = [...vdoms, ...temp]\n  return div({\n    'class_proto-rect-list': true,\n    'class_proto-tree': true,\n    'class_card': true\n  },\n    div({\n      'class_card-header': true\n    },\n      div({\n        'class_card-title': true,\n        'class_h6': true,\n      }, '')\n    ),\n    div({\n      'class_card-body': true,\n    },\n      ...vdoms,\n    )\n  )\n}\nexport {\n  _renderRectList,\n}","import jsx from 'vue-jsx'\nimport {\n  isRightMouse,\n} from '@/core/base'\nimport event from '@/core/event'\nlet { div, input, span } = jsx\nlet vIcon = jsx.bind('v-icon')\nlet _renderPageListItem = function (\n  page, \n  z\n) {\n  let me = this\n  let pageData = page.data\n  let currPage = this.currPage\n  let currPageIsParent = this._linkedListCheckIsParent(currPage, page)\n  let isHover = currPage === page\n  let paddingLeft = 16\n  let paddingLeftAll = paddingLeft * z\n  let isNameEdit = pageData.isNameEdit\n  let isDrag = this.mouse.ing && \n    (this.mouse.eventType === 'movePage') && \n    !isHover && \n    !currPageIsParent\n  let jsxProps = {\n    'class_proto-tree-item': true,\n    'class_proto-tree-item-drag': isDrag,\n  }\n  let innerJsxProps = {\n    'class_proto-tree-item-inner': true,\n    'class_proto-tree-item-hover': isHover,\n    'style_padding-left': paddingLeftAll + 'px',\n  }\n  let children = []\n  if (isNameEdit){\n    children = [\n      div(innerJsxProps,\n        input('.form-input input-sm', {\n          domProps_value: page.name,\n          ref: 'pageInput',\n          key: 'pageInput',\n          on_focus () {\n            me.$refs.pageInput.select()\n          },\n          on_blur () {\n            me._commandObjectDataPropUpdate(page, 'isNameEdit', false)\n            me._historyPush()\n          },\n          on_change () {\n            me.$refs.pageInput.blur()\n          },\n          on_input (e) {\n            let value = e.target.value\n            me._commandObjectPropUpdate(page, 'name', value)\n          }\n        })\n      ),\n    ]\n    setTimeout (() => {\n      if (me.$refs.pageInput){\n        me.$refs.pageInput.focus()\n      }\n    })\n  }\n  else {\n    jsxProps = {\n      ...jsxProps,\n      'on_mousedown' (e) {\n        e.stopPropagation()\n        me._updateCurrPage(page)\n        if (isRightMouse(e)) {\n          me._showContextmenu(e, 'page')\n        }\n        else {\n          me.mouse.ing = true\n          me.mouse.eventType = 'movePage'\n          event.$emit('windowMouseDown', e)\n        }\n      },\n    }\n    innerJsxProps = {\n      ...innerJsxProps,\n      'class_proto-tree-item-emit-hover': !this.mouse.ing,\n    }\n    if (isDrag) {\n      let f = () => {\n        me._linkedListRemove(me.objects[currPage.parentId], currPage, 'pages')\n      }\n      let jsxProps = {\n        'style_left': paddingLeftAll + 'px',\n        'style_width': `calc(100% - ${paddingLeftAll}px)`,\n      }\n      children = [\n        div('.proto-tree-item-drag-handler proto-tree-item-drag-handler-bottom', {\n          ...jsxProps,\n          'on_mouseup' () {\n            f()\n            me._commandObjectPropUpdate(currPage, 'parentId', page.parentId)\n            me._linkedListInsertAfter(me.objects[page.parentId], page, currPage, 'pages')\n          }\n        }),\n      ]\n      if (!page.prevId){\n        children = [\n          ...children,\n          div('.proto-tree-item-drag-handler proto-tree-item-drag-handler-top', {\n            ...jsxProps,\n            'on_mouseup' () {\n              f()\n              me._commandObjectPropUpdate(currPage, 'parentId', page.parentId)\n              me._linkedListInsertBefore(me.objects[page.parentId],page, currPage, 'pages')\n            }\n          }),\n        ]\n      }\n      innerJsxProps = {\n        ...innerJsxProps,\n        'on_mouseup' () {\n          f()\n          me._commandObjectPropUpdate(currPage, 'parentId', page.parentId)\n          me._linkedListAppend(page, currPage, 'pages')\n          me._commandObjectDataPropUpdate(page, 'isExpand', true)\n        }\n      }\n    }\n    children = [\n      ...children,\n      div(innerJsxProps, \n        page.pages.headId ? vIcon({\n          props_name: pageData.isExpand ? 'caret-down' : 'caret-up',\n          on_mousedown () {\n            // e.stopPropagation()\n            me._commandObjectDataPropUpdate(page, 'isExpand', !pageData.isExpand)\n            me._historyPush()\n          }\n        }) : null,\n        // vIcon('.fa-file', {props_name: 'file'}),\n        span(page.name),\n      )\n    ]\n  }\n  return div(jsxProps, ...children)\n}\nlet _renderPageList = function () {\n  if (!this.currPage) {\n    return null\n  }\n  let me = this\n  let children = []\n  let isDrag = this.mouse.ing && \n    (this.mouse.eventType === 'movePage')\n  let timer\n  this._linkedListWalk(this.objects[this.currProjectId], 'pages', (page, z) => {\n    children.push(_renderPageListItem.call(this, page, z))\n  })\n  if (isDrag) { \n    children = [\n      ...children,\n      div('.proto-tree-scroll-handler proto-tree-scroll-handler-top', {\n        on_mouseover () {\n          timer = setInterval(() => {\n            me.$refs.pageList.scrollTop --\n          })\n        },\n        on_mouseout () {\n          clearInterval(timer)\n        },\n      }),\n      div('.proto-tree-scroll-handler proto-tree-scroll-handler-bottom', {\n        on_mouseover () {\n          timer = setInterval(() => {\n            me.$refs.pageList.scrollTop ++\n          })\n        },\n        on_mouseout () {\n          clearInterval(timer)\n        },\n      }),\n    ]\n  }\n  return div('.proto-page-list proto-tree card',\n    div('.card-header',\n      div('.card-title h6', '')\n    ),\n    div('.card-body proto-tree-body', {\n      ref: 'pageList'\n    },\n      ...children,\n    )\n  )\n}\nexport {\n  _renderPageList,\n}","import jsx from 'vue-jsx'\nlet { div } = jsx\nlet _renderCircle = function () {\n  let {left, top, width, height} = this._getCircleSize()\n  return div('.proto-circle', {\n    style_left: left + 'px',\n    style_top: top + 'px',\n    style_width: width + 'px',\n    style_height: height + 'px',\n  })\n}\nexport {\n  _renderCircle,\n}","import jsx from 'vue-jsx'\nimport {\n  _renderSetting\n} from './render/setting'\nimport {\n  _renderHandler\n} from './render/handler'\nimport {\n  _renderGuideShow\n} from './render/guide-show'\nimport {\n  _renderTools\n} from './render/tools'\nimport {\n  _renderRectNav\n} from './render/rect-nav'\nimport {\n  _renderRects,\n  _renderRect,\n  _renderRectInner,\n} from './render/rect'\nimport {\n  _renderRule,\n} from './render/rule'\nimport {\n  _renderRectList,\n} from './render/rect-list'\nimport {\n  _renderPageList,\n} from './render/page-list'\nimport {\n  _renderCircle\n} from './render/circle'\nimport vars from '@/core/design-vars'\nimport { isRightMouse } from '@/core/base'\nimport event from '@/core/event'\nlet { div } = jsx\nexport default {\n  data () {\n    return {\n      topRule: null,\n      leftRule: null,\n    }\n  },\n  methods: {\n    _renderSetting,\n    _renderHandler,\n    _renderGuideShow,\n    _renderTools,\n    _renderRects,\n    _renderRect,\n    _renderRectInner,\n    _renderRectNav,\n    _renderRule,\n    _renderRectList,\n    _renderPageList,\n    _renderCircle,\n    _renderLoading () {\n      return div('loading')\n    },\n    _renderMain (h) {\n      jsx.h = h\n      let me = this\n      let isCircle = this.mouse.ing && (this.mouse.eventType === 'circle')\n      return div({\n        class_proto: true,\n      },\n        div({\n          'class_proto-top': true,\n          'style_height': vars.a + 'px',\n          on_mousedown (e) {\n            e.stopPropagation()\n          }\n        },\n          this._renderTools()\n        ),\n        div({\n          'class_proto-left': true,\n          'style_top': vars.a + 'px',\n          'style_width': vars.b + 'px',\n          'style_height': `calc(100% - ${vars.a}px)`,\n        },\n          div('.proto-height-half', this._renderPageList()),\n          div('.proto-height-half', this._renderRectNav()),\n        ),\n        div({\n          'class_proto-middle': true,\n          'style_top': vars.a + vars.c + 'px',\n          'style_left': vars.b + vars.c + 'px',\n          'style_right': vars.d + 'px',\n          'style_height': `calc(100% - ${vars.a}px - ${vars.c}px)`,\n          ref: 'middle',\n          on_mousedown (e) {\n            e.stopPropagation()\n            me._blurRect()\n            if (isRightMouse(e)) {\n              me._showContextmenu(e, 'canvas')\n            }\n            else {\n              me.mouse.eventType = 'circle'\n              event.$emit('windowMouseDown', e)\n            }\n          }\n        },\n          this._renderRects(),\n          this._renderGuideShow(),\n          this._renderHandler(),\n          isCircle ? this._renderCircle() : null,\n        ),\n        div({\n          'class_proto-right': true,\n          'style_top': vars.a + 'px',\n          'style_width': vars.d + 'px',\n          'style_height': `calc(100% - ${vars.a}px)`,\n        },\n          div('.proto-height-half', this._renderSetting(h)),\n          div('.proto-height-half',this._renderRectList()),\n        ),\n      )\n    },\n  },\n  mounted () {\n    this._renderRule()\n  },\n}","import {\n  getUuid,\n  getGroupSize,\n  getRectInfo,\n  middleLeft,\n  middleTop,\n  tNumber,\n  checkRectOverlap2,\n} from '@/core/base'\nimport * as rectConfig from '@/core/rect-config'\nexport default {\n  data () {\n    return {\n      currProjectId: '',\n      currPageId: '',\n      currRectId: '',\n      hoverRectId: '',\n      tempGroupId: '',\n      selectedRects: {},\n      objects: {},\n      mouse: {\n        ing: false,\n        startLeft: 0,\n        startTop: 0,\n        currLeft: 0,\n        currTop: 0,\n        // eventType \n        // move:  rect\n        // resize:  rect\n        // rotate:  rect\n        // create:  rect\n        // cirlce: \n        // movePage: \n        eventType: '',\n        resizerDir: '',\n        createType: '',\n        // \n        e: {},\n      },\n      handler: {\n        // \n        show: true,\n        timer: null,\n      },\n      rectConfig: {\n        ...rectConfig,\n      },\n      clipboard: {\n        count: 0,\n        data: [],\n      },\n      renderHook: 1,\n    }\n  },\n  computed: {\n    scale: {\n      get () {\n        this.renderHook\n        if (!this.currProject) {\n          return 1\n        }\n        return parseFloat(this.currProject.data.scale)\n      },\n      set (value) {\n        this._commandObjectDataPropUpdate(this.currProject, 'scale', value)\n      }\n    },\n    currProject: {\n      get () {\n        return this.objects[this.currProjectId]\n      }\n    },\n    currPage: {\n      get () {\n        return this.objects[this.currPageId]\n      }\n    },\n    currRect: {\n      get () {\n        return this.objects[this.currRectId]\n      }\n    },\n  },\n  methods: {\n    _parseLongProp (\n      prop, \n      data = this.$data\n    ) {\n      let me = this\n      let props = prop.split('.')\n      let object = data\n      let lastProp = props.slice(-1)[0]\n      props.slice(0, -1).forEach(p => {\n        object = object[p]\n      })\n      return {\n        get () {\n          return object[lastProp]\n        },\n        set (value) {\n          let isNull = (value === null) || (value === undefined) \n          if (isNull){\n            delete object[lastProp]\n          }\n          else {\n            object[lastProp] = value\n            me.renderHook ++\n          }\n        }\n      }\n    },\n    _safeObject (rect) {\n      if (typeof rect === 'string') {\n        rect = this.objects[rect]\n      }\n      return rect\n    },\n    _createProjectBase () {\n      return {\n        id: getUuid(),\n        name: '',\n        type: 'project',\n        count: 1,\n        pages: {\n          headId: '',\n          tailId: '',\n        },\n        data: {\n          scale: 1,\n        },\n        isDelete: false,\n      }\n    },\n    _createProject () {\n      let project = this._createProjectBase()\n      this._commandProjectAdd(project)\n      return project\n    },\n    _createPageBase (parentId) {\n      return {\n        id: getUuid(),\n        name: '',\n        type: 'page',\n        count: 1,\n        parentId,\n        projectId: parentId,\n        prevId: '',\n        nextId: '',\n        pages: {\n          headId: '',\n          tailId: '',\n        },\n        //  rects\n        rects: {\n          headId: '',\n          tailId: '',\n        },\n        data: {\n          isNameEdit: false,\n          isExpand: true,\n        },\n        isDelete: false,\n      }\n    },\n    _createPage (parentId = this.currProjectId) {\n      let page = this._createPageBase(parentId)\n      page = {\n        ...page,\n        name: '' + this.currProject.count,\n        projectId: this.currProjectId,\n      }\n      this._commandObjectPropUpdate(\n        this.currProject, \n        'count', \n        this.currProject.count + 1\n      )\n      this._commandPageAdd(page)\n      this._linkedListAppend(this.objects[parentId], page, 'pages')\n      return page\n    },\n    _removePage () {\n      let currPage = this.currPage\n      let f = (page) => {\n        this._commandObjectDelete(page.id)\n      }\n      this._linkedListRemove(this.objects[currPage.parentId], currPage, 'pages')\n      this._linkedListWalk(currPage, 'pages', f)\n      f(currPage)\n      \n      let currPageId = this.objects[this.currProjectId].pages.headId\n      this._updateCurrPage(this.objects[currPageId])\n    },\n    _createRect (type = 'rect') {\n      let data = this.rectConfig[type]\n      if (!data) {\n        return\n      }\n      type = 'rect-' + type\n      return this._createRectByConfig({type, data})\n    },\n    _createRectByConfig (config) {\n      let data = config.data\n      //  group \n      //  group \n      if (Array.isArray(data)){\n        let group = this._createRectBase(data[0].type, data[0].data)\n        let rects = data.slice(1).map(o => this._createRectBase(o.type, o.data))\n        this._bindGroup(group, rects)\n        return group\n      }\n      else {\n        return this._createRectBase(config.type, data)\n      }\n    },\n    _createRectBase (\n      type = 'rect', \n      data\n    ) {\n      data = {...data}\n      let index = this.currPage.count\n      this._commandObjectPropUpdate(\n        this.currPage,\n        'count',\n        this.currPage.count + 1\n      ) \n      let rect = {\n        id: getUuid(),\n        parentId: this.currPage.id,\n        pageId: this.currPage.id,\n        groupId: '',\n        tempGroupId: '',\n        data,\n        // \n        tempData: null,\n        // \n        type,\n        name: data.name + index,\n        prevId: '',\n        nextId: '',\n        tempIndex: index,\n        isDelete: false,\n      }\n      if (this._checkIsGroup(rect)){\n        rect = {\n          ...rect,\n          rects: {\n            headId: '',\n            tailId: '',\n          },\n        }\n      }\n      this._commandRectAdd(rect)\n      if (!this._checkIsTempGroup(rect)){\n        this._linkedListAppend(this.currPage, rect)\n      }\n      return rect\n    },\n    _cloneRectDeep (rect) {\n      rect = this._safeObject(rect)\n      let f = (rect2) => {\n        return {\n          type: rect2.type,\n          data: {...rect2.data},\n        }\n      }\n      if (this._checkIsGroup(rect)){\n        let rects = [f(rect)]\n        this._getRectsByGroup(rect).forEach(rect2 => {\n          rects.push(f(rect2))\n        })\n        return {\n          type: 'rect-group',\n          data: rects,\n        }\n      }\n      else {\n        return f(rect)\n      }\n    },\n    _getObjectsByParentId (\n      groupId, \n      prop = 'groupId'\n    ) {\n      let objects = []\n      for (let key in this.objects){\n        let object = this.objects[key]\n        if (!object.isDelete && (object[prop] === groupId) ){\n          objects.push(object)\n        }\n      }\n      return objects\n    },\n    //  page  rects\n    _getRectsByPageDeep (pageId = this.currPage.id) {\n      let rects = this._linkedListGetObjects(this.objects[pageId])\n      if (this.tempGroupId){\n        rects.push(this.objects[this.tempGroupId])\n      }\n      return rects\n    },\n    _getRectsByGroup (group) {\n      group = this._safeObject(group)\n      let rects = []\n      if (this._checkIsTempGroup(group)){\n        rects = this._getObjectsByParentId(group.id, 'tempGroupId')\n      }\n      else if (this._checkIsGroup(group)){\n        rects = this._getObjectsByParentId(group.id)\n      }\n      else {\n        rects = [group]\n      }\n      return rects\n    },\n    _getGroupByRect (rect) {\n      rect = this._safeObject(rect)\n      let group = this.objects[rect.groupId]\n      return (group && !group.isDelete) ? group : null\n    },\n    _getTempGroupByRect (rect) {\n      rect = this._safeObject(rect)\n      if (rect.tempGroupId){\n        return this.objects[rect.tempGroupId]\n      }\n      let group = this._getGroupByRect(rect)\n      if (group && group.tempGroupId){\n        return this.objects[group.tempGroupId]\n      }\n      return null\n    },\n    // \n    _bindGroup (\n      group, \n      rects\n    ) {\n      group = this._safeObject(group)\n      //  rects  group \n      let sortRects = new Set()\n      //  groups\n      let groups = new Set()\n      rects.forEach(rect => {\n        rect = this._safeObject(rect)\n        if (this._checkIsTempGroup(rect)){\n          return\n        }\n        if (this._checkIsGroup(rect)){\n          sortRects.add(rect)\n          return\n        }\n        if (rect.groupId){\n          let _group = this.objects[rect.groupId]\n          groups.add(_group)\n          sortRects.add(_group)\n          return\n        }\n        sortRects.add(rect)\n      })\n      let topRect = Array.from(sortRects).sort(\n        (a, b) => b.tempIndex - a.tempIndex\n      )[0]\n      let currPage = this.currPage\n      this._linkedListRemove(currPage, group)\n      this._linkedListInsertAfter(currPage, topRect, group)\n\n      //  rects  group \n      rects.sort(\n        (a, b) => a.tempIndex - b.tempIndex\n      ).forEach(rect => {\n        rect = this._safeObject(rect)\n        if (this._checkIsTempGroup(rect)){\n          return\n        }\n        if (this._checkIsGroup(rect)){\n          this._removeRectById(rect.id)\n          return\n        }\n        if (rect.groupId){\n          if (this._getGroupByRect(rect)){\n            this._linkedListRemove(this.objects[rect.groupId], rect)\n          }\n        }\n        else  {\n          this._linkedListRemove(currPage, rect)\n        }\n        this._linkedListAppend(group, rect)\n        this._commandRectPropUpdate(rect, 'tempGroupId', '')\n        this._commandRectPropUpdate(rect, 'groupId', group.id)\n        this._commandRectPropUpdate(rect, 'parentId', group.id)\n      })\n      //  groups \n      Array.from(groups).forEach(group => {\n        if (!(group.id in this.objects) || this.objects[group.id].isDelete){\n          return\n        }\n        let children = this._getRectsByGroup(group)\n        if (children.length <= 1){\n          this._unbindGroup(group)\n        }\n        else {\n          this._commandRectDataPropUpdate(group, 'isOpen', false)\n          this._updateGroupSize(group)\n        }\n      })\n      this._updateGroupSize(group)\n    },\n    _unbindGroup (group) {\n      group = this._safeObject(group)\n      this._getRectsByGroup(group).forEach(rect => {\n        this._commandRectPropUpdate(rect, 'groupId', '')\n        this._commandRectPropUpdate(rect, 'parentId', this.currPageId)\n        this._linkedListRemove(group, rect)\n        this._linkedListInsertBefore(this.currPage, group, rect)\n      })\n      this._removeRectById(group.id)\n    },\n    _bindTempGroup (rects) {\n      if (!this.tempGroupId){\n        this._commandPropUpdate('tempGroupId', this._createRect('tempGroup').id)\n      }\n      let group = this.objects[this.tempGroupId]\n      rects.forEach(rect => {\n        rect = this._safeObject(rect)\n        this._commandRectPropUpdate(rect, 'tempGroupId', group.id)\n      })\n      this._updateRectTempData(group)\n      this._updateGroupSize(group)\n      return group\n    },\n    _unbindTempGroup () {\n      if (!this.tempGroupId){\n        return\n      }\n      this._getRectsByGroup(this.tempGroupId).forEach(rect => {\n        this._commandRectPropUpdate(rect, 'tempGroupId', '')\n        let group = this._getGroupByRect(rect)\n        if (group) {\n          this._commandRectDataPropUpdate(group, 'isOpen', false)\n        }\n      })\n      this._commandRectDelete(this.tempGroupId)\n      this._commandPropUpdate('tempGroupId', '')\n    },\n    _unbindTempGroupSome (rects) {\n      if (!this.tempGroupId){\n        return\n      }\n      rects.forEach(rect => {\n        this._commandRectPropUpdate(rect, 'tempGroupId', '')\n      })\n      let children = this._getRectsByGroup(this.currRectId)\n      if (children.length <= 1) {\n        this._unbindTempGroup()\n      }\n      //  group  size\n      else {\n        this._updateGroupSize(this.currRectId)\n      }\n    },\n    //  id  rects  object\n    _getRectById (id) {\n      return this.objects[id]\n    },\n    _getTempGroup () {\n      return this.objects[this.tempGroupId]\n    },\n    _removeRectById (id) {\n      let rect = this.objects[id]\n      let group = this._getGroupByRect(id)\n      if (!this._checkIsTempGroup(rect)){\n        if (rect.groupId){\n          if (group){\n            this._linkedListRemove(group, this.objects[id])\n          }\n        }\n        else {\n          this._linkedListRemove(this.currPage, this.objects[id])\n        }\n      }\n      this._commandRectDelete(id)\n      if (group){\n        let children = this._getRectsByGroup(group)\n        if (children.length === 1){\n          this._unbindGroup(group)\n        }\n        else {\n          this._updateGroupSize(group)\n        }\n      }\n    },\n    //  group size\n    _updateGroupSize (group) {\n      group = this._safeObject(group)\n      var size = this._getGroupSize(group)\n      this._updateRectData(group, size, false)\n      return size\n    },\n    _getGroupSize (group) {\n      group = this._safeObject(group)\n      let rects = this._getRectsByGroup(group)\n      return getGroupSize(rects, group.data.angle)\n    },\n    _checkIsPage (object) {\n      return object.type === 'page'\n    },\n    _checkIsRectLike (rect) {\n      return rect.type.indexOf('rect-') === 0\n    },\n    _checkIsGroupLike (rect) {\n      return rect.type === 'rect-group' || rect.type === 'rect-tempGroup'\n    },\n    _checkIsTempGroup (rect) {\n      return rect.type === 'rect-tempGroup'\n    },\n    _checkIsGroup (rect) {\n      return rect.type === 'rect-group'\n    },\n    _updateAllRectsTempData () {\n      this._getRectsByPageDeep().forEach(rect => {\n        rect.tempData = getRectInfo(rect.data)\n      })\n    },\n    _updateRectTempData (rect) {\n      rect = this._safeObject(rect)\n      this._getRectsByRectDeep(rect).forEach(rect2 => {\n        rect2.tempData = getRectInfo(rect2.data)\n      })\n    },\n    _getRectsByRectDeep (rect) {\n      if (!this._checkIsGroupLike(rect)){\n        return [rect]\n      }\n      if (this._checkIsGroup(rect)){\n        return [rect, ...this._getRectsByGroup(rect)]\n      }\n      if (this._checkIsTempGroup(rect)){\n        let rects = [rect]\n        this._getRectsByGroup(rect).forEach(rect2 => {\n          rects = [...rects, rect2]\n          if (this._checkIsGroup(rect2)){\n            rects = [...rects,...this._getRectsByGroup(rect2)]\n          }\n        })\n        return rects\n      }\n    },\n    _updateRectData (\n      rect, \n      data, \n      isSyncParent = true\n    ) {\n      //  line height  borderWidth\n      //  1\n      let isLine = rect.type === 'rect-line'\n      if (isLine && ('height' in data)){\n        let height = Math.max(data.height, 1)\n        data['borderWidth'] = data['height'] = height\n      }\n      for (let k in data){\n        let v = data[k]\n        if (typeof v === 'number'){\n          v = tNumber(v)\n        }\n        this._commandRectDataPropUpdate(rect, k, v)\n      }\n\n      if (isSyncParent){\n        let group = this._getGroupByRect(rect)\n        if (group){\n          this._updateGroupSize(group)\n        }\n        let tempGroup = this._getTempGroupByRect(rect)\n        if (tempGroup){\n          this._updateGroupSize(tempGroup)\n        }\n      }\n    },\n    _updateGroupState (\n      group, \n      f, \n      isRotate = false\n    ) {\n      let groupIds = []\n      this._getRectsByRectDeep(group).forEach(rect => {\n        let id = rect.id\n        if (this._checkIsGroup(rect)){\n          groupIds.push(id)\n        }\n        else {\n          //  group\n          if (rect.groupId){\n            groupIds.push(rect.groupId)\n          }\n          f(id)\n        }\n      })\n      groupIds.forEach(groupId => {\n        // \n        if (isRotate) {\n          f(groupId)\n        }\n        // \n        else {\n          this._updateGroupSize(this._getRectById(groupId))\n        }\n      })\n    },\n    _addSelectedRect (rect) {\n      if (this._checkIsTempGroup(rect)) {\n        return\n      }\n      let prop = 'selectedRects.' + rect.id\n      this._commandPropUpdate(prop, 1)\n    },\n    _removeSelectedRect (rect) {\n      let prop = 'selectedRects.' + rect.id\n      this._commandPropUpdate(prop, null)\n      this._unbindTempGroupSome([rect])\n    },\n    _clearSelectedRects () {\n      this._commandPropUpdate('selectedRects', {})\n      this._unbindTempGroup()\n    },\n    _updateCurrRectBySelected () {\n      let unLockRects = this._getUnLockRectsBySelected()\n      let count = unLockRects.length\n      if (count <= 1) {\n        this._unbindTempGroup()\n        this._updateCurrRect(this.objects[unLockRects[0]])\n      }\n      else {\n        let tempGroup = this._bindTempGroup(unLockRects)\n        this._updateCurrRect(tempGroup)\n      }\n      this._updateAllRectsTempData()\n      this._updateGuide()\n      this.mouse.e = {}\n    },\n    _getLockRectsBySelected () {\n      return Object.keys(this.selectedRects).filter(\n        rectId => this.objects[rectId].data.isLock\n      )\n    },\n    _getUnLockRectsBySelected () {\n      return Object.keys(this.selectedRects).filter(\n        rectId => !this.objects[rectId].data.isLock\n      )\n    },\n    _getSelectedRects () {\n      return Object.keys(this.selectedRects)\n    },\n    _focusRect (\n      rect, \n      e = {shiftKey: true}, \n      isRest = true\n    ) {\n      let isDblclick = e.type === 'dblclick'\n      let isShiftkey = e.shiftKey\n      let group = this._getGroupByRect(rect)\n      let tempGroup = this._getTempGroupByRect(rect)\n      let currRect = this.objects[this.currRectId]\n      let mouse = this.mouse\n      mouse.e = e\n      //  dblclickshiftgrouptempGroup \n      let f = () => {\n        if ((rect === currRect) && !isShiftkey){\n          if (isDblclick){\n            this._commandRectDataPropUpdate(rect, 'isEdit', true)\n          }\n          return\n        }\n        if (isShiftkey && isDblclick){\n          return\n        }\n        if (isDblclick){\n          this._blurRect()\n          let isGroupOpen = group.data.isOpen\n          if (group && !isGroupOpen){\n            this._commandRectDataPropUpdate(group, 'isOpen', true)\n          }\n          if (!group || (group && isGroupOpen)){\n            this._commandRectDataPropUpdate(rect, 'isEdit', true)\n          }\n          this._addSelectedRect(rect)\n          return\n        }\n        if (!isShiftkey){\n          if (!group && !tempGroup){\n            this._blurRect()\n            this._addSelectedRect(rect)\n            if (this._checkIsGroup(rect)){\n              this._commandRectDataPropUpdate(rect, 'isOpen', false)\n            }\n            return\n          }\n          if (tempGroup){\n            this._addSelectedRect(tempGroup)\n            return\n          }\n          if (group){\n            let groupIsOpen = group.data.isOpen\n            this._blurRect()\n            if (!groupIsOpen){\n              this._addSelectedRect(group)\n            }\n            else {\n              this._addSelectedRect(rect)\n              this._commandRectDataPropUpdate(group, 'isOpen', true)\n            }\n          }\n          return\n        }\n        if (isShiftkey){\n          if (this._checkIsGroup(rect) && rect.data.isOpen){\n            return\n          }\n          if (group && !group.data.isOpen){\n            rect = group\n          }\n          if (rect.id in this.selectedRects){\n            this._removeSelectedRect(rect)\n          }\n          else  {\n            this._addSelectedRect(rect)\n          }\n        }\n      }\n      f()\n      if (isRest) {\n        this._updateCurrRectBySelected()\n      }\n    },\n    _blurRect (closeGroup = true) {\n      this._commandPropUpdate('selectedRects', {})\n      this._hoverOffRect()\n      let rect = this.objects[this.currRectId]\n      if (!rect) {\n        return\n      }\n      this._commandPropUpdate('currRectId', '')\n      if (this._checkIsTempGroup(rect)){\n        this._unbindTempGroup(rect)\n      }\n      else {\n        this._commandRectDataPropUpdate(rect, 'isEdit', false)\n      }\n      if (closeGroup){\n        //  rect \n        let group = this._getGroupByRect(rect)\n        if (group){\n          this._commandRectDataPropUpdate(group, 'isOpen', false)\n        }\n      }\n    },\n    _hoverRect (rect) {\n      rect = this._safeObject(rect)\n      if (this.mouse.ing){\n        return\n      }\n      let target = rect\n      let group = this._getGroupByRect(rect)\n      if (group && !group.data.isOpen){\n        target = group\n      }\n      if (this._checkIsGroup(rect) && rect.data.isOpen){\n        target = null\n      }\n      this._commandPropUpdate('hoverRectId', target ? target.id : '')\n    },\n    _hoverOffRect () {\n      this._commandPropUpdate('hoverRectId', '')\n    },\n    _getMousePoint (e) {\n      let $middle = document.querySelector('.proto-middle')\n      return {\n        left: e.clientX + $middle.scrollLeft - middleLeft,\n        top: e.clientY + $middle.scrollTop - middleTop,\n      }\n    },\n    _getRectBaseJsxProps (\n      rect, \n      scale = 1\n    ) {\n      rect = this._safeObject(rect)\n      let data = rect.data\n      let opacity = data.opacity / 100\n      if (rect.groupId) {\n        let parentOpacity = this.objects[rect.groupId].data.opacity / 100\n        opacity *= parentOpacity\n      }\n      opacity = tNumber(opacity, 2)\n      return {\n        style_left: tNumber(data.left * scale, 0) + 'px',\n        style_top: tNumber(data.top * scale, 0) + 'px',\n        style_width: tNumber(data.width * scale, 0) + 'px',\n        style_height: tNumber(data.height * scale, 0) + 'px',\n        'style_z-index': data.zIndex,\n        style_transform: `rotate(${data.angle}deg)`,\n        style_opacity: opacity,\n      }\n    },\n    _updateCurrPage (page) {\n      page = this._safeObject(page)\n      this._commandPropUpdate('currPageId', page.id)\n      this._commandObjectPropUpdate(this.currProject, 'currPageId', page.id)\n      this._updateCurrRect()\n    },\n    _updateCurrRect (rect) {\n      rect = this._safeObject(rect)\n      this._commandPropUpdate('currRectId', rect ? rect.id : '')\n    },\n    _updateHoverRect (rect) {\n      rect = this._safeObject(rect)\n      this._commandPropUpdate('hoverRectId', rect ? rect.id : '')\n    },\n    _flashHandler () {\n      this._commandPropUpdate('handler.show', false)\n      clearTimeout(this.handler.timer)\n      this.handler.timer = setTimeout(() => {\n        this._commandPropUpdate('handler.show', true)\n      }, 1000)\n    },\n    _getCircleSize () {\n      let mouse = this.mouse\n      let left = Math.min(mouse.startLeft, mouse.currLeft) \n      let top = Math.min(mouse.startTop, mouse.currTop) \n      let width = Math.abs(mouse.currLeft - mouse.startLeft)\n      let height = Math.abs(mouse.currTop - mouse.startTop)\n      return {\n        left,\n        top, \n        width,\n        height,\n        right: left + width,\n        bottom: top + height,\n        angle: 0,\n      }\n    },\n    _walkCurrPageRects (\n      f, \n      isDeep = false\n    ) {\n      this._linkedListWalk(this.currPage, 'rects', f, isDeep)\n    },\n    _focusRectWhenCircle () {\n      if (!this.currPage) {\n        return\n      }\n      let circle = this._getCircleSize()\n      circle = getRectInfo({\n        ...circle,\n        angle: 0,\n      })\n      this._walkCurrPageRects((rect => {\n        if (checkRectOverlap2(getRectInfo(rect.data, this.scale), circle)) {\n          this._focusRect(rect, {shiftKey: true}, false)\n        }\n      }))\n      this._updateCurrRectBySelected()\n    },\n    _showContextmenu (\n      e, \n      type\n    ) {\n      let height = 0\n      let actionTypes = []\n      let actions = []\n      if (type === 'rect-item') {\n        height = 310\n        actionTypes = [\n          'rect-',\n          'rect-',\n          'rect-',\n          'rect-',\n          null,\n          'rect-',\n          'rect-',\n          // 'rect-',\n          null,\n          'rect-',\n          'rect-',\n        ]\n      }\n      else if (type === 'rect') {\n        height = 340\n        actionTypes = [\n          'rect-',\n          'rect-',\n          'rect-',\n          'rect-',\n          null,\n          'rect-',\n          'rect-',\n          // 'rect-',\n          null,\n          'rect-',\n          'rect-',\n          null,\n          'rect-',\n          'rect-',\n        ]\n      }\n      else if (type === 'page') {\n        height = 200\n        actionTypes = [\n          'page-',\n          'page-',\n          'page-',\n        ]\n      }\n      else if (type === 'canvas') {\n        height = 40\n        actionTypes = [\n          'rect-',\n        ]\n      }\n      actions = actionTypes.map(actionType => {\n        if (!actionType) {\n          return actionType\n        }\n        return {\n          ...this._actionGet(actionType),\n          context: this,\n        }\n      })\n      this.$contextmenu(e, height, actions)\n    },\n    _updateCurrRectOpacity (opacity) {\n      if (this._checkIsTempGroup(this.currRect)) {\n        this._getRectsByGroup(this.currRect).forEach(rect => {\n          this._commandRectDataPropUpdate(rect, 'opacity', opacity)\n        })\n      }\n      this._commandRectDataPropUpdate(this.currRect, 'opacity', opacity)\n    },\n  }\n}","import {\n  getRectInfo,\n  tNumber,\n} from '@/core/base'\nexport default {\n  data () {\n    return {\n      // \n      guide: {\n        line: {\n          top: new Set(),\n          left: new Set(),\n        },\n        show: {\n          top: new Set(),\n          left: new Set(),\n        }\n      },\n    }\n  },\n  methods: {\n    // \n    _updateGuide () {\n      let currRectId = this.currRectId\n      let currRect = this.objects[currRectId]\n      this._clearGuideLine()\n      this._getRectsByPageDeep().forEach(rect => {\n        let rectId = rect.id\n        let groupId = rect.groupId\n        let tempGroupId = rect.tempGroupId\n        // \n        if (rectId === currRectId){\n          return\n        }\n        // \n        if ( (groupId === currRectId) || (tempGroupId === currRectId)){\n          return\n        }\n        // \n        if (this._checkIsGroup(rect) && this._getRectsByGroup(rect).includes(currRect)){\n          return\n        }\n        //  tempGroup \n        if (groupId){\n          if (this._getRectById(groupId).tempGroupId === currRectId){\n            return\n          }\n        }\n        let tempInfo = rect.tempData\n        this.guide.line.left\n          .add(tempInfo.rotateLeftTop.left)\n          .add(tempInfo.rotateRightTop.left)\n          .add(tempInfo.rotateRightBottom.left)\n          .add(tempInfo.rotateLeftBottom.left)\n          .add(tempInfo.center.left)\n        \n        this.guide.line.top\n          .add(tempInfo.rotateLeftTop.top)\n          .add(tempInfo.rotateRightTop.top)\n          .add(tempInfo.rotateRightBottom.top)\n          .add(tempInfo.rotateLeftBottom.top)\n          .add(tempInfo.center.top)\n      })\n    },\n    _checkRectPointGuide (\n      rect, \n      pointInfo, \n      mx, \n      my\n    ) {\n      let min = 5\n      let guideLeft = this.guide.line.left\n      let guideTop = this.guide.line.top\n      let guideShowLeft = this.guide.show.left\n      let guideShowTop = this.guide.show.top\n      let tempInfo = rect.tempData\n      let nowInfo = getRectInfo(rect.data)\n      let nowPoint = nowInfo[pointInfo.name]\n      let oldPoint = tempInfo[pointInfo.name]\n      let isStop = false\n      let newPoint = {\n        left: tNumber(oldPoint.left + mx),\n        top: tNumber(oldPoint.top + my),\n      }\n\n      //  has  1px \n      let checkInGuide = (guide, num) => {\n        for (let g of guide) {\n          if (Math.abs(g - num) <= 1){\n            return {\n              isIn: true,\n              value: g - num\n            }\n          }\n        }\n        return {\n          isIn: false,\n          value: 0,\n        } \n      }\n      if (pointInfo.left){\n        let isInGuide = checkInGuide(guideLeft, nowPoint.left)\n        if (isInGuide.isIn){\n          if (Math.abs(newPoint.left - nowPoint.left) <= min){\n            mx = nowPoint.left - oldPoint.left + isInGuide.value\n            isStop = true\n          }\n          guideShowLeft.add(nowPoint.left + isInGuide.value)\n        }\n      }\n      if (pointInfo.top){\n        let isInGuide = checkInGuide(guideTop, nowPoint.top)\n        if (isInGuide.isIn){\n          if (Math.abs(newPoint.top - nowPoint.top) <= min){\n            my = nowPoint.top - oldPoint.top + isInGuide.value\n            isStop = true\n          }\n          guideShowTop.add(nowPoint.top + isInGuide.value)\n        }\n      }\n      return [\n        mx,\n        my,\n        isStop,\n      ]\n    },\n    _checkGuideOnMove (\n      rect, \n      mx, \n      my\n    ) {\n      // \n      this._clearGuideShow()\n      ;['rotateLeftTop', 'rotateRightTop', 'rotateRightBottom', 'rotateLeftBottom', 'center'].forEach(name => {\n        let pointInfo = {\n          name,\n          top: true,\n          left: true,\n        }\n        ;[mx, my] = this._checkRectPointGuide(rect, pointInfo, mx, my)\n      })\n      return [mx, my]\n    },\n    _checkGuideOnResize (\n      rect, \n      dir, \n      mx, \n      my\n    ) {\n      this._clearGuideShow()\n      let angle = rect.data.angle\n      //  0 \n      if (angle === 0){\n        let pointInfo = {\n          'a': {\n            name: 'rotateLeftTop',\n            left: true,\n            top: true,\n          },\n          'b': {\n            name: 'rotateRightTop',\n            left: true,\n            top: true,\n          },\n          'c': {\n            name: 'rotateRightBottom',\n            left: true,\n            top: true,\n          },\n          'd': {\n            name: 'rotateLeftBottom',\n            left: true,\n            top: true,\n          },\n          'ab': {\n            name: 'rotateLeftTop',\n            left: false,\n            top: true,\n          },\n          'bc': {\n            name: 'rotateRightTop',\n            left: true,\n            top: false, \n          },\n          'cd': {\n            name: 'rotateRightBottom',\n            left: false,\n            top: true,\n          },\n          'ad': {\n            name: 'rotateLeftBottom',\n            left: true,\n            top: false, \n          },\n        }[dir]\n        ;[mx, my] = this._checkRectPointGuide(rect, pointInfo, mx, my)\n      }\n      return [mx, my]\n    },\n    _checkGuideOnRotate (\n      oldAngle, \n      nowAngle, \n      newAngle, \n      angleDiff\n    ) {\n      let min = 5\n      if (nowAngle % 90 === 0){\n        if (Math.abs(newAngle - nowAngle) <= min){\n          angleDiff = nowAngle - oldAngle\n        }\n        //  nowAngle 0 360 \n        if (nowAngle === 0){\n          if (Math.abs(newAngle - 360) <= min){\n            angleDiff = nowAngle - oldAngle\n          }\n        }\n      }\n      return angleDiff\n    },\n    _clearGuideLine () {\n      this.guide.line.left = new Set()\n      this.guide.line.top = new Set()\n    },\n    _clearGuideShow () {\n      this.guide.show.left = new Set()\n      this.guide.show.top = new Set()\n    },\n  }\n}","export default {\n  data () {\n    let me = this\n    return {\n      actionMap: {\n        'rect-': {\n          checkF: '_actionCanCurrRect',\n          doF: () => {\n            me._commandRectDataPropUpdate(this.objects[this.currRectId], 'isNameEdit', true)\n          }\n        },\n        'rect-': {\n          doF: '_actionRectSelectAll',\n          hotkey: 'command + a',\n        },\n        'rect-': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectCut',\n          hotkey: 'command + x',\n        },\n        'rect-': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectCopy',\n          hotkey: 'command + c'\n        },\n        'rect-': {\n          checkF: '_actionCanRectPaste',\n          doF: '_actionRectPaste',\n          hotkey: 'command + v'\n        },\n        'rect-': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectDelete',\n          hotkey: 'backspace'\n        },\n        'rect-': {\n          checkF: '_actionCanRectLock',\n          doF: '_actionRectLock',\n          hotkey: 'command + l'\n        },\n        'rect-': {\n          checkF: '_actionCanRectUnLock',\n          doF: '_actionRectUnLock',\n          hotkey: 'command + shift + l'\n        },\n        'rect-': {\n          checkF: '_actionCanGroup',\n          doF: '_actionGroup',\n          hotkey: 'command + g'\n        },\n        'rect-': {\n          checkF: '_actionCanUnGroup',\n          doF: '_actionUnGroup',\n          hotkey: 'command + shift + g'\n        },\n        'rect-': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectMoveUp',\n          hotkey: 'command + alt + up',\n        },\n        'rect-': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectMoveDown',\n          hotkey: 'command + alt + down',\n        },\n        'rect-': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectMoveTop',\n          hotkey: 'command + shift + up',\n        },\n        'rect-': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectMoveBottom',\n          hotkey: 'command + shift + down',\n        },\n        'rect-keyupMove': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectKeyupMove',\n          hotkey: 'up',\n        },\n        'rect-keydownMove': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectKeydownMove',\n          hotkey: 'down',\n        },\n        'rect-keyleftMove': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectKeyleftMove',\n          hotkey: 'left',\n        },\n        'rect-keyrightMove': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectKeyrightMove',\n          hotkey: 'right',\n        },\n        // page\n        'page-': {\n          checkF: '',\n          doF: () => {\n            me._commandObjectDataPropUpdate(me.currPage, 'isNameEdit', true) \n          },\n        },\n        'page-': {\n          checkF: '',\n          doF: () => {\n            me._actionPageCreate(me.currPage.id)\n          },\n        },\n        'page-': {\n          checkF: '',\n          doF: '_actionPageDelete',\n        },\n        // sys\n        'sys-': {\n          checkF: () => {\n            return !me.mouse.ing && \n              me._historyCanBack()\n          },\n          doF: '_historyBack',\n          hotkey: 'command + z',\n        },\n        'sys-': {\n          checkF: () => {\n            return !me.mouse.ing && \n              me._historyCanGo()\n          },\n          doF: '_historyGo',\n          hotkey: 'command + shift + z',\n        },\n      }\n    }\n  },\n  methods: {\n    _actionGetInfo () {\n      let rect = this.objects[this.currRectId]\n      let isTempGroup = rect && this._checkIsTempGroup(rect)\n      let isGroup = rect && this._checkIsGroup(rect)\n      return {\n        rect,\n        isTempGroup,\n        isGroup,\n      }\n    },\n    // page\n    _actionPageCreate (parentId = this.currProjectId) {\n      let page = this._createPage(parentId)\n      this._commandObjectDataPropUpdate(page, 'isNameEdit', true)\n      this._updateCurrPage(page)\n      this._historyPush()\n    },\n    _actionPageDelete () {\n      this._removePage()\n      this._historyPush()\n    },\n    // rect\n    _actionRectKeyupMove () {\n      this._updateRectTempData(this.currRectId)\n      this._move(this.currRectId, 0, -1, false)\n      this._historyPush()\n    },\n    _actionRectKeydownMove () {\n      this._updateRectTempData(this.currRectId)\n      this._move(this.currRectId, 0, 1, false)\n      this._historyPush()\n    },\n    _actionRectKeyleftMove () {\n      this._updateRectTempData(this.currRectId)\n      this._move(this.currRectId, -1, 0, false)\n      this._historyPush()\n    },\n    _actionRectKeyrightMove () {\n      this._updateRectTempData(this.currRectId)\n      this._move(this.currRectId, 1, 0, false)\n      this._historyPush()\n    },\n    _actionRectSelectAll () {\n      this._blurRect()\n      this._walkCurrPageRects((rect) => {\n        this._focusRect(rect, {shiftKey: true}, false)\n      })\n      this._updateCurrRectBySelected()\n    },\n    _actionCanGroup () {\n      return this._actionGetInfo().isTempGroup\n    },\n    _actionGroup () {\n      let currRect = this.objects[this.currRectId]\n      let newGroup = this._createRect('group')\n      let rects = this._getRectsByRectDeep(currRect)\n      this._bindGroup(newGroup, rects)\n      //  selected\n      rects.forEach(rect => {\n        this._removeSelectedRect(rect)\n      })\n      this._addSelectedRect(newGroup)\n      this._updateCurrRectBySelected()\n      this._historyPush()\n    },\n    _actionCanUnGroup () {\n      return this._actionGetInfo().isGroup\n    },\n    _actionUnGroup () {\n      let currRect = this.objects[this.currRectId]\n      let rects = this._getRectsByRectDeep(currRect)\n      this._unbindGroup(currRect)\n      //  selected\n      rects.forEach(rect => {\n        this._addSelectedRect(rect)\n      })\n      this._removeSelectedRect(currRect)\n      this._updateCurrRectBySelected()\n      this._historyPush()\n    },\n    _actionRectDelete () {\n      let currRect = this.objects[this.currRectId]\n      this._getRectsByRectDeep(currRect).forEach(rect => {\n        this._removeRectById(rect.id)\n      })\n      this._updateCurrRect()\n      this._historyPush()\n    },\n    _actionRectCopy () {\n      this._commandPropUpdate('clipboard.count', 0)\n      this._commandPropUpdate('clipboard.data',\n        this._getUnLockRectsBySelected().map(rect => this._cloneRectDeep(rect))\n      )\n    },\n    _actionRectCut () {\n      this._actionRectCopy()\n      this._actionRectDelete()\n    },\n    _actionCanRectPaste () {\n      return this.clipboard.data.length > 0\n    },\n    _actionRectPaste () {\n      let pasteCount = ++ this.clipboard.count\n      let moveDis = pasteCount * 20\n      this._clearSelectedRects()\n      // todo\n      this.clipboard.data.map(config => {\n        let rect = this._createRectByConfig(config)\n        this._addSelectedRect(rect)\n        return rect\n      })\n      this._updateCurrRectBySelected()\n      this._updateRectTempData(this.currRectId)\n      this._move(this.currRectId, moveDis, moveDis)\n      this._clearGuideShow()\n      this._historyPush()\n    },\n    _actionCanCurrRect () {\n      return this.currRectId\n    },\n    _actionRectMoveUp () {\n      let rects = []\n      if (this.tempGroupId){\n        rects = this._getRectsByGroup(this.currRectId)\n      }\n      else {\n        rects = [this.objects[this.currRectId]]\n      }\n      rects.forEach(rect => {\n        let parent = this.objects[rect.parentId]\n        this._linkedListMoveUp(parent, rect)\n      })\n      this._historyPush()\n    },\n    _actionRectMoveDown () {\n      let rects = []\n      if (this.tempGroupId){\n        rects = this._getRectsByGroup(this.currRectId)\n      }\n      else {\n        rects = [this.objects[this.currRectId]]\n      }\n      rects.forEach(rect => {\n        let parent = this.objects[rect.parentId]\n        this._linkedListMoveDown(parent, rect)\n      })\n      this._historyPush()\n    },\n    _actionRectMoveTop () {\n      let rects = []\n      if (this.tempGroupId){\n        rects = this._getRectsByGroup(this.currRectId)\n      }\n      else {\n        rects = [this.objects[this.currRectId]]\n      }\n      rects.forEach(rect => {\n        let parent = this.objects[rect.parentId]\n        this._linkedListMoveTop(parent, rect)\n      })\n      this._historyPush()\n    },\n    _actionRectMoveBottom () {\n      let rects = []\n      if (this.tempGroupId){\n        rects = this._getRectsByGroup(this.currRectId)\n      }\n      else {\n        rects = [this.objects[this.currRectId]]\n      }\n      rects.forEach(rect => {\n        let parent = this.objects[rect.parentId]\n        this._linkedListMoveBottom(parent, rect)\n      })\n      this._historyPush()\n    },\n    _actionCanRectLock () {\n      return this._getUnLockRectsBySelected().length\n    },\n    _actionCanRectUnLock () {\n      return this._getLockRectsBySelected().length\n    },\n    _actionRectLock () {\n      for (let rect in this.selectedRects) {\n        rect = this._safeObject(rect)\n        this._commandRectDataPropUpdate(rect, 'isLock', true)\n      }\n      this._updateCurrRectBySelected()\n      this._historyPush()\n    },\n    _actionRectUnLock () { \n      for (let rect in this.selectedRects) {\n        rect = this._safeObject(rect)\n        this._commandRectDataPropUpdate(rect, 'isLock', false)\n      }\n      this._updateCurrRectBySelected()\n      this._historyPush()\n    },\n    _actionCanRectAlign () {\n      return this._actionGetInfo().isTempGroup\n    },\n    // \n    _actionRectAlignLeft () {\n      this._updateRectTempData(this.currRect)\n      let tempGroupLeft = this.currRect.tempData.left\n      this._getRectsByGroup(this.currRect).forEach(rect => {\n        let moveLeft = tempGroupLeft - rect.tempData.minRotateLeft\n        this._move(rect, moveLeft, 0, false)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    // \n    _actionRectAlignLeftRight () {\n      this._updateRectTempData(this.currRect)\n      let tempGroupCenterLeft = this.currRect.tempData.center.left\n      this._getRectsByGroup(this.currRect).forEach(rect => {\n        let moveLeft = tempGroupCenterLeft - rect.tempData.center.left\n        this._move(rect, moveLeft, 0, false)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    // \n    _actionRectAlignRight () {\n      this._updateRectTempData(this.currRect)\n      let tempGroupRight = this.currRect.tempData.right\n      this._getRectsByGroup(this.currRect).forEach(rect => {\n        let moveLeft = tempGroupRight - rect.tempData.maxRotateLeft\n        this._move(rect, moveLeft, 0, false)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    // \n    _actionRectAlignTop () {\n      this._updateRectTempData(this.currRect)\n      let tempGroupTop = this.currRect.tempData.top\n      this._getRectsByGroup(this.currRect).forEach(rect => {\n        let moveTop = tempGroupTop - rect.tempData.minRotateTop\n        this._move(rect, 0, moveTop, false)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    // \n    _actionRectAlignTopBottom () {\n      this._updateRectTempData(this.currRect)\n      let tempGroupCenterTop = this.currRect.tempData.center.top\n      this._getRectsByGroup(this.currRect).forEach(rect => {\n        let moveTop = tempGroupCenterTop - rect.tempData.center.top\n        this._move(rect, 0, moveTop, false)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    // \n    _actionRectAlignBottom () {\n      this._updateRectTempData(this.currRect)\n      let tempGroupBottom = this.currRect.tempData.bottom\n      this._getRectsByGroup(this.currRect).forEach(rect => {\n        let moveTop = tempGroupBottom - rect.tempData.maxRotateTop\n        this._move(rect, 0, moveTop, false)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    // \n    _actionCanRectEqualSpace () {\n      let isTempGroup = this._actionGetInfo().isTempGroup\n      if (!isTempGroup) {\n        return false\n      }\n      let rects = this._getRectsByGroup(this.currRect)\n      return rects.length > 2\n    },\n    _actionRectEqualSpaceX () {\n      let tempGroupWidth = this.currRect.data.width\n      let rects = this._getRectsByGroup(this.currRect)\n      let rectsWidth = 0\n      rects.forEach(rect => {\n        rectsWidth += (rect.tempData.maxRotateLeft - rect.tempData.minRotateLeft)\n      })\n      // \n      let perSpace = (tempGroupWidth - rectsWidth) / (rects.length - 1)\n      let sortRects = rects\n        .sort((a, b) => a.tempData.minRotateLeft - b.tempData.minRotateLeft )\n      // \n      sortRects.slice(0).forEach( (rect, i) => {\n        if (i === 0) {\n          return\n        }\n        let moveLeft = sortRects[i - 1].tempData.maxRotateLeft +\n          perSpace - \n          rect.tempData.minRotateLeft\n        this._move(rect, moveLeft, 0, false)\n        this._updateRectTempData(rect)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    _actionRectEqualSpaceY () {\n      let tempGroupHeight = this.currRect.data.height\n      let rects = this._getRectsByGroup(this.currRect)\n      let rectsHeight = 0\n      rects.forEach(rect => {\n        rectsHeight += (rect.tempData.maxRotateTop - rect.tempData.minRotateTop)\n      })\n      // \n      let perSpace = (tempGroupHeight - rectsHeight) / (rects.length - 1)\n      let sortRects = rects\n        .sort((a, b) => a.tempData.minRotateTop - b.tempData.minRotateTop )\n      // \n      sortRects.slice(0).forEach( (rect, i) => {\n        if (i === 0) {\n          return\n        }\n        let moveTop = sortRects[i - 1].tempData.maxRotateTop +\n          perSpace - \n          rect.tempData.minRotateTop\n        this._move(rect, 0, moveTop, false)\n        this._updateRectTempData(rect)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    _actionGet (type) {\n      let action = this.actionMap[type]\n      let checkF = action.checkF || (() => true)\n      if (typeof checkF === 'string') {\n        checkF = this[checkF]\n      }\n      let doF = action.doF || (() => {})\n      if (typeof doF === 'string') {\n        doF = this[doF]\n      }\n      let text = type.split('-')[1] || 'unknow'\n      return {\n        ...action,\n        doF,\n        checkF,\n        text,\n      }\n    },\n    _actionSetHotKey () {\n      for (let type in this.actionMap) {\n        let {checkF, doF, hotkey} = this._actionGet(type)\n        if (hotkey) {\n          this._hotkey(hotkey, (e) => {\n            if (checkF.call(this)) {\n              e.preventDefault()\n              doF.call(this)\n            }\n          })\n        }\n      }\n    }\n  },\n  mounted () {\n    this._actionSetHotKey()\n  }\n}","import {\n  middleLeft,\n  middleTop,\n  tNumber,\n} from '@/core/base'\nimport event from '@/core/event'\nexport default {\n  methods: {\n  },\n  created () {\n    let me = this\n    let mouse = this.mouse\n    let mousedown = (e) => {\n      event.$emit('windowMouseDown', e)\n    }\n    let mousemove = (e) => {\n      let currRect = this.objects[this.currRectId]\n      if (!mouse.ing){\n        return\n      }\n      mouse.e = e\n      let scale = this.scale\n      let mousePoint = this._getMousePoint(e)\n      let left = mouse.currLeft = mousePoint.left \n      let top = mouse.currTop = mousePoint.top\n      let eventType = mouse.eventType\n      let mx = (left - mouse.startLeft) / scale\n      let my = (top - mouse.startTop) / scale\n\n      if (eventType === 'resize'){\n        me._resize(mx, my)\n      }\n      else if (eventType === 'rotate'){\n        let mousePoint = {\n          left: mouse.currLeft,\n          top: mouse.currTop,\n        }\n        me._rotate(mousePoint)\n      }\n      else if (eventType === 'move'){\n        me._move(currRect, mx, my)\n      }\n      else if (eventType === 'create'){\n        if ( (e.clientX > middleLeft) && (e.clientY > middleTop) ){\n          let createType = mouse.createType\n          let data = this.rectConfig[createType]\n          let rect = this._createRect(createType)\n          this._updateRectTempData(rect)\n          this._moveTo(rect, \n            tNumber(left - data.width / 2),\n            tNumber(top - data.height / 2)\n          )\n          mouse.eventType = 'move'\n          mouse.startLeft = left\n          mouse.startTop = top\n          me._focusRect(rect, e)\n        }\n      }\n    }\n    let mouseup = () => {\n      if (!mouse.ing){\n        return\n      }\n      // circle \n      if (mouse.eventType === 'circle'){\n        this._focusRectWhenCircle()\n      }\n      mouse.ing = false\n      mouse.eventType = ''\n      mouse.e = {}\n      this._clearGuideShow()\n      this._historyPush()\n    }\n    this.windowEventAdd('mousedown', mousedown)\n    this.windowEventAdd('mousemove', mousemove)\n    this.windowEventAdd('mouseup', mouseup)\n    // \n    this.windowEventAdd('contextmenu', (e) => {\n      e.preventDefault()\n    })\n    // event\n    event.$on('windowMouseDown', (e) => {\n      let mousePoint = this._getMousePoint(e)\n      mouse.startLeft = mouse.currLeft = mousePoint.left\n      mouse.startTop = mouse.currTop = mousePoint.top\n      if (!this.currRectId && this.mouse.eventType === 'move') {\n        mouse.ing = false\n      }\n      else {\n        mouse.ing = true\n      }\n    })\n  },\n  mounted () {\n    let $middle = this.$refs.middle\n    $middle.addEventListener('scroll', () => {\n      this._renderRule()\n    })\n  }\n}","// \n// https://github.com/jaywcjlove/hotkeys/blob/master/src/var.js\nlet isff = \n  typeof navigator !== 'undefined' ? \n  navigator.userAgent.toLowerCase().indexOf('firefox') > 0 : \n  false\n// Special Keys\nlet keyMap = {\n  backspace: 8,\n  tab: 9,\n  clear: 12,\n  enter: 13,\n  return: 13,\n  esc: 27,\n  escape: 27,\n  space: 32,\n  left: 37,\n  up: 38,\n  right: 39,\n  down: 40,\n  del: 46,\n  delete: 46,\n  ins: 45,\n  insert: 45,\n  home: 36,\n  end: 35,\n  pageup: 33,\n  pagedown: 34,\n  capslock: 20,\n  '': 20,\n  ',': 188,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '-': isff ? 173 : 189,\n  '=': isff ? 61 : 187,\n  ';': isff ? 59 : 186,\n  '\\'': 222,\n  '[': 219,\n  ']': 221,\n  '\\\\': 220,\n}\n// Modifier Keys\nlet modifier = {\n  // shiftKey\n  '': 16,\n  shift: 16,\n  // altKey\n  '': 18,\n  alt: 18,\n  option: 18,\n  // ctrlKey\n  '': 17,\n  ctrl: 17,\n  control: 17,\n  // metaKey\n  '': 91,\n  cmd: 91,\n  command: 91,\n}\nlet code = (x) => {\n  if (typeof x === 'number') {\n    return x\n  }\n  x = x.trim()\n  return keyMap[x.toLowerCase()] ||\n    modifier[x.toLowerCase()] ||\n    x.toUpperCase().charCodeAt(0)\n}\nexport default {\n  data () {\n    return {\n      hotkey: {\n        data: {},\n        disabled: false,\n      }\n    }\n  },\n  methods: {\n    _hotkey (\n      hotkey, \n      keydown = () => {}, \n      keyup = () => {},\n    ) {\n      this.hotkey.data[this._hotkeyCode(hotkey.split('+'))] = {\n        hotkey,\n        keydown,\n        keyup,\n      }\n    },\n    _hotkeyOff () {\n      this.hotkey.disabled = true\n    },\n    _hotkeyOn () {\n      this.hotkey.disabled = false\n    },\n    _hotkeyCode (keys) {\n      return keys.map(key => code(key)).sort().join('+')\n    },\n    _hotkeyEvent (e) {\n      if (e.target.tagName.toLowerCase() === 'input') {\n        return\n      }\n      if (this.hotkey.disabled) {\n        return\n      }\n      let modifierInfo = {\n        ctrl: e.ctrlKey,\n        alt: e.altKey,\n        shift: e.shiftKey,\n        command: e.metaKey,\n      }\n      let modifiers = []\n      for (let mk in modifierInfo) {\n        if (modifierInfo[mk]) {\n          modifiers.push(mk)\n        }\n      }\n      let eventType = e.type\n      let hotkeyCode = this._hotkeyCode([e.keyCode, ...modifiers])\n      if (hotkeyCode in this.hotkey.data) {\n        let hotkeyObject = this.hotkey.data[hotkeyCode]\n        hotkeyObject[eventType](e)\n      }\n    },\n  },\n  mounted () {\n    this.windowEventAdd('keydown', (e) => {\n      this._hotkeyEvent(e)\n    })\n  }\n}","export default {\n  methods: {\n    _onPageShow () {},\n    _onPageHide () {},\n  },\n  watch: {\n    '$route' (from ,to) {\n      if (from.path === to.path) {\n        this._onPageShow()\n      }\n      else {\n        this._onPageHide()\n      }\n    }\n  },\n  mounted () {\n    this._onPageShow()\n  },\n  beforeDestroy () {\n    this._onPageHide()\n  }\n}","<style lang=\"scss\">\n@import './index.scss';\n</style>\n<script>\nimport historyMixin from  './mixin/history'\nimport commandMixin from  './mixin/command'\nimport lindedListMixin from './mixin/linked-list'\nimport windowEventRegMixin from './mixin/window-event-reg'\nimport dbMixin from './mixin/db'\nimport resizeMixin from './mixin/resize'\nimport rotateMixin from './mixin/rotate'\nimport moveMixin from './mixin/move'\nimport renderMixin from './mixin/render'\nimport dataMixin from  './mixin/data'\nimport guideMixin from './mixin/guide'\nimport actionMixin from './mixin/action'\nimport windowEventMixin from './mixin/window-event'\nimport hotkeyMixin from './mixin/hotkey'\nimport pageHookMixin from './mixin/pageHook'\nexport default {\n  name: 'design',\n  mixins: [\n    dbMixin,\n    resizeMixin,\n    rotateMixin,\n    moveMixin,\n    renderMixin,\n    dataMixin,\n    guideMixin,\n    historyMixin,\n    commandMixin,\n    actionMixin,\n    lindedListMixin,\n    windowEventRegMixin,\n    windowEventMixin,\n    hotkeyMixin,\n    pageHookMixin,\n  ],\n  methods: {\n  },\n  render (h) {\n    this.renderHook\n    return this._renderMain(h)\n  }\n}\n</script>","import mod from \"-!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.2.1.3@thread-loader/dist/cjs.js!../../../node_modules/.8.1.0@babel-loader/lib/index.js!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.2.1.3@thread-loader/dist/cjs.js!../../../node_modules/.8.1.0@babel-loader/lib/index.js!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Spectre from '@/components/spectre/index'\nimport 'vue-awesome/icons'\nimport Icon from 'vue-awesome/components/Icon'\nimport Design from '@/components/design/index'\nVue.use(Spectre)\nVue.use(VueRouter)\nVue.component('v-icon', Icon)\nVue.config.productionTip = false\nconst routes = [\n  {\n    path: '/', \n    component: Design,\n    name: 'design',\n  },\n]\nconst router = new VueRouter({\n  routes,\n})\nnew Vue({\n  router\n}).$mount('#app')","import mod from \"-!../../../node_modules/.0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/.3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/.15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/.8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/.0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/.3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/.15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/.8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}